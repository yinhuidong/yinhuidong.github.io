<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JAVA-SE核心基础篇 | 二十</title><meta name="keywords" content="JAVA基础"><meta name="author" content="二十"><meta name="copyright" content="二十"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JAVA-SE核心基础篇">
<meta property="og:type" content="article">
<meta property="og:title" content="JAVA-SE核心基础篇">
<meta property="og:url" content="https://yinhuidong.github.io/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/JAVA-SE%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AF%87/index.html">
<meta property="og:site_name" content="二十">
<meta property="og:description" content="JAVA-SE核心基础篇">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yinhuidong.github.io/images/cover/JAVA.png">
<meta property="article:published_time" content="2022-01-12T00:19:55.241Z">
<meta property="article:modified_time" content="2022-01-12T00:19:55.243Z">
<meta property="article:author" content="二十">
<meta property="article:tag" content="JAVA基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yinhuidong.github.io/images/cover/JAVA.png"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="https://yinhuidong.github.io/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/JAVA-SE%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AF%87/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":800},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JAVA-SE核心基础篇',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-12 08:19:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><meta name="referrer" content="no-referrer" /><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">119</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%85%B3%E4%BA%8E%E6%88%91/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/cover/JAVA.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">二十</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/%E5%85%B3%E4%BA%8E%E6%88%91/"><i class="fa-fw fas fa-user"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JAVA-SE核心基础篇</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-12T00:19:55.241Z" title="发表于 2022-01-12 08:19:55">2022-01-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-12T00:19:55.243Z" title="更新于 2022-01-12 08:19:55">2022-01-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JAVA%E5%9F%BA%E7%A1%80/">JAVA基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">32.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>138分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JAVA-SE核心基础篇"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一，java语言概述"><a href="#一，java语言概述" class="headerlink" title="一，java语言概述"></a>一，java语言概述</h1><h2 id="1-常用Dos命令"><a href="#1-常用Dos命令" class="headerlink" title="1.常用Dos命令"></a>1.常用Dos命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dir：列出当前目录下的文件以及文件夹</span><br><span class="line">md：创建目录</span><br><span class="line">rd：删除目录（空目录）</span><br><span class="line">cd：进入指定目录</span><br><span class="line">cd..:退回上一级目录</span><br><span class="line">cd/:退回根目录</span><br><span class="line">del:删除文件</span><br><span class="line">echo 1 &gt;java.txt:创建文件</span><br><span class="line">exit：退出</span><br></pre></td></tr></table></figure>

<h2 id="2，java语言运行机制及运行过程"><a href="#2，java语言运行机制及运行过程" class="headerlink" title="2，java语言运行机制及运行过程"></a>2，java语言运行机制及运行过程</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Java语言特点：跨平台性</span><br><span class="line">Java两种核心机制：</span><br><span class="line">Java虚拟机（jvm）：Java程序运行环境</span><br><span class="line">垃圾回收机制（gc）</span><br></pre></td></tr></table></figure>

<h2 id="3-jdk，jre，jvm的关系"><a href="#3-jdk，jre，jvm的关系" class="headerlink" title="3.jdk，jre，jvm的关系"></a>3.jdk，jre，jvm的关系</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jdk：Java开发工具包。（Java开发工具包和jre）</span><br><span class="line">jre：Java运行环境。（包括jvm）</span><br></pre></td></tr></table></figure>

<h2 id="4-环境变量的配置"><a href="#4-环境变量的配置" class="headerlink" title="4 环境变量的配置"></a>4 环境变量的配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">为什么要添加环境变量？</span><br><span class="line">让Java工具包在任何路径下都可以使用。</span><br><span class="line">高级系统设置-环境变量:</span><br><span class="line">系统变量-path（window系统执行命令时需要搜索的路径）</span><br><span class="line">加上 jdk的安装路径\bin</span><br><span class="line">开发时的配置(推荐)：</span><br><span class="line">在系统变量里面新建变量JAVA_HOME 值为jdk安装路径。</span><br><span class="line">然后再classpath变量中加入：%JAVA_HOME%\bin</span><br></pre></td></tr></table></figure>

<h2 id="5-HelloWorld"><a href="#5-HelloWorld" class="headerlink" title="5.HelloWorld"></a>5.HelloWorld</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如何显示记事本后缀：</span><br><span class="line">我的电脑-查看-文件拓展名</span><br><span class="line">Java代码写在.java结尾的文件中。（源文件）</span><br><span class="line">通过javac命令对该Java文件进行编译。（字节码文件）</span><br><span class="line">通过Java命令对。class文件进行运行。</span><br></pre></td></tr></table></figure>

<h2 id="6-注释"><a href="#6-注释" class="headerlink" title="6 注释"></a>6 注释</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.单行注释//</span><br><span class="line">2.多行注释/**/</span><br><span class="line">3.文档注释/**  */</span><br><span class="line">注释内容可以被jdk提供的工具javadoc解析，生成一套以网页文件形式体现的该程序的说明文档。</span><br></pre></td></tr></table></figure>

<h1 id="二，java基本语法"><a href="#二，java基本语法" class="headerlink" title="二，java基本语法"></a>二，java基本语法</h1><h2 id="1-关键字和保留字"><a href="#1-关键字和保留字" class="headerlink" title="1.关键字和保留字"></a>1.关键字和保留字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">关键字：在Java语言里有特殊含义的字符串。</span><br><span class="line">保留字：目前没用到，以后的版本可能会用到。</span><br></pre></td></tr></table></figure>

<h2 id="2-标识符"><a href="#2-标识符" class="headerlink" title="2.标识符"></a>2.标识符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">标识符：自己起的名字。包括：包名，类名。。。</span><br><span class="line">0-9 _ $</span><br><span class="line">数字不可以开头</span><br><span class="line">不能使用关键字和保留字，可以包含</span><br><span class="line">严格区分大小写</span><br><span class="line">不能包含空格</span><br></pre></td></tr></table></figure>

<h2 id="3-变量"><a href="#3-变量" class="headerlink" title="3.变量"></a>3.变量</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">变量</span><br><span class="line">变量：内存中的一个存储区域。</span><br><span class="line">	可以在同一类型范围内变化。</span><br><span class="line">包含：类型，名，存储的值。</span><br><span class="line">作用：内存中保存数据。</span><br><span class="line">	先声明，后使用。</span><br><span class="line">	同一个作用域内，不能定义重复的变量名。</span><br><span class="line">变量分类：按照数据类型分类</span><br><span class="line">	基本数据类型：数值（整数，浮点数），字符，布尔</span><br><span class="line">	引用数据类型：类（包括字符串），接口，数组</span><br><span class="line">变量分类：按照声明位置不同分类</span><br><span class="line">	成员变量：（类内，方法体外）</span><br><span class="line">		包括：实例变量（不以<span class="keyword">static</span>修饰），类变量（以<span class="keyword">static</span>修饰）</span><br><span class="line">	局部变量：（方法体内）</span><br><span class="line">		包括：形参，方法局部变量，代码块局部变量</span><br><span class="line"><span class="number">1.</span>整型：<span class="keyword">byte</span>,<span class="keyword">short</span>,<span class="keyword">int</span>,<span class="keyword">long</span> 字节(<span class="number">1.2</span><span class="number">.4</span><span class="number">.8</span>)<span class="number">1</span>字节=8bit</span><br><span class="line">	*<span class="keyword">long</span>型变量的声明必须以l或L结尾</span><br><span class="line"><span class="number">2.</span>浮点型：<span class="keyword">float</span>（<span class="number">4</span>），<span class="keyword">double</span>（<span class="number">8</span>）</span><br><span class="line">	<span class="keyword">float</span>：单精度浮点数，精确<span class="number">7</span>位</span><br><span class="line">	*Java的浮点型常量默认为<span class="keyword">double</span>类型，声明<span class="keyword">float</span>常量，后加f或F。</span><br><span class="line"><span class="number">3.</span>字符类型 <span class="keyword">char</span>（<span class="number">2</span>）</span><br><span class="line">	表示方式：<span class="number">1.</span>声明一个字符，<span class="number">2.</span>定义一个转义符。</span><br><span class="line">	<span class="keyword">char</span> c=<span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="number">4.</span>布尔类型	</span><br><span class="line">	<span class="keyword">boolean</span>:<span class="keyword">true</span>,<span class="keyword">false</span></span><br><span class="line">	双引号里面如果想要使用双引号，前面需要加\</span><br><span class="line">	<span class="keyword">char</span>+<span class="keyword">int</span>=<span class="keyword">int</span></span><br><span class="line">基本数据类型之间的运算</span><br><span class="line"><span class="number">1.</span>自动类型提升</span><br><span class="line">    <span class="keyword">byte</span>+<span class="keyword">int</span>=<span class="keyword">int</span></span><br><span class="line">	Java支持自动向上转型。</span><br><span class="line">	当<span class="keyword">byte</span>，<span class="keyword">char</span>，<span class="keyword">short</span>三种变量做运算时，结果为<span class="keyword">int</span>。</span><br><span class="line"><span class="number">2.</span>强制类型转换</span><br><span class="line">	向下转型</span><br><span class="line">	强制类型转换符（<span class="keyword">int</span>），可能会损失精度。</span><br><span class="line">	*<span class="keyword">long</span>赋值的数后面不加l可能会导致编译失败，过大的整数。</span><br><span class="line">整型常量默认类型为<span class="keyword">int</span>，浮点型默认常量为<span class="keyword">double</span>。</span><br><span class="line">String类型变量的使用</span><br><span class="line">String属于引用类型。</span><br><span class="line">String可以和所有类型做运算。</span><br></pre></td></tr></table></figure>

<h2 id="4-运算符"><a href="#4-运算符" class="headerlink" title="4.运算符"></a>4.运算符</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">算术运算符</span><br><span class="line">	a=2;b=++a;=&gt;a=3,b=3;</span><br><span class="line">	a=2;b=a++;=&gt;a=3,b=2;</span><br><span class="line">赋值运算符</span><br><span class="line">比较运算符</span><br><span class="line">逻辑运算符</span><br><span class="line">	&amp;和&amp;&amp;的异同：</span><br><span class="line">	1）都表示且</span><br><span class="line">	2）&amp;&amp;短路且</span><br><span class="line">位运算符</span><br><span class="line">三元运算符</span><br><span class="line">三元运算符的嵌套：</span><br><span class="line">	int sum=(a&gt;b):a?((a==b)?&quot;a==b&quot;:b)</span><br><span class="line">	另一个三目运算符作为表达式出现</span><br></pre></td></tr></table></figure>

<h2 id="5-流程控制"><a href="#5-流程控制" class="headerlink" title="5.流程控制"></a>5.流程控制</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">顺序结构</span><br><span class="line">分支结构</span><br><span class="line">	<span class="keyword">if</span>-<span class="keyword">else</span></span><br><span class="line">	<span class="keyword">switch</span>-<span class="function"><span class="keyword">case</span></span></span><br><span class="line"><span class="function">	<span class="title">switch</span><span class="params">(表达式)</span></span>&#123;</span><br><span class="line">		<span class="keyword">case</span> 常量<span class="number">1</span>：</span><br><span class="line">			执行语句；</span><br><span class="line">			<span class="keyword">break</span>；</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			执行语句；</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">switch</span>结构中的表达式，只能是如下<span class="number">6</span>种数据类型：</span><br><span class="line">	<span class="keyword">byte</span>，<span class="keyword">short</span>，<span class="keyword">char</span>，<span class="keyword">int</span>，String，枚举。</span><br><span class="line">例题：年份累加</span><br><span class="line">循环结构：</span><br><span class="line">	<span class="keyword">for</span></span><br><span class="line">	<span class="keyword">while</span></span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line"></span><br><span class="line">	&#125;<span class="keyword">while</span>（）；</span><br><span class="line">键盘输入：</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line">Scanner sc=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line"><span class="keyword">int</span> a=sc.nextInt();</span><br><span class="line">String b=sc.next();</span><br></pre></td></tr></table></figure>

<h1 id="三，数组"><a href="#三，数组" class="headerlink" title="三，数组"></a>三，数组</h1><h2 id="1-一维数组"><a href="#1-一维数组" class="headerlink" title="1.一维数组"></a>1.一维数组</h2><h3 id="1）数组默认值"><a href="#1）数组默认值" class="headerlink" title="1）数组默认值"></a>1）数组默认值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">数组元素的默认初始化值：</span><br><span class="line">整型数组元素默认值为0</span><br><span class="line">浮点型数组元素默认值0.0</span><br><span class="line">布尔型数组元素默认值false</span><br><span class="line">字符型数组元素默认值Ascii值位0的元素</span><br><span class="line">引用数据类型数组元素默认值null</span><br></pre></td></tr></table></figure>

<h3 id="2）一位数组内存解析"><a href="#2）一位数组内存解析" class="headerlink" title="2）一位数组内存解析"></a>2）一位数组内存解析</h3><p><img src="https://img-blog.csdnimg.cn/20201006214552399.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<p><img src="https://img-blog.csdnimg.cn/20201006214536655.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<hr>
<h2 id="2-二维数组"><a href="#2-二维数组" class="headerlink" title="2.二维数组"></a>2.二维数组</h2><h3 id="1）二维数组的使用"><a href="#1）二维数组的使用" class="headerlink" title="1）二维数组的使用"></a>1）二维数组的使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 静态初始化</span></span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[][] &#123; &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;, &#123; <span class="number">4</span>, <span class="number">5</span> &#125;, &#123; <span class="number">6</span>, <span class="number">8</span>, <span class="number">7</span> &#125; &#125;;</span><br><span class="line"><span class="comment">// 动态初始化1</span></span><br><span class="line"><span class="keyword">int</span>[][] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">2</span>];</span><br><span class="line"><span class="comment">// 动态初始化2</span></span><br><span class="line"><span class="keyword">int</span>[][] arr2 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][];</span><br><span class="line"><span class="comment">// 调用arr2</span></span><br><span class="line">arr2[<span class="number">1</span>] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];<span class="comment">// 先指定列的个数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr2[<span class="number">1</span>].length; i++) &#123;</span><br><span class="line">	System.out.println(arr2[<span class="number">1</span>][i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 如何获取数组的长度</span></span><br><span class="line">System.out.println(arr.length);<span class="comment">// 3</span></span><br><span class="line">System.out.println(arr[<span class="number">0</span>].length);<span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 二维数组元素的调用</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr[i].length; j++) &#123;</span><br><span class="line">		System.out.println(arr[i][j]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2）二维数组默认初始值"><a href="#2）二维数组默认初始值" class="headerlink" title="2）二维数组默认初始值"></a>2）二维数组默认初始值</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a[][]=<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">3</span>];</span><br><span class="line">System.out.println(a[<span class="number">0</span>]);<span class="comment">//输出地址[I@15db9742</span></span><br><span class="line">System.out.println(a[<span class="number">0</span>][<span class="number">0</span>]);<span class="comment">//0</span></span><br><span class="line">System.out.println(a[<span class="number">2</span>][<span class="number">3</span>]);<span class="comment">//java.lang.ArrayIndexOutOfBoundsException</span></span><br></pre></td></tr></table></figure>

<h3 id="3）二维数组的内存解析"><a href="#3）二维数组的内存解析" class="headerlink" title="3）二维数组的内存解析"></a>3）二维数组的内存解析</h3><p><img src="https://img-blog.csdnimg.cn/20201006214613630.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h2 id="3-数组中设计的常见算法："><a href="#3-数组中设计的常见算法：" class="headerlink" title="3.数组中设计的常见算法："></a>3.数组中设计的常见算法：</h2><p>1）反转</p>
<p>2）线性查找</p>
<p>3）二分查找</p>
<p>4）冒泡排序</p>
<h2 id="4-Arrays工具类的使用"><a href="#4-Arrays工具类的使用" class="headerlink" title="4.Arrays工具类的使用"></a>4.Arrays工具类的使用</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Arrays工具类的使用</span><br><span class="line"><span class="keyword">int</span> a[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">43</span>, <span class="number">26</span>, <span class="number">25</span>, <span class="number">65</span>, <span class="number">89</span>, <span class="number">75</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">23</span>, <span class="number">15</span>, <span class="number">65</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> b[] = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">43</span>, <span class="number">26</span>, <span class="number">25</span>, <span class="number">65</span>, <span class="number">89</span>, <span class="number">75</span>, <span class="number">45</span>, <span class="number">13</span>, <span class="number">23</span>, <span class="number">15</span>, <span class="number">65</span> &#125;;</span><br><span class="line">System.out.println(Arrays.equals(a, b));<span class="comment">//判断两个数组是否相等</span></span><br><span class="line">Arrays.sort(a);<span class="comment">//对数组进行从小到大排序</span></span><br><span class="line"><span class="keyword">int</span> key=<span class="number">89</span>;</span><br><span class="line">System.out.println(Arrays.binarySearch(a, key));<span class="comment">//对排序后的数组进行二分查找</span></span><br><span class="line">System.out.println(Arrays.toString(a));<span class="comment">//输出数组信息</span></span><br></pre></td></tr></table></figure>

<h2 id="5-数组中的常见异常"><a href="#5-数组中的常见异常" class="headerlink" title="5.数组中的常见异常"></a>5.数组中的常见异常</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>下标越界异常</span><br><span class="line"><span class="number">2.</span>空指针异常</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* int a[] = new int[] &#123; 43, 26, 25, 65, 89, 75, 45, 13, 23, 15, 65 &#125;; a=null;</span></span><br><span class="line"><span class="comment">* System.out.println(a[0]);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* int[][]arr=new int [4][];</span></span><br><span class="line"><span class="comment">*  System.out.println(arr[0][0]);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">String arr[]=<span class="keyword">new</span> String [] &#123;<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;bb&quot;</span>,<span class="string">&quot;cc&quot;</span>&#125;;</span><br><span class="line">arr[<span class="number">0</span>]=<span class="keyword">null</span>;</span><br><span class="line">System.out.println(arr[<span class="number">0</span>].toString());</span><br></pre></td></tr></table></figure>

<h1 id="四，面向对象"><a href="#四，面向对象" class="headerlink" title="四，面向对象"></a>四，面向对象</h1><h2 id="1-成员变量（属性）与局部变量的区别"><a href="#1-成员变量（属性）与局部变量的区别" class="headerlink" title="1.成员变量（属性）与局部变量的区别"></a>1.成员变量（属性）与局部变量的区别</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">不同点：</span><br><span class="line"><span class="number">1.</span>类中的声明位置不同</span><br><span class="line">	<span class="number">1</span>）类内，方法体外   </span><br><span class="line">	<span class="number">2</span>）方法的形参列表，方法体内，构造器形参，构造器内部变量</span><br><span class="line"><span class="number">2.</span>权限修饰符的不同</span><br><span class="line">	<span class="number">1</span>）可以在声明属性时指明其权限，使用权限修饰符</span><br><span class="line">	<span class="number">2</span>）不能使用权限修饰符</span><br><span class="line"><span class="number">3.</span>默认初始化值</span><br><span class="line">	<span class="number">1</span>）根据其类型都有默认的初始化值</span><br><span class="line">	<span class="number">2</span>）没有默认初始化值（调用之前显示赋值），形参在调用时赋值。</span><br><span class="line"><span class="number">4.</span>内存中加载的位置</span><br><span class="line">	<span class="number">1</span>）堆中（非<span class="keyword">static</span>）</span><br><span class="line">	<span class="number">2</span>）栈中</span><br></pre></td></tr></table></figure>

<h2 id="2-return关键字"><a href="#2-return关键字" class="headerlink" title="2.return关键字"></a>2.return关键字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1适用范围：使用在方法体中</span><br><span class="line">2.作用：</span><br><span class="line">1）结束方法</span><br><span class="line">2）针对有返回值类型的方法，返回值。</span><br><span class="line">3.return 后面不可以声明执行语句</span><br><span class="line"></span><br><span class="line">方法中使用的注意点：</span><br><span class="line">可以调用当前类的属性和方法</span><br><span class="line">方法中不可以定义方法</span><br></pre></td></tr></table></figure>

<h2 id="3-对象数组"><a href="#3-对象数组" class="headerlink" title="3.对象数组"></a>3.对象数组</h2><p>内存解析</p>
<p><img src="https://img-blog.csdnimg.cn/20201006214634690.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h2 id="4-匿名对象与方法重载"><a href="#4-匿名对象与方法重载" class="headerlink" title="4.匿名对象与方法重载"></a>4.匿名对象与方法重载</h2><h3 id="匿名对象"><a href="#匿名对象" class="headerlink" title="匿名对象"></a>匿名对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Phone().price=<span class="number">1999</span>;</span><br><span class="line"><span class="keyword">new</span> Phone().showPrice;<span class="comment">//0.0</span></span><br><span class="line">每次<span class="keyword">new</span>的都是堆空间的一个新对象。</span><br></pre></td></tr></table></figure>

<h3 id="方法重载"><a href="#方法重载" class="headerlink" title="方法重载"></a>方法重载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.定义：在同一个类中，允许存在一个以上同名方法，</span><br><span class="line">只要他们的参数个数/顺序，参数类型不同即可。</span><br><span class="line">2.特点：与返回值无关，与权限修饰符无关。</span><br><span class="line">常见的：构造器重载</span><br></pre></td></tr></table></figure>

<h2 id="5-可变个数形参与变量赋值"><a href="#5-可变个数形参与变量赋值" class="headerlink" title="5.可变个数形参与变量赋值"></a>5.可变个数形参与变量赋值</h2><h3 id="可变个数形参"><a href="#可变个数形参" class="headerlink" title="可变个数形参"></a>可变个数形参</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Object...args</span><br><span class="line">如果有多个参数，必须放到最后。</span><br></pre></td></tr></table></figure>

<h3 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果变量是基本数据类型：此时赋值的是变量所保存的数据值。</span><br><span class="line">如果变量时引用数据类型：此时赋值的是变量所保存数据的地址值。</span><br><span class="line">此时改变变量的值，相当于改变地址对应的值。</span><br></pre></td></tr></table></figure>

<h2 id="6-值传递机制与递归方法"><a href="#6-值传递机制与递归方法" class="headerlink" title="6.值传递机制与递归方法"></a>6.值传递机制与递归方法</h2><h3 id="值传递机制"><a href="#值传递机制" class="headerlink" title="值传递机制"></a>值传递机制</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">形参：方法定义时，小括号内的参数。</span><br><span class="line">实参：方法调用时，实际传递给形参的值。</span><br><span class="line">如果参数是基本数据类型，此时赋值的是变量所保存的数据值。</span><br><span class="line">如果参数是引用数据类型，此时赋给形参的值，是变量所指向地址的值。</span><br></pre></td></tr></table></figure>

<h3 id="递归方法"><a href="#递归方法" class="headerlink" title="递归方法"></a>递归方法</h3><p>一个方法体内，自己调用自己。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 递归方法求1-100的和</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = getSum(n);</span><br><span class="line">    System.out.println(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sum + getSum(sum - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 已知一个数列，f(0)=1,f(1)=4,f(n+2)=2*f(n+1)+f(n);</span></span><br><span class="line"><span class="comment"> * 其中n是大于0的整数，求f（10。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> sum</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (sum == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * getSum(sum - <span class="number">1</span>) + getSum(sum - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 递归方法求斐波那契数列的前n项，并输出。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arg=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> avg=getArgs(arg);</span><br><span class="line">    System.out.println(avg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getArgs</span><span class="params">(<span class="keyword">int</span> args)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(args&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getArgs(args-<span class="number">1</span>)+getArgs(args-<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-封装和隐藏"><a href="#7-封装和隐藏" class="headerlink" title="7.封装和隐藏"></a>7.封装和隐藏</h2><h3 id="封装和隐藏："><a href="#封装和隐藏：" class="headerlink" title="封装和隐藏："></a>封装和隐藏：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">高内聚：类的内部数据操作细节自己完成，不允许外部干涉</span><br><span class="line">低耦合：仅仅对外暴漏少量方法用于使用。</span><br><span class="line">体现：私有化属性，设置公有的方法来获取和设置属性。需要权限修饰符来配合。</span><br></pre></td></tr></table></figure>

<h3 id="权限修饰符："><a href="#权限修饰符：" class="headerlink" title="权限修饰符："></a>权限修饰符：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.private：类内部</span><br><span class="line">2.default：同一包下的类</span><br><span class="line">3.protected：不同包的子类</span><br><span class="line">4.public：同一项目下</span><br><span class="line">用来修饰类：public和default，和类的内部结构：属性，方法，构造器，内部类。</span><br></pre></td></tr></table></figure>

<h3 id="构造器：construct"><a href="#构造器：construct" class="headerlink" title="构造器：construct"></a>构造器：construct</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">作用：</span><br><span class="line">1）创建对象</span><br><span class="line">2）初始化对象</span><br><span class="line">构造器重载</span><br></pre></td></tr></table></figure>

<h3 id="属性赋值的先后顺序："><a href="#属性赋值的先后顺序：" class="headerlink" title="属性赋值的先后顺序："></a>属性赋值的先后顺序：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1）默认初始化</span><br><span class="line">2）显示初始化</span><br><span class="line">3）构造器初始化</span><br><span class="line">4）set方法</span><br></pre></td></tr></table></figure>

<h3 id="javabean"><a href="#javabean" class="headerlink" title="javabean"></a>javabean</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类是公有的</span><br><span class="line">有一个无参的公共构造器</span><br><span class="line">有属性，且有对应的get，set方法</span><br></pre></td></tr></table></figure>

<h3 id="关键字this的使用"><a href="#关键字this的使用" class="headerlink" title="关键字this的使用"></a>关键字this的使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）<span class="keyword">this</span>可以用来修饰属性和方法</span><br><span class="line"><span class="keyword">this</span>代表当前对象</span><br><span class="line"><span class="number">2</span>）<span class="keyword">this</span>可以用来修饰和调用构造器</span><br><span class="line">调用构造器：</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(Integer number, Integer state)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.number = number;</span><br><span class="line"><span class="keyword">this</span>.state = state;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(Integer number, Integer state, Double score)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>(number,state);<span class="comment">//调用其他构造器，不能调用自己。</span></span><br><span class="line"><span class="keyword">this</span>.score = score;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="MVC设计模式："><a href="#MVC设计模式：" class="headerlink" title="MVC设计模式："></a>MVC设计模式：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">视图模型层view</span><br><span class="line">控制器层controller：service，base，activity</span><br><span class="line">模型层model：bean，dao，db</span><br></pre></td></tr></table></figure>

<h3 id="继承性：extends"><a href="#继承性：extends" class="headerlink" title="继承性：extends"></a>继承性：extends</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">减少了代码的量，提高了代码复用性</span><br><span class="line">便于功能的拓展</span><br><span class="line">为多态的实现提供了前提</span><br><span class="line">一旦子类A继承父类B以后，A就获取了B中声明的所有属性和方法。</span><br><span class="line">规定：</span><br><span class="line">一个类可以被多个子类继承</span><br><span class="line">一个类只能由一个父类</span><br><span class="line">允许多层继承</span><br></pre></td></tr></table></figure>

<h2 id="8-Eclipse中的Debug"><a href="#8-Eclipse中的Debug" class="headerlink" title="8.Eclipse中的Debug"></a>8.Eclipse中的Debug</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Debug：</span><br><span class="line">1.设置断点：</span><br><span class="line">2.按键：</span><br><span class="line">F5进入方法，F6一行一行执行，F7从方法中出来</span><br><span class="line">resume：终止此处断点，进入下一处。</span><br><span class="line">   Terminate：强行终止</span><br><span class="line">   debug中step into功能失灵问题：更换eclipsejre为jdk的。</span><br></pre></td></tr></table></figure>

<h2 id="9-方法重写与权限修饰符"><a href="#9-方法重写与权限修饰符" class="headerlink" title="9.方法重写与权限修饰符"></a>9.方法重写与权限修饰符</h2><h3 id="方法重写"><a href="#方法重写" class="headerlink" title="方法重写"></a>方法重写</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.重写：子类继承父类以后，可以对父类中同名同参数的方法，进行覆盖操作。</span><br><span class="line">2.应用：重写以后，当子类执行该方法，实际上执行的是子类重写父类的方法。</span><br><span class="line">3.规定：</span><br><span class="line">方法名形参列表必须相同，</span><br><span class="line"></span><br><span class="line">子类重写方法的权限修饰符不小于父类被重写的方法，</span><br><span class="line">*子类不能重写父类的私有方法，</span><br><span class="line">返回值类型：void--》void，其他的小于等于父类的返回值类型。</span><br><span class="line">子类抛出的异常类型不能大于父类。</span><br><span class="line">非static（因为静态方法不能被覆盖，随着类的加载而加载）</span><br></pre></td></tr></table></figure>

<h3 id="权限修饰符"><a href="#权限修饰符" class="headerlink" title="权限修饰符"></a>权限修饰符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">四种权限修饰符</span><br><span class="line">在不同包的子类中，能调用order类中声明为protected和public的属性，方法。</span><br><span class="line">不同包下的不同类（非子类）只能调用order类中的public的属性和方法。</span><br></pre></td></tr></table></figure>

<h2 id="10-super关键字"><a href="#10-super关键字" class="headerlink" title="10.super关键字"></a>10.super关键字</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">super</span>调用属性和方法</span><br><span class="line"><span class="number">1.</span>我们可以在子类的方法或构造器中，通过使用<span class="string">&quot;super.&quot;</span>属性/方法的方式，显示的调用</span><br><span class="line">父类中声明的属性或方法，通常省略。</span><br><span class="line"><span class="number">2.</span>特殊情况下，当子类和父类定义了同名的属性时，用<span class="keyword">super</span>来调用父类的方法。</span><br><span class="line"><span class="number">3.</span>当子类重写了父类的方法，在子类的方法中调用父类中被重写的方法，必须使用<span class="keyword">super</span>。</span><br><span class="line"><span class="number">4.</span><span class="keyword">super</span>调用构造器：</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> id,String name,String school)</span></span>&#123;</span><br><span class="line"><span class="keyword">super</span>(id,name);<span class="comment">//调用父类的构造器</span></span><br><span class="line"><span class="keyword">this</span>.school=school;</span><br><span class="line">&#125;</span><br><span class="line">在子类构造器中用<span class="keyword">super</span>（形参列表）调用父类中声明的指定的构造器。</span><br><span class="line"><span class="keyword">super</span>声明在子类构造器首行。</span><br></pre></td></tr></table></figure>

<h2 id="11-子类对象实例化全过程："><a href="#11-子类对象实例化全过程：" class="headerlink" title="11.子类对象实例化全过程："></a>11.子类对象实例化全过程：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.从结果上看，</span><br><span class="line">子类继承父类以后，就获取了父类中声明的属性和方法；</span><br><span class="line">创建子类对象，在堆空间中，就会加载所有父类中声明的属性。</span><br><span class="line">2.从过程上看，</span><br><span class="line">当我们通过子类的构造器创建子类对象时，我们一定会直接或间接地调用其父类构造器，</span><br><span class="line">进而调用父类的父类的构造器，知道调用了Object的无参构造器为止。正因为加载过所</span><br><span class="line">有的父类结构，所以才可以看到内存中有父类的结构，子类对象才可以进行调用。</span><br></pre></td></tr></table></figure>

<h2 id="12-向下转型"><a href="#12-向下转型" class="headerlink" title="12.向下转型"></a>12.向下转型</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">向下转型：使用强制类型转换符</span><br><span class="line">Person p=<span class="keyword">new</span> Student();<span class="comment">//此时p并不能调用Student中重写的方法。</span></span><br><span class="line">Student stu=(Student)p;<span class="comment">//此时就可以了</span></span><br></pre></td></tr></table></figure>

<h2 id="13-instanceof关键字："><a href="#13-instanceof关键字：" class="headerlink" title="13.instanceof关键字："></a>13.instanceof关键字：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stu instanceof p：</span><br><span class="line">判断对象stu是否是类p的实例，如果是，返回true，如果不是，返回false。</span><br><span class="line">使用情景：为了避免向下转型时出现类型转换异常，我们在向下转型之前，先用</span><br><span class="line">instanceof进行判断，如果返回true在进行转型。</span><br></pre></td></tr></table></figure>

<h2 id="14-java-lang-Object"><a href="#14-java-lang-Object" class="headerlink" title="14.java.lang.Object"></a>14.java.lang.Object</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.Object类时左右Java类的父类</span><br><span class="line">2.如果在声明类时没有指明类的直接父类，默认类的父类为Object。</span><br><span class="line">3.Object类中的功能（属性，方法）具有通用性。</span><br><span class="line">属性：无。</span><br><span class="line">方法：equals()/toString()/getClass()/hashCode（）/clone（）克隆/finalize（）垃圾回收</span><br><span class="line">4.Object类只声明了一个空参构造器</span><br></pre></td></tr></table></figure>

<h2 id="15-和equals-的区别"><a href="#15-和equals-的区别" class="headerlink" title="15.==和equals()的区别"></a>15.==和equals()的区别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.==可以使用在基本数据类型和引用数据类型变量中</span><br><span class="line">2.==如果比较基本数据类型变量，比较的是数据是否相等（不一定类型要相同）。</span><br><span class="line">  如果比较引用类型变量，比较的是地址值是否相等，即两个对象是否指向同一个对象实体。</span><br><span class="line">1.equals（）是一个方法，不是运算符。</span><br><span class="line">2.只适用引用数据类型。</span><br><span class="line">3.Object类中equals的定义：</span><br><span class="line">   public boolean equals(Object obj) &#123;</span><br><span class="line">        return (this == obj);</span><br><span class="line">    &#125;</span><br><span class="line">  String类中定义的equals方法：</span><br><span class="line">  STring对equals方法进行了重写，如果地址相同，返回true，</span><br><span class="line">  否则比较字符串的值是否相同。</span><br></pre></td></tr></table></figure>

<h2 id="16-equals（）方法的重写："><a href="#16-equals（）方法的重写：" class="headerlink" title="16.equals（）方法的重写："></a>16.equals（）方法的重写：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span> == o) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Customer customer = (Customer) o;</span><br><span class="line">        <span class="keyword">return</span> age == customer.age &amp;&amp;</span><br><span class="line">            Objects.equals(name, customer.name);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="17-Object类中toString-的使用："><a href="#17-Object类中toString-的使用：" class="headerlink" title="17.Object类中toString()的使用："></a>17.Object类中toString()的使用：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.当我们输出一个对象的引用，实际上就是调用当前对象的toString（）</span><br><span class="line">2.Object类中对toString（）的定义：</span><br><span class="line">public String toString() &#123;</span><br><span class="line">return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br><span class="line">3.向String，Date，File。包装类实际上都重写了Object的toString方法。</span><br><span class="line">使得在调用对象的toString方法时，返回实体对象信息。</span><br><span class="line">4.自定义类重写toString方法</span><br></pre></td></tr></table></figure>

<h2 id="18-包装类"><a href="#18-包装类" class="headerlink" title="18.包装类"></a>18.包装类</h2><p>八种数据类型都有对应的包装类</p>
<p>char–&gt;Character</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 基本数据类型和包装类，String的转换</span></span><br><span class="line"><span class="comment">     * jdk5.0新特性：自动拆箱与自动装箱</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//包装类转换为基本数据类型</span></span><br><span class="line">    Integer a=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">int</span> b=a;<span class="comment">//自动拆箱</span></span><br><span class="line">    <span class="keyword">int</span> c=a.intValue();<span class="comment">//int-&gt;integer</span></span><br><span class="line">    <span class="comment">//基本数据类型转换为包装类</span></span><br><span class="line">    <span class="keyword">int</span> num1=<span class="number">10</span>;</span><br><span class="line">    Integer num2=num1;<span class="comment">//自动装箱</span></span><br><span class="line">    Integer num3=<span class="keyword">new</span> Integer(num1); <span class="comment">//integer-&gt;int</span></span><br><span class="line">    <span class="comment">//基本数据类型和包装类与String的转换</span></span><br><span class="line">    <span class="keyword">int</span> num=<span class="number">1</span>;</span><br><span class="line">    String s1=num+<span class="string">&quot;&quot;</span>;<span class="comment">//int-&gt;String</span></span><br><span class="line">    String s2=String.valueOf(num);<span class="comment">//int-&gt;String</span></span><br><span class="line">    Integer number=<span class="number">10</span>;</span><br><span class="line">    String s3=String.valueOf(number);<span class="comment">//integer-&gt;String</span></span><br><span class="line">    <span class="keyword">int</span> aa=Integer.parseInt(s3);<span class="comment">//String-&gt;int</span></span><br><span class="line">    Integer bb= Integer.parseInt(s3);<span class="comment">//String-&gt;integer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 面试题：</span></span><br><span class="line"><span class="comment"> * 三目运算符后面两个条件语句对应的类型会在比较前进行统一。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Object o1=<span class="keyword">true</span>?<span class="keyword">new</span> Integer(<span class="number">1</span>):<span class="keyword">new</span> Double(<span class="number">2.0</span>);</span><br><span class="line">System.out.println(o1);<span class="comment">//1.0</span></span><br></pre></td></tr></table></figure>

<p>Integer内部存在一个Integer[]数组，范围-128–+127，如果我们是用自动装箱的方式，</p>
<p>给integer赋值的范围在此范围内直接从数组中取。</p>
<h2 id="19-static关键字"><a href="#19-static关键字" class="headerlink" title="19.static关键字"></a>19.static关键字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">1.可以用来修饰属性，方法，代码块，内部类</span><br><span class="line">2.修饰属性：</span><br><span class="line">静态属性（类变量）和非静态属性（实例变量）</span><br><span class="line">实例变量：每个对象都有自己的实例变量。</span><br><span class="line">静态变量：所有对象共享静态变量。通过一个对象修改，别的对象调用的也是修改过的。</span><br><span class="line">public static void setCountry(String country) &#123;</span><br><span class="line">Chinese.country = country;</span><br><span class="line">&#125;</span><br><span class="line">静态变量随着类的加载而加载。</span><br><span class="line">静态变量的加载早于对象的创建。</span><br><span class="line">由于类只会加载一次，则静态变量在内存中也只存在一份，在方法区的静态域中。</span><br><span class="line">3.修饰方法：</span><br><span class="line">静态方法_随着类的加载而加载。</span><br><span class="line">静态方法中只能调用静态的方法或属性。</span><br><span class="line">非静态方法中，既可以调用非静态的方法或属性，也可以调用静态的方法或属性。</span><br><span class="line">4.开发中如何确定一个属性要声明为static？</span><br><span class="line">所有对象都相同的属性。</span><br><span class="line">开发中如何确定一个方法要声明为static？</span><br><span class="line">操作静态属性的方法</span><br><span class="line">工具类中的方法</span><br><span class="line">static实现id自增</span><br><span class="line">private static int idadd=1001；</span><br></pre></td></tr></table></figure>

<h3 id="类变量与实例变量的内存解析"><a href="#类变量与实例变量的内存解析" class="headerlink" title="类变量与实例变量的内存解析"></a>类变量与实例变量的内存解析</h3><p><img src="https://img-blog.csdnimg.cn/20201006214710890.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h2 id="20-单例设计模式："><a href="#20-单例设计模式：" class="headerlink" title="20.单例设计模式："></a>20.单例设计模式：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>采取一定的方法，保证在整个软件系统中，对某个类只能存在一个对象实例。</span><br><span class="line"><span class="number">2.</span>饿汉式vs懒汉式实现：</span><br><span class="line"><span class="comment">//饿汉式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="comment">//私有的构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//私有的创建对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Test1 test=<span class="keyword">new</span> Test1();</span><br><span class="line">    <span class="comment">//公有的方法供外部调用</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Test1 <span class="title">getTest1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> test;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//懒汉式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="comment">//私有的构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//私有的创建对象</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Test1 test=<span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//公有的方法供外部调用</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Test1 <span class="title">getTest1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(test==<span class="keyword">null</span>)&#123;</span><br><span class="line">            test=<span class="keyword">new</span> Test1();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> test;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span>懒汉式和饿汉式的对比：</span><br><span class="line">饿汉式占用内存，线程安全的。</span><br><span class="line">懒汉式好处：延迟对象的创建，线程不安全。</span><br><span class="line"><span class="number">4.</span>应用场景：</span><br><span class="line">网站计数器，应用程序的日志应用，数据库连接池，Application。</span><br><span class="line"></span><br><span class="line">main（）方法的使用说明</span><br><span class="line">也是一个普通的静态方法</span><br><span class="line">可以做输入</span><br></pre></td></tr></table></figure>

<h2 id="21-代码块：和属性赋值顺序完结篇"><a href="#21-代码块：和属性赋值顺序完结篇" class="headerlink" title="21.代码块：和属性赋值顺序完结篇"></a>21.代码块：和属性赋值顺序完结篇</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">作用：用来初始化对象。</span><br><span class="line">只能用static来修饰</span><br><span class="line">分类：静态代码块，非静态代码块</span><br><span class="line">非静态能调用静态的属性方法，静态的不能掉用非静态的属性方法。</span><br><span class="line">1.静态代码块</span><br><span class="line">随着类的加载而执行</span><br><span class="line">一共只执行一次，因此可以初始化类的信息。</span><br><span class="line">2.非静态代码块</span><br><span class="line">随着对象的创建而执行</span><br><span class="line">每次创建对象都会执行一次，因此可以创建对象时初始化对象。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">属性赋值顺序完结篇</span><br><span class="line">1）默认初始化</span><br><span class="line">2）显示初始化/在代码块中赋值</span><br><span class="line">3）构造器初始化</span><br><span class="line">4）set方法</span><br></pre></td></tr></table></figure>

<h2 id="22-final关键字"><a href="#22-final关键字" class="headerlink" title="22.final关键字"></a>22.final关键字</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.final修饰类和方法</span><br><span class="line">用final修饰的类不能被继承，称为最终类。</span><br><span class="line">eg：String，System，StringBuffer</span><br><span class="line">用final修饰的方法不能被重写。</span><br><span class="line">2.final修饰变量</span><br><span class="line">此时的变量就称为常量。</span><br><span class="line">1）修饰属性</span><br><span class="line">显式初始化，代码块中初始化。</span><br><span class="line">2）修饰局部变量</span><br><span class="line">该局部变量的值不能被再次修改</span><br></pre></td></tr></table></figure>

<h2 id="23-抽象类与抽象方法"><a href="#23-抽象类与抽象方法" class="headerlink" title="23.抽象类与抽象方法"></a>23.抽象类与抽象方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span>关键字的使用</span><br><span class="line"><span class="number">1.</span><span class="keyword">abstract</span>抽象的</span><br><span class="line"><span class="number">2.</span>可以用来修饰的结构：类和方法</span><br><span class="line"><span class="number">3.</span><span class="keyword">abstract</span>修饰类：抽象类</span><br><span class="line"><span class="number">1</span>）此类不能实例化</span><br><span class="line"><span class="number">2</span>）抽象类中一定有构造器，便于子类实例化时调用。</span><br><span class="line"><span class="number">3</span>）开发中，都会提供抽象类的子类，让子类对象实例化，完成相关操作。</span><br><span class="line"><span class="number">4.</span><span class="keyword">abstract</span>修饰方法：抽象方法</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> test（）；</span><br><span class="line">包含抽象方法的类一定是抽象类，抽象类不一定包含抽象方法。</span><br><span class="line">如果继承了抽象类，必须继承抽象类的抽象方法。</span><br><span class="line"><span class="number">5.</span>注意</span><br><span class="line"><span class="number">1</span>）<span class="keyword">abstract</span>不能用来修饰：属性，构造器。</span><br><span class="line"><span class="number">2</span>）<span class="keyword">abstract</span>不能用来修饰私有方法，静态方法，<span class="keyword">final</span>方法，<span class="keyword">final</span>的类。</span><br><span class="line"></span><br><span class="line">创建抽象类的匿名子类对象</span><br><span class="line">Person p=<span class="keyword">new</span> Person()&#123;<span class="comment">//Person是一个抽象类</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">walk</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="24-接口：interface"><a href="#24-接口：interface" class="headerlink" title="24.接口：interface"></a>24.接口：interface</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.接口的使用用interface来定义</span><br><span class="line">2.Java中，接口和类是并列的两个结构。</span><br><span class="line">3.如何定义接口，定义接口的成员</span><br><span class="line">	1)jdk7以前，只能定义全局常量和抽象方法</span><br><span class="line">	全局常量：public static final的，但是书写时，可以省略不写</span><br><span class="line">	抽象方法：public abstract的，但是书写时，可以省略不写。</span><br><span class="line">	2）jdk8：除了定义全局常量和抽象方法外，还可以定义静态方法，默认方法。</span><br><span class="line">4.接口中不能定义构造器，接口不能实例化。</span><br><span class="line">5.Java中，通过类去实现接口。implements</span><br><span class="line">6.Java中允许实现多个接口。</span><br><span class="line">7.接口与接口之间可以多继承</span><br><span class="line">8.接口的实现体现了多态性。</span><br><span class="line">面试题：接口与抽象类的比较：</span><br><span class="line">	1.抽象类：通过extends来继承，只能继承一个抽象类，</span><br><span class="line">		抽象类中一定有构造方法，创建子类对象时被调用。</span><br><span class="line">		抽象类中不光有抽象方法，还可以有其他方法。</span><br><span class="line">	2.接口：接口通过implements来实现，允许实现多个接口，</span><br><span class="line">		接口中不存在构造方法，接口中只能声明全局常量和抽象方法，</span><br><span class="line">		jdk&#x27;8.0以后，还可以定义静态方法和默认方法。</span><br><span class="line">	3.不能实例化，都可以被继承。</span><br></pre></td></tr></table></figure>

<h3 id="接口的应用："><a href="#接口的应用：" class="headerlink" title="接口的应用："></a>接口的应用：</h3><h4 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 代理模式：将两者都要实现的行为封装在接口中，被代理对象和代理对象都继承该接口</span></span><br><span class="line"><span class="comment"> * 代理对象中声明被代理对象属性，并创建拥该属性的构造器，通过创建代理对象完成</span></span><br><span class="line"><span class="comment"> * 被代理对象的方法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TEST</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Zhuli zhuli=<span class="keyword">new</span> Zhuli(<span class="keyword">new</span> Star());</span><br><span class="line">        zhuli.sing();</span><br><span class="line">        zhuli.buyThing();</span><br><span class="line">        zhuli.getMoney();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Star</span> <span class="keyword">implements</span> <span class="title">Proxy</span> </span>&#123;<span class="comment">//被代理对象</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;明星唱歌&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buyThing</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Proxy</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMoney</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buyThing</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zhuli</span> <span class="keyword">implements</span> <span class="title">Proxy</span></span>&#123;<span class="comment">//代理对象</span></span><br><span class="line"><span class="keyword">private</span> Star star;<span class="comment">//声明被代理对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Zhuli</span><span class="params">(Star star)</span></span>&#123;<span class="comment">//存在被代理对象的带参构造器</span></span><br><span class="line">        <span class="keyword">this</span>.star=star;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">star.sing();<span class="comment">//被代理对象完成</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;助理替歌手收钱&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buyThing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;助理替歌手买东西&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h4><p>实现创建者与调用者的分离，将创建对象的具体过程隔离起来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Java8</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 接口中定义的静态方法只能通过接口来调用</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;***&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通过实现类的对象可以调用/重写接口中的默认方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;***&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 如果一个类继承的父类和实现的接口存在同名同参数的方法，</span></span><br><span class="line"><span class="comment">     * 子类在没有重写这个方法的前提下，默认调用父类的方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 如果一个类实现的多个接口中存在同名同参数的方法，</span></span><br><span class="line"><span class="comment">     * 子类在没有重写这个方法的前提下，会报错，接口冲突。</span></span><br><span class="line"><span class="comment">     * 如果重写的方法想要调用其中的一个：接口.super.method</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="25-内部类的使用："><a href="#25-内部类的使用：" class="headerlink" title="25.内部类的使用："></a>25.内部类的使用：</h2><p>1.Java中允许将一个类声明在另一个类的内部</p>
<p>2.内部类的分类：成员内部类（静态，非静态）vs局部内部类（方法，代码块，构造器内）</p>
<p>3.成员内部类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 创建内部类实例</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Person.Dog dog=<span class="keyword">new</span> Person.Dog();<span class="comment">//静态内部类</span></span><br><span class="line">       Person p=<span class="keyword">new</span> Person();<span class="comment">//非静态内部类</span></span><br><span class="line">       Person.Bird bird=p.<span class="function">new <span class="title">Bird</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃饭&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 内部类可以被final修饰，表示此类不能被继承</span></span><br><span class="line"><span class="comment">     * 内部可以定义属性方法构造器</span></span><br><span class="line"><span class="comment">     * 可以被abstract修饰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">        <span class="comment">//eat();不能调用外部的eat方法</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">Bird</span><span class="params">()</span></span>&#123;</span><br><span class="line">         </span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 调用外部成员的方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sing</span><span class="params">()</span></span>&#123;</span><br><span class="line">         eat();</span><br><span class="line">         name=<span class="string">&quot;bird&quot;</span>;</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">面试题：创建静态内部类对象和非静态内部类对象：</span><br><span class="line"><span class="comment">//静态内部类对象</span></span><br><span class="line">Person.Dog dog=<span class="keyword">new</span> Person.Dog();</span><br><span class="line"><span class="comment">//非静态内部类对象</span></span><br><span class="line">Person p=<span class="keyword">new</span> Person();</span><br><span class="line">Person.Bird bird=<span class="keyword">new</span> p.bird();</span><br></pre></td></tr></table></figure>

<h1 id="五，异常处理"><a href="#五，异常处理" class="headerlink" title="五，异常处理"></a>五，异常处理</h1><h2 id="1-异常的体系结构"><a href="#1-异常的体系结构" class="headerlink" title="1.异常的体系结构"></a>1.异常的体系结构</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">异常：在Java中，程序执行发生的不正常情况称为异常。</span><br><span class="line">java.long.Throwable</span><br><span class="line">1.java.long.Error,:一般不编写针对性代码进行处理</span><br><span class="line">2.java.long,Exception：可以进行异常的处理</span><br><span class="line">1）编译时异常：IOException,FileNotFindException,ClassNotFindException</span><br><span class="line">2)运行时异常：NullPointException,ArrayIndexOutOfBoundsException,ClassCastException</span><br><span class="line">,NumberFormatException,InputMismatchException,ArithmeticException</span><br></pre></td></tr></table></figure>

<h2 id="2-异常处理机制一："><a href="#2-异常处理机制一：" class="headerlink" title="2.异常处理机制一："></a>2.异常处理机制一：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">try-catch-finally</span><br><span class="line">一旦抛出异常，其后的代码就不再执行。</span><br><span class="line">try &#123;</span><br><span class="line">      //可能会出现异常的代码</span><br><span class="line">&#125; catch (异常处理类型1 变量名1) &#123;</span><br><span class="line">e.printStackTrace</span><br><span class="line">&#125; catch (异常处理类型2 变量名2) &#123;</span><br><span class="line">e.printStackTrace</span><br><span class="line">&#125; finally &#123;</span><br><span class="line">    //最终一定要执行的代码</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">编译时异常和运行时异常的不同处理</span><br><span class="line">开发时运行时异常不需要try-catch</span><br><span class="line">编译时异常用try-catch来解决</span><br></pre></td></tr></table></figure>

<h2 id="3-异常处理机制二：Throws-异常类型"><a href="#3-异常处理机制二：Throws-异常类型" class="headerlink" title="3.异常处理机制二：Throws +异常类型"></a>3.异常处理机制二：Throws +异常类型</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">“throws+异常类型”写在方法声明处，指明方法执行时，可能会抛出的异常。</span><br><span class="line">一旦当方法体执行时，出现异常，仍会在异常代码处生成一个异常类的对象，</span><br><span class="line">此对象满足throws的异常类型时就会抛出，异常代码后续的代码，就不要执行。</span><br><span class="line"></span><br><span class="line">try-catch真正的将异常处理掉了，而throws只是将异常抛给了方法的调用者，并没有真正的处理掉。</span><br><span class="line"></span><br><span class="line">重写方法异常抛出的规则</span><br><span class="line">子类重写的方法抛出的异常类型不大于父类被重写的方法抛出的异常类型</span><br><span class="line"></span><br><span class="line">开发中如何选择try-catch还是throws</span><br><span class="line">1.如果父类被重写的方法没有抛出异常，则子类重写的方法中的异常只能用try-catch</span><br><span class="line">2.执行的方法a中，先后又调用了另外的几个方法，这几个方法是递进关系执行的，</span><br><span class="line">我们建议这几个方法使用throws的方法进行处理，而方法a可以用try-catch进行处理。</span><br></pre></td></tr></table></figure>

<h2 id="4-手动生成一个异常对象并抛出：throw"><a href="#4-手动生成一个异常对象并抛出：throw" class="headerlink" title="4.手动生成一个异常对象并抛出：throw"></a>4.手动生成一个异常对象并抛出：throw</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        person p=<span class="keyword">new</span> person();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            p.setAge(-<span class="number">1001</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">person</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">this</span>.age=age;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> Exception(<span class="string">&quot;年龄不能小于0！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-用户自定义异常："><a href="#5-用户自定义异常：" class="headerlink" title="5.用户自定义异常："></a>5.用户自定义异常：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义异常</span></span><br><span class="line"><span class="comment"> * 1.继承于现的异常结构，RuntimeException,Exception</span></span><br><span class="line"><span class="comment"> * 2.提供全局常量， static  final long serialVersionUID</span></span><br><span class="line"><span class="comment"> * 3.提供重载的构造器</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestException</span> <span class="keyword">extends</span> <span class="title">IOException</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span>  <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID=-<span class="number">7034897190745766939L</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestException</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TestException</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="六，多线程"><a href="#六，多线程" class="headerlink" title="六，多线程"></a>六，多线程</h1><h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h2><h3 id="1）概念"><a href="#1）概念" class="headerlink" title="1）概念"></a>1）概念</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">程序：为完成特定任务，用某种语言编写的一组指令的集合。</span><br><span class="line">一段静态的代码，静态对象。</span><br><span class="line">进程：程序的一次执行过程，或是正在运行的一个程序。</span><br><span class="line">是一个动态的过程，有他本身的生命周期。</span><br><span class="line">独立的方法区和堆空间</span><br><span class="line">线程：一个程序内部的执行路径。</span><br><span class="line">独立的计数器和栈</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">单核cpu和多核cpu</span><br><span class="line">假的多线程，多个线程交替进行。</span><br><span class="line">并行和并发</span><br><span class="line">并行：多个cpu同时执行多个任务。</span><br><span class="line">并发：一个cpu执行多个任务。</span><br><span class="line">并行：传输的数据8位一送出去</span><br><span class="line">串行：传输的数据1位1送出去</span><br></pre></td></tr></table></figure>

<h3 id="2）优点"><a href="#2）优点" class="headerlink" title="2）优点"></a>2）优点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.提高应用程序的响应，增强图形化界面用户的体验。</span><br><span class="line">2.提高cpu利用率</span><br><span class="line">3.改善程序结构，将复杂的程序分为多个线程。</span><br></pre></td></tr></table></figure>

<h3 id="3）何时需要"><a href="#3）何时需要" class="headerlink" title="3）何时需要"></a>3）何时需要</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.程序需要同时执行多个任务。</span><br><span class="line">2.程序需要实现一些需要等待的任务时，用户输入，文件读写，网络操作，搜索。</span><br><span class="line">3.需要一些后台运行的程序。</span><br></pre></td></tr></table></figure>

<h2 id="2-创建线程的方式一：继承Thread类"><a href="#2-创建线程的方式一：继承Thread类" class="headerlink" title="2.创建线程的方式一：继承Thread类"></a>2.创建线程的方式一：继承Thread类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 多线程的创建：继承Thread类</span></span><br><span class="line"><span class="comment"> * 重写run方法--&gt;将线程执行的操作声明在run方法</span></span><br><span class="line"><span class="comment"> * 创建子类的对象，通过此对象调用start方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">100</span> ; i++) &#123;</span><br><span class="line">            System.out.println(<span class="keyword">this</span>.currentThread().getName()+<span class="string">&quot; &quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread m1=<span class="keyword">new</span> MyThread();</span><br><span class="line">        m1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1）线程的常用方法："><a href="#1）线程的常用方法：" class="headerlink" title="1）线程的常用方法："></a>1）线程的常用方法：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*start():启动当前线程：调用当前线程的run方法</span><br><span class="line">* run();通常需要重写Thread类的run方法，将创建线程要执行的操作声明在此方法</span><br><span class="line">* currentThread():静态方法，返回执行当前代码的线程。</span><br><span class="line">* getName():获取当前线程名</span><br><span class="line">* setName():设置当前线程的名字</span><br><span class="line">* yield():释放当前cpu执行权</span><br><span class="line">* join()：在线程a中调用线程b的join方法，a进入阻塞状态，直到b执行完以后，a才结束阻塞状态。优先权</span><br><span class="line">* sleep():挂起一会儿，单位ms</span><br><span class="line">* stop（）：强制终止，死亡</span><br></pre></td></tr></table></figure>

<h3 id="2）线程优先级："><a href="#2）线程优先级：" class="headerlink" title="2）线程优先级："></a>2）线程优先级：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">MAX_PRIORITY:10</span><br><span class="line">MIN_PRIORITY:1</span><br><span class="line">NORM_PRIORITY:5</span><br><span class="line">2.如何获取和设置当前线程优先级：</span><br><span class="line">m1.setPriority();</span><br><span class="line">m1.getPriority()；</span><br><span class="line">优先级高并不一定代表一定先执行，只是概率大一点。</span><br></pre></td></tr></table></figure>

<h3 id="3）案例：多窗口卖票"><a href="#3）案例：多窗口卖票" class="headerlink" title="3）案例：多窗口卖票"></a>3）案例：多窗口卖票</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 继承Thread方法实现多窗口卖票，存在线程安全问题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Window w1=<span class="keyword">new</span> Window();</span><br><span class="line">        Window w2=<span class="keyword">new</span> Window();</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> piao=<span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (piao&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(currentThread().getName()+<span class="string">&quot; &quot;</span>+piao);</span><br><span class="line">                piao--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-创建多线程的方式二：实现runnerable接口的方式"><a href="#3-创建多线程的方式二：实现runnerable接口的方式" class="headerlink" title="3.创建多线程的方式二：实现runnerable接口的方式"></a>3.创建多线程的方式二：实现runnerable接口的方式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过实现runnable接口创建多线程</span></span><br><span class="line"><span class="comment"> * 1.创建类a实现runnable接口</span></span><br><span class="line"><span class="comment"> * 2.类a重写runnable的run（方法</span></span><br><span class="line"><span class="comment"> * 3.在调用方法里创建a的对象；</span></span><br><span class="line"><span class="comment"> * 4创建Thread对象b并传入a的对象</span></span><br><span class="line"><span class="comment"> * 5.b.start（；</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        myRunnable m1=<span class="keyword">new</span> myRunnable();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(m1);</span><br><span class="line">        t1.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">10</span> ; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot; &quot;</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1）案例：多窗口卖票"><a href="#1）案例：多窗口卖票" class="headerlink" title="1）案例：多窗口卖票"></a>1）案例：多窗口卖票</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">**</span><br><span class="line"> * runnable方式实现多窗口卖票，存在线程安全问题</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunnable m1=<span class="keyword">new</span> MyRunnable();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(m1);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(m1);</span><br><span class="line">        Thread t3=<span class="keyword">new</span> Thread(m1);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> piao;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 此处不用static修饰的原因，因为上面类中的方法仅仅new了一个此类的对象，</span></span><br><span class="line"><span class="comment">     * 所以个Thread对象实际上只是使用了同一个对象的票。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (piao&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot; :&quot;</span>+piao);</span><br><span class="line">                piao--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2）线程的生命周期"><a href="#2）线程的生命周期" class="headerlink" title="2）线程的生命周期"></a>2）线程的生命周期</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">线程的生命周期</span><br><span class="line">Thread.state();</span><br><span class="line">1.新建    new</span><br><span class="line">2.就绪    start</span><br><span class="line">3.运行    run</span><br><span class="line">4.阻塞    join,sleep,等待同步锁，wait，（过时的挂起）</span><br><span class="line">5.死亡    stop</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201006214750677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h2 id="4-线程的同步"><a href="#4-线程的同步" class="headerlink" title="4.线程的同步"></a>4.线程的同步</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * runnable方式实现多窗口卖票，存在线程安全问题</span></span><br><span class="line"><span class="comment"> * 1.买票过程中出现重票错票</span></span><br><span class="line"><span class="comment"> * 2.问题描述：当某个线程操作车票的过程中，尚未操作完成，其他线程参与进来，也操作车票。</span></span><br><span class="line"><span class="comment"> * 3.如何解决：当一个线程在操作共享数据的时候，其他线程不能参与进来，直到线程a操作完，其他线程才能参与进来，</span></span><br><span class="line"><span class="comment"> * 即使线程a出现了阻塞，也不能被改变。</span></span><br><span class="line"><span class="comment"> * 4.在Java中我们通过同步机制，来解决线程安全问题。</span></span><br><span class="line"><span class="comment"> * 方式一：同步代码块</span></span><br><span class="line"><span class="comment"> * synchronized (同步监视器)&#123;</span></span><br><span class="line"><span class="comment"> * 需要被同步的代码</span></span><br><span class="line"><span class="comment"> *不能包多了，也不能包少了</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> * 说明：1.操作共享数据的代码，就是需要被同步的代码。</span></span><br><span class="line"><span class="comment"> * 2.共享数据：多个线程共同操作的数据。</span></span><br><span class="line"><span class="comment"> * 3.同步监视器：俗称锁。任何一个类的对象都可以来充当锁。</span></span><br><span class="line"><span class="comment"> * 要求：多个线程必须公用同一把锁。</span></span><br><span class="line"><span class="comment"> * 补充：在实现runnable接口创建的多线程方式中，我么可以考虑使用this关键字充当锁，</span></span><br><span class="line"><span class="comment"> * 在继承Thread类创建的多线程方式中，我们可以考虑使用当前类.class的方式充当锁。</span></span><br><span class="line"><span class="comment"> * 方式二：同步方法</span></span><br><span class="line"><span class="comment"> *如果操作共享数据的代码，完整的声明在一个方法中，我们不妨将此方法声明为同步的。</span></span><br><span class="line"><span class="comment"> * 1.同步方法仍然涉及到同步监视器，只是不需要我i们显示的声明</span></span><br><span class="line"><span class="comment"> * 2.非静态的同步方法，同步监视器是this，静态方法的同步监视器是类的本身。</span></span><br><span class="line"><span class="comment"> * 5.同步的方式：解决了安全问题--好处</span></span><br><span class="line"><span class="comment"> * 操作同步代码时，只能有一个线程参与，其他线程等待，相当于是一个单线程的过程，效率低。--缺点</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h3 id="通过继承Thread类实现多窗口卖票"><a href="#通过继承Thread类实现多窗口卖票" class="headerlink" title="通过继承Thread类实现多窗口卖票"></a>通过继承Thread类实现多窗口卖票</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用同步代码块方式解决线程安全问题</span></span><br><span class="line"><span class="comment"> * 通过继承Thread类实现多窗口卖票</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreadTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        window1 w1=<span class="keyword">new</span> window1();</span><br><span class="line">        window1 w2=<span class="keyword">new</span> window1();</span><br><span class="line">        w1.setName(<span class="string">&quot;窗口一&quot;</span>);</span><br><span class="line">        w2.setName(<span class="string">&quot;窗口二&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">window1</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (window1.class)&#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        sleep(<span class="number">10</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(getName()+<span class="string">&quot;卖出了一张票：&quot;</span>+ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="继承Runnable方式实现多窗口卖票"><a href="#继承Runnable方式实现多窗口卖票" class="headerlink" title="继承Runnable方式实现多窗口卖票"></a>继承Runnable方式实现多窗口卖票</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用同步代码块解决线程安全问题</span></span><br><span class="line"><span class="comment"> * 继承Runnable方式实现多窗口卖票</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        window2 w1=<span class="keyword">new</span> window2();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(w1);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(w1);</span><br><span class="line">        t1.setName(<span class="string">&quot;窗口一：&quot;</span>);</span><br><span class="line">        t1.setName(<span class="string">&quot;窗口二：&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">window2</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了票：&quot;</span>+ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="通过继承Thread类来创建多线程"><a href="#通过继承Thread类来创建多线程" class="headerlink" title="通过继承Thread类来创建多线程"></a>通过继承Thread类来创建多线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 尹会东</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020 -01 - 21 - 16:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过同步方法解决线程安全问题</span></span><br><span class="line"><span class="comment"> * 通过继承Thread类来创建多线程</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        window3 t1=<span class="keyword">new</span> window3();</span><br><span class="line">       window3 t2=<span class="keyword">new</span> window3();</span><br><span class="line">        t1.setName(<span class="string">&quot;窗口一：&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;窗口二：&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">window3</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;<span class="comment">//加static：此时的锁相当于当前类的对象</span></span><br><span class="line">        <span class="keyword">if</span> (ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了票：&quot;</span>+ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="通过继承runnable方式来创建多线程"><a href="#通过继承runnable方式来创建多线程" class="headerlink" title="通过继承runnable方式来创建多线程"></a>通过继承runnable方式来创建多线程</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用同步方法解决线程安全问题</span></span><br><span class="line"><span class="comment"> * 通过继承runnable方式来创建多线程</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        window4 w=<span class="keyword">new</span> window4();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(w);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(w);</span><br><span class="line">        t1.setName(<span class="string">&quot;窗口一：&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;窗口二：&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">window4</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket=<span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span>  <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ticket&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;卖出了：&quot;</span>+ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-线程安全的单例模式之懒汉式"><a href="#5-线程安全的单例模式之懒汉式" class="headerlink" title="5.线程安全的单例模式之懒汉式"></a>5.线程安全的单例模式之懒汉式</h2><h3 id="1）通过同步代码块解决懒汉式单例设计模式的线程安全问题"><a href="#1）通过同步代码块解决懒汉式单例设计模式的线程安全问题" class="headerlink" title="1）通过同步代码块解决懒汉式单例设计模式的线程安全问题"></a>1）通过同步代码块解决懒汉式单例设计模式的线程安全问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过同步代码块解决懒汉式单例设计模式的线程安全问题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread1</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Thread1 instance=<span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Thread1 <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//效率低</span></span><br><span class="line"><span class="comment">//        synchronized (Thread1.class) &#123;</span></span><br><span class="line"><span class="comment">//            if(instance==null)&#123;</span></span><br><span class="line"><span class="comment">//                instance=new Thread1();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//                return instance;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 先判断是否为空，如果为空，进行锁住，否则可以直接获取该对象。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">if</span> (instance==<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Thread1.class)&#123;</span><br><span class="line">                <span class="keyword">if</span> (instance==<span class="keyword">null</span>)&#123;</span><br><span class="line">                    instance=<span class="keyword">new</span> Thread1();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2）通过同步方法解决懒汉式单例设计模式的线程安全问题"><a href="#2）通过同步方法解决懒汉式单例设计模式的线程安全问题" class="headerlink" title="2）通过同步方法解决懒汉式单例设计模式的线程安全问题"></a>2）通过同步方法解决懒汉式单例设计模式的线程安全问题</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过同步方法解决懒汉式单例设计模式的线程安全问题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Thread2 instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> Thread2 <span class="title">getInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> Thread2();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-死锁的问题："><a href="#6-死锁的问题：" class="headerlink" title="6.死锁的问题："></a>6.死锁的问题：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 死锁问题</span></span><br><span class="line"><span class="comment"> * 1.死锁的理解：不同的线程分别占用对方的同步资源不放弃，</span></span><br><span class="line"><span class="comment"> * 都在等待对方放弃自己需要的同步资源，就形成了线程的死锁</span></span><br><span class="line"><span class="comment"> * 2.说明：</span></span><br><span class="line"><span class="comment"> * 1）出现死锁后，不会出现异常，不会出现提示，只是所有的线程都处于阻塞状态，无法继续。</span></span><br><span class="line"><span class="comment"> * 2）我们使用同步时要避免出现死锁。</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StringBuffer s1=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">        StringBuffer s2=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (s1)&#123;</span><br><span class="line">                    s1.append(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">                    s2.append(<span class="string">&quot;666&quot;</span>);</span><br><span class="line">                    <span class="keyword">synchronized</span> (s2)&#123;</span><br><span class="line">                        s1.append(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">                        s2.append(<span class="string">&quot;888&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line">        <span class="keyword">new</span> Thread()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (s2)&#123;</span><br><span class="line">                    s1.append(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">                    s2.append(<span class="string">&quot;666&quot;</span>);</span><br><span class="line">                    <span class="keyword">synchronized</span> (s1)&#123;</span><br><span class="line">                        s1.append(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">                        s2.append(<span class="string">&quot;888&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-Lock锁方式解决线程安全问题："><a href="#7-Lock锁方式解决线程安全问题：" class="headerlink" title="7.Lock锁方式解决线程安全问题："></a>7.Lock锁方式解决线程安全问题：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 解决线程安全的方式三：Lock锁--jdk5.0新特性</span></span><br><span class="line"><span class="comment"> * 面试题：synchronized与lock的异同：</span></span><br><span class="line"><span class="comment"> * 同：二者都可以解决线程安全问题</span></span><br><span class="line"><span class="comment"> * 异：synchronized机制在执行完相应的同步代码自动解锁（释放同步监视器），lock需要手动启动同步和解锁。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 尹会东</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020 -01 - 21 - 12:09</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      testlock t=<span class="keyword">new</span> testlock();</span><br><span class="line">      Thread t1=<span class="keyword">new</span> Thread(t);</span><br><span class="line">      Thread t2=<span class="keyword">new</span> Thread(t);</span><br><span class="line">      t1.setName(<span class="string">&quot;窗口一！&quot;</span>);</span><br><span class="line">      t2.setName(<span class="string">&quot;窗口二：&quot;</span>);</span><br><span class="line">      t1.start();</span><br><span class="line">      t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">testlock</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                lock.lock();</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot;卖出了票：&quot;</span> + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="练习题："><a href="#练习题：" class="headerlink" title="练习题："></a>练习题：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 银行一个账户，有两个储户分别向同一个账户存300元，每次存一百，分三次，每次存完打印账户余额。</span></span><br><span class="line"><span class="comment"> * 分析：</span></span><br><span class="line"><span class="comment"> * 1.是否是多线程问题？是，两个储户线程</span></span><br><span class="line"><span class="comment"> * 2.是否共想数据？，账户。</span></span><br><span class="line"><span class="comment"> * 3.是否线程安全问题？</span></span><br><span class="line"><span class="comment"> * 4.考虑如何解决线程安全问题？同步机制：种方式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bank</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Account account=<span class="keyword">new</span> Account();</span><br><span class="line">        Customer c1=<span class="keyword">new</span> Customer(account);</span><br><span class="line">        Customer c2=<span class="keyword">new</span> Customer(account);</span><br><span class="line">        c1.setName(<span class="string">&quot;尹会东&quot;</span>);</span><br><span class="line">        c2.setName(<span class="string">&quot;张贝贝&quot;</span>);</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> balance=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(<span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(<span class="keyword">double</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            balance+=money;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">&quot;存钱成功&quot;</span>+balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">extends</span>  <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Account account;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Account account)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.account=account;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span> ; i++) &#123;</span><br><span class="line">            account.save(<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-线程的通信："><a href="#8-线程的通信：" class="headerlink" title="8.线程的通信："></a>8.线程的通信：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程通信的例子：使用两个线程交替打印1-100</span></span><br><span class="line"><span class="comment"> * 涉及到的个方法：</span></span><br><span class="line"><span class="comment"> * wait():一旦执行此方法，当前线程进入阻塞状态，并释放监视器</span></span><br><span class="line"><span class="comment"> * notify():一旦执行此方法，就会唤醒被wait的一个线程，如果有多个线程wait&#x27;，就会唤醒优先级高的那个。</span></span><br><span class="line"><span class="comment"> * notifyAll():会唤醒所被wait的线程。</span></span><br><span class="line"><span class="comment"> * 说明：</span></span><br><span class="line"><span class="comment"> * 1.使用前提：只能写在同步方法或同步代码块里面</span></span><br><span class="line"><span class="comment"> * 2.方法的调用者必须是同步代码块或同步方法中的同步监视器，否则会出现异常。</span></span><br><span class="line"><span class="comment"> * 3.这个方法是定义在Object类中的。</span></span><br><span class="line"><span class="comment"> * 面试题：sleep和wait的异同：</span></span><br><span class="line"><span class="comment"> * 同：都可以让当前线程进入阻塞状态</span></span><br><span class="line"><span class="comment"> * 异：1两个方法声明位置不一样：Thread类中声明sleep，Object类中声明wait</span></span><br><span class="line"><span class="comment"> * 2调用的范围或者要求是不一样的：sleep随时可以调用，wait只能在同步代码块或同步方法中调用。</span></span><br><span class="line"><span class="comment"> * 3关于是否释放同步监视器：如果两个方法都使用在同步代码块或同步方法中，wait会释放同步监视器，sleep不会。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Number</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num=<span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            notify();<span class="comment">//唤醒</span></span><br><span class="line">            <span class="keyword">if</span> (num&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;打印了：&quot;</span>+num);</span><br><span class="line">                num--;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    wait();<span class="comment">//使得调用wait方法的线程进入阻塞状态,此时会释放锁</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Number n=<span class="keyword">new</span> Number();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(n);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(n);</span><br><span class="line">        t1.setName(<span class="string">&quot;线程一&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;线程二&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="经典例题：生产者和消费者问题："><a href="#经典例题：生产者和消费者问题：" class="headerlink" title="经典例题：生产者和消费者问题："></a>经典例题：生产者和消费者问题：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 生产者消费者问题：线程通信的应用</span></span><br><span class="line"><span class="comment"> * 分析：</span></span><br><span class="line"><span class="comment"> * 1.多线程问题，生产者，消费者</span></span><br><span class="line"><span class="comment"> * 2.存在共享数据，产品/店员</span></span><br><span class="line"><span class="comment"> * 3.处理线程安全问题：同步机制</span></span><br><span class="line"><span class="comment"> * 4.线程通信：产品超过20停止生产，产品低于0停止购买</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Shop shop=<span class="keyword">new</span> Shop();</span><br><span class="line">        Producer p=<span class="keyword">new</span> Producer(shop);</span><br><span class="line">        Customers c=<span class="keyword">new</span> Customers(shop);</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(p);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(c);</span><br><span class="line">        Thread t3=<span class="keyword">new</span> Thread(c);</span><br><span class="line">        t1.setName(<span class="string">&quot;生产者&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;消费者一&quot;</span>);</span><br><span class="line">        t3.setName(<span class="string">&quot;消费者二&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Shop shop;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(Shop shop)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.shop=shop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;生产者开始生产东西&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                sleep(<span class="number">50</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            shop.in();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customers</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Shop shop;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customers</span><span class="params">(Shop shop)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.shop=shop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;消费者开始购买东西&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            shop.out();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shop</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> thing=<span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">()</span>  </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (thing&lt;<span class="number">20</span>)&#123;</span><br><span class="line">            thing++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;生产了东西&quot;</span>+thing);</span><br><span class="line">            notify();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (thing&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">&quot;购买了东西&quot;</span>+thing);</span><br><span class="line">            thing--;</span><br><span class="line">            notify();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-创建多线程的方式三：实现Callable接口"><a href="#9-创建多线程的方式三：实现Callable接口" class="headerlink" title="9.创建多线程的方式三：实现Callable接口"></a>9.创建多线程的方式三：实现Callable接口</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程的方式：实现Callable接口的方式</span></span><br><span class="line"><span class="comment"> * 1.创建一个实现Callable接口的实现类(重写call方法)的对象</span></span><br><span class="line"><span class="comment"> * 2.创建一个FutureTask对象并传入Callable接口的实现类的对象</span></span><br><span class="line"><span class="comment"> * 3.创建一个Thread类对象并传入FutureTask对象</span></span><br><span class="line"><span class="comment"> * 4.get()方法的返回值就是FutureTask构造器参数callable实现类重写的call（的返回值。</span></span><br><span class="line"><span class="comment"> * 面试题：如何理解实现Callable接口创建多线程比实现runnable接口创建多线程强大？</span></span><br><span class="line"><span class="comment"> * 1call（方法可以返回值</span></span><br><span class="line"><span class="comment"> * 2call（方法可以抛出异常被外面的操作捕获并获取异常信息‘</span></span><br><span class="line"><span class="comment"> * 3callable接口支持泛型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 尹会东</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020 -01 - 21 - 14:00</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Share share = <span class="keyword">new</span> Share();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> FutureTask(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) share.print(); <span class="keyword">return</span> <span class="keyword">null</span>;&#125;),<span class="string">&quot;AA&quot;</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> FutureTask(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) share.print(); <span class="keyword">return</span> <span class="keyword">null</span>;&#125;),<span class="string">&quot;BB&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Share</span>  </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer num=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> ReentrantLock lock=<span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> Condition cd=lock.newCondition();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">while</span> (num&lt;<span class="number">100</span>)&#123;</span><br><span class="line">                cd.signal();</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;打印了一张票：&quot;</span>+ ++num+<span class="string">&quot;还剩&quot;</span>+</span><br><span class="line">                        (<span class="number">100</span>-num) +<span class="string">&quot;张票。&quot;</span>);</span><br><span class="line">                cd.await();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="10-创建多线程的方式四：使用线程池"><a href="#10-创建多线程的方式四：使用线程池" class="headerlink" title="10.创建多线程的方式四：使用线程池"></a>10.创建多线程的方式四：使用线程池</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 创建线程的方式四：使用线程池</span></span><br><span class="line"><span class="comment"> * 使用线程池的好处：</span></span><br><span class="line"><span class="comment"> * 1.提高响应速度</span></span><br><span class="line"><span class="comment"> * 2.降低资源消耗</span></span><br><span class="line"><span class="comment"> * 3.便于线程管理</span></span><br><span class="line"><span class="comment"> * 属性：</span></span><br><span class="line"><span class="comment"> * corePoolSize:核心池的大小</span></span><br><span class="line"><span class="comment"> * maximumPoolSize:最大线程数</span></span><br><span class="line"><span class="comment"> * keepAliveTime:线程没任务时最多保持多长时间后终止</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 尹会东</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2020 -01 - 21 - 14:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">num</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (com.qtguigu.fuxi.num.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + num);</span><br><span class="line">                    num--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PoolTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ExecutorService service = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        num n1 = <span class="keyword">new</span> num();</span><br><span class="line">        <span class="comment">//如果需要设置属性需要把service类型转换为ThreadPoolExecutor</span></span><br><span class="line">        <span class="comment">//ThreadPoolExecutor e = (ThreadPoolExecutor) service;</span></span><br><span class="line">        service.execute(n1);<span class="comment">//2.1执行：适合适用于runnable（传入一个实现runnable接口的对象</span></span><br><span class="line">        <span class="comment">// service.submit();//2.1提交：适合适用于callable（传入一个实现callable接口的对象</span></span><br><span class="line">        service.shutdown();<span class="comment">//3.关闭线程</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="七，常用类"><a href="#七，常用类" class="headerlink" title="七，常用类"></a>七，常用类</h1><h2 id="1-String"><a href="#1-String" class="headerlink" title="1.String"></a>1.String</h2><h3 id="1）String内存解析"><a href="#1）String内存解析" class="headerlink" title="1）String内存解析"></a>1）String内存解析</h3><p><img src="https://img-blog.csdnimg.cn/2020100621482679.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h3 id="2）String分析"><a href="#2）String分析" class="headerlink" title="2）String分析"></a>2）String分析</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 1.声明为final，不可被继承。</span></span><br><span class="line"><span class="comment">* 2.实现了java.io.Serializable接口，表示字符串是支持序列化的。</span></span><br><span class="line"><span class="comment">* 3.实现了Comparable&lt;String&gt;接口，表示String可以比较大小。</span></span><br><span class="line"><span class="comment">* 4.String内部定义了final char[] value用于存储字符串数据</span></span><br><span class="line"><span class="comment">* 5.String代表了不可变的字符序列，简称：不可变性。</span></span><br><span class="line"><span class="comment">* 1)当对字符串重新赋值，需要重新指定内存区域，不能再原有的地址重新赋值。</span></span><br><span class="line"><span class="comment">* 2)当对现的字符串进行连接操作时，需要重新指定内存区域，不能再原有的地址重新赋值。</span></span><br><span class="line"><span class="comment">* 3)当调用String的replace（方法修改字符或字符串时，也必须重新指定内存区域进行赋值。</span></span><br><span class="line"><span class="comment">* 6.通过字面量的方式给字符串赋值，此时的字符串值声明在字符串常量池中</span></span><br><span class="line"><span class="comment">* 7.字符串常量池不会存储相同内容的字符串的。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">String s1=<span class="string">&quot;abc&quot;</span>;<span class="comment">//字面量的定义方式</span></span><br><span class="line">String s2=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="comment">//s1=&quot;hello&quot;;</span></span><br><span class="line">System.out.println(s1==s2);<span class="comment">//比较s1和s2的地址值</span></span><br><span class="line">System.out.println(<span class="string">&quot;**********************************&quot;</span>);</span><br><span class="line">String s3=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">s3+=<span class="string">&quot;def&quot;</span>;</span><br><span class="line">System.out.println(s1==s3);<span class="comment">//false</span></span><br><span class="line">System.out.println(<span class="string">&quot;**********************************&quot;</span>);</span><br><span class="line">String s4=<span class="string">&quot;abc&quot;</span>;</span><br><span class="line">String s5=s4.replace(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;m&#x27;</span>);</span><br><span class="line">System.out.println(s4+<span class="string">&quot; &quot;</span>+s5);<span class="comment">//abc   mbc</span></span><br></pre></td></tr></table></figure>

<h3 id="3）String实例化"><a href="#3）String实例化" class="headerlink" title="3）String实例化"></a>3）String实例化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* String的实例化方式：</span></span><br><span class="line"><span class="comment">* 1.通过字面量定义的方式：</span></span><br><span class="line"><span class="comment">*数据声明在方法区对应的字符串常量池中</span></span><br><span class="line"><span class="comment">* 2.通过new+构造器的方式：</span></span><br><span class="line"><span class="comment">* 保存的地址值在堆空间中</span></span><br><span class="line"><span class="comment">* 面试题：String s3=new String(&quot;java&quot;);在内存中创建了几个对象？</span></span><br><span class="line"><span class="comment">* 两个：一个是堆空间中new的结构，一个是char【】数组对应的常量池的数据：java</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此时的s1和s2数据声明在方法区对应的字符串常量池中</span></span><br><span class="line">String s1=<span class="string">&quot;java&quot;</span>;</span><br><span class="line">String s2=<span class="string">&quot;java&quot;</span>;</span><br><span class="line"><span class="comment">//此时s3和s4保存的地址值在堆空间中</span></span><br><span class="line">String s3=<span class="keyword">new</span> String(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">String s4=<span class="keyword">new</span> String(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">System.out.println(s1==s2);<span class="comment">//true</span></span><br><span class="line">System.out.println(s1==s3);<span class="comment">//false</span></span><br><span class="line">System.out.println(s3==s4);<span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h3 id="4）图解两种创建字符串方式的区别"><a href="#4）图解两种创建字符串方式的区别" class="headerlink" title="4）图解两种创建字符串方式的区别"></a>4）图解两种创建字符串方式的区别</h3><p><img src="https://img-blog.csdnimg.cn/20201006214845243.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h3 id="5）图解字符串的存储"><a href="#5）图解字符串的存储" class="headerlink" title="5）图解字符串的存储"></a>5）图解字符串的存储</h3><p><img src="https://img-blog.csdnimg.cn/20201006214901866.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h3 id="6）图解字符串对象的存储"><a href="#6）图解字符串对象的存储" class="headerlink" title="6）图解字符串对象的存储"></a>6）图解字符串对象的存储</h3><p><img src="https://img-blog.csdnimg.cn/20201006214917884.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NTU5NjAyMg==,size_16,color_FFFFFF,t_70#pic_center#alt=%E5%9C%A8%E8%BF%99%E9%87%8C%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"></p>
<h3 id="7）String不同拼接操作的对比："><a href="#7）String不同拼接操作的对比：" class="headerlink" title="7）String不同拼接操作的对比："></a>7）String不同拼接操作的对比：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 1.常量与常量的拼接结果在常量池，且常量池中不会存在相同内容的常量。</span></span><br><span class="line"><span class="comment">* 2.只要其中一个是变量，结果就在堆中。</span></span><br><span class="line"><span class="comment">* 3.String s8=s5.intern();此时的返回值得到的s8是使用的常量池中已经存在的javahadoop</span></span><br><span class="line"><span class="comment">* 4.intern的返回值在方法去的常量池</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">String s1=<span class="string">&quot;java&quot;</span>;<span class="comment">//常量池</span></span><br><span class="line">String s2=<span class="string">&quot;hadoop&quot;</span>;<span class="comment">//常量池</span></span><br><span class="line">String s3=<span class="string">&quot;javahadoop&quot;</span>;<span class="comment">//常量池</span></span><br><span class="line">String s4=<span class="string">&quot;java&quot;</span>+<span class="string">&quot;hadoop&quot;</span>;<span class="comment">//常量池</span></span><br><span class="line">String s5=s1+<span class="string">&quot;hadoop&quot;</span>;<span class="comment">//堆空间</span></span><br><span class="line">String s6=<span class="string">&quot;java&quot;</span>+s2;<span class="comment">//堆空间</span></span><br><span class="line">String s7=s1+s2;<span class="comment">//堆空间</span></span><br><span class="line">String s8=s5.intern();<span class="comment">//常量池</span></span><br><span class="line">System.out.println(s3==s4);<span class="comment">//true</span></span><br><span class="line">System.out.println(s4==s5);<span class="comment">//false</span></span><br><span class="line">System.out.println(s3==s5);<span class="comment">//false</span></span><br><span class="line">System.out.println(s5==s6);<span class="comment">//false</span></span><br><span class="line">System.out.println(s3==s7);<span class="comment">//false</span></span><br><span class="line">System.out.println(s5==s7);<span class="comment">//false</span></span><br><span class="line">System.out.println(s6==s7);<span class="comment">//false</span></span><br><span class="line">System.out.println(s8==s3);<span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * String的一道面试题：</span></span><br><span class="line"><span class="comment"> * str传递给change方法的形参，只是形参的地址也指向了str所指向的地址，形参改变的话，因为是String</span></span><br><span class="line"><span class="comment"> * 类型，不可变性，所以形参只是重新开辟一一个value=”test ok&quot;的地址。</span></span><br><span class="line"><span class="comment"> * 而基本数据类型，改变他的值，就是把原地址的值给改变了。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest4</span> </span>&#123;</span><br><span class="line">    String str=<span class="keyword">new</span> String(<span class="string">&quot;good&quot;</span>);</span><br><span class="line">    <span class="keyword">char</span> []ch=&#123;<span class="string">&#x27;t&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;s&#x27;</span>,<span class="string">&#x27;t&#x27;</span>&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StringTest4 ex=<span class="keyword">new</span> StringTest4();</span><br><span class="line">        ex.change(ex.str,ex.ch);</span><br><span class="line">        System.out.println(ex.str+<span class="string">&quot; &quot;</span>+ex.ch);<span class="comment">//good  best</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">(String str, <span class="keyword">char</span>[] ch)</span> </span>&#123;</span><br><span class="line">        str=<span class="string">&quot;test ok&quot;</span>;</span><br><span class="line">        ch[<span class="number">0</span>]=<span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8）String的常用方法："><a href="#8）String的常用方法：" class="headerlink" title="8）String的常用方法："></a>8）String的常用方法：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String s1=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    String s2=<span class="string">&quot;world&quot;</span>;</span><br><span class="line">    System.out.println(s1.length());<span class="comment">//返回数组的长度 5</span></span><br><span class="line">    System.out.println(s1.charAt(<span class="number">3</span>));<span class="comment">//返回指定索引的字符 l</span></span><br><span class="line">    System.out.println(s1.isEmpty());<span class="comment">//判空 false</span></span><br><span class="line">    System.out.println(s1.toLowerCase());<span class="comment">//将String中所字符转换为小写 hello</span></span><br><span class="line">    System.out.println(s1.toUpperCase());<span class="comment">//将String中所字符转换为大写  HELLO</span></span><br><span class="line">    System.out.println(s1.trim());<span class="comment">//返回字符串副本，忽略前后的空白   hello</span></span><br><span class="line">    System.out.println(s1.equals(s2));<span class="comment">//比较字符串内容是否相同     false</span></span><br><span class="line">    System.out.println(s1.equalsIgnoreCase(s2));<span class="comment">//忽略大小写的比较字符串是否相同    false</span></span><br><span class="line">    System.out.println(s1.compareTo(s2));<span class="comment">//比较两个字符串的大小     -15</span></span><br><span class="line">    System.out.println(s1.substring(<span class="number">2</span>));<span class="comment">//从指定位置开始截取       llo</span></span><br><span class="line">    System.out.println(s1.substring(<span class="number">2</span>,<span class="number">4</span>));<span class="comment">//截取指定位置的字符串    ll</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String s1=<span class="string">&quot;helloworld&quot;</span>;</span><br><span class="line">    String s2=<span class="string">&quot;HelloWorld&quot;</span>;</span><br><span class="line">    System.out.println(s1.endsWith(<span class="string">&quot;ld&quot;</span>));<span class="comment">//是否已指定字符串结尾  true</span></span><br><span class="line">    System.out.println(s1.startsWith(<span class="string">&quot;he&quot;</span>));<span class="comment">//是否以指定的字符串开始  true</span></span><br><span class="line">    System.out.println(s1.startsWith(<span class="string">&quot;wo&quot;</span>,<span class="number">5</span>));<span class="comment">//是否在指定位置以这个字符串开始   //true</span></span><br><span class="line">    System.out.println(s1.contains(<span class="string">&quot;owo&quot;</span>));<span class="comment">//判断是否包含这个字符串  true</span></span><br><span class="line">    System.out.println(s1.indexOf(<span class="string">&quot;lo&quot;</span>));<span class="comment">//指定字符串所在的位置    3，没的话返回-1</span></span><br><span class="line">    System.out.println(s1.indexOf(<span class="string">&quot;lo&quot;</span>,<span class="number">5</span>));<span class="comment">//从指定位置找指定的字符串  -1</span></span><br><span class="line">    System.out.println(s1.lastIndexOf(<span class="string">&quot;lo&quot;</span>));<span class="comment">//从后往前找   3</span></span><br><span class="line">    System.out.println(s1.replace(<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;y&#x27;</span>));<span class="comment">//替换字符</span></span><br><span class="line">    System.out.println(s1.replace(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;666&quot;</span>));<span class="comment">//替换字符串</span></span><br></pre></td></tr></table></figure>

<h3 id="9）String和其他类型之间的转换"><a href="#9）String和其他类型之间的转换" class="headerlink" title="9）String和其他类型之间的转换"></a>9）String和其他类型之间的转换</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * String和其他类型之间的转换</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest7</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//String与基本数据类型，包装类的转换</span></span><br><span class="line">        String str1=<span class="string">&quot;123&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> num=Integer.parseInt(str1);<span class="comment">//String--&gt;int/integer</span></span><br><span class="line">        String str2=String.valueOf(num);<span class="comment">//int/integer--&gt;String</span></span><br><span class="line">        <span class="comment">//String与char[]之间的转换</span></span><br><span class="line">        String str3=<span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="keyword">char</span>[] array = str3.toCharArray();<span class="comment">//String--&gt;char[]数组</span></span><br><span class="line">        String str4 = <span class="keyword">new</span> String(array);<span class="comment">//char[]--&gt;String</span></span><br><span class="line">        <span class="comment">//String和字节数组之间的转换byte[]</span></span><br><span class="line">        String str5=<span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="keyword">byte</span> [] bytes= str5.getBytes(); <span class="comment">//String--&gt;byte[]  编码</span></span><br><span class="line">        String str6 = <span class="keyword">new</span> String(bytes);<span class="comment">//byte[]--&gt;String  解码</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 编码：字符串转换成字节。</span></span><br><span class="line"><span class="comment">         * 解码：字节转换为字符串。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10）String的四道面试题："><a href="#10）String的四道面试题：" class="headerlink" title="10）String的四道面试题："></a>10）String的四道面试题：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 模拟一个trim方法，去除字符串两端的空格</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1 = <span class="string">&quot;     123456     &quot;</span>;</span><br><span class="line">    <span class="keyword">char</span>[] array = str1.toCharArray();</span><br><span class="line">    <span class="keyword">char</span>[] array2 = <span class="keyword">new</span> <span class="keyword">char</span>[str1.length()];</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[i] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            array2[num] = array[i];</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    String string = <span class="keyword">new</span> String(array2);</span><br><span class="line">    System.out.println(string.substring(<span class="number">0</span>, num));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 交换指定位置字符串</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> start=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> end=<span class="number">5</span>;</span><br><span class="line">    String str1=<span class="string">&quot;0123456789&quot;</span>;</span><br><span class="line">    <span class="keyword">char</span>[] array = str1.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;(start+end)/<span class="number">2</span>+<span class="number">1</span> ; i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> a=array[i];</span><br><span class="line">        array[i]=array[end+start-i];</span><br><span class="line">        array[end+start-i]=a;</span><br><span class="line">    &#125;</span><br><span class="line">    String s = <span class="keyword">new</span> String(array);</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取一个字符串在另一个字符串中出现的次数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1=<span class="string">&quot;我爱中国，中国共产党万岁！&quot;</span>;</span><br><span class="line">    String str2=<span class="string">&quot;中国&quot;</span>;</span><br><span class="line">    <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (str1.contains(str2))&#123;</span><br><span class="line">        sum++;</span><br><span class="line">        <span class="keyword">int</span> num=str1.indexOf(str2);</span><br><span class="line">        str1=str1.substring(num+str2.length());</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对字符串中的字符进行自然排序</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str1=<span class="string">&quot;9876543210&quot;</span>;</span><br><span class="line">    <span class="keyword">char</span>[] array = str1.toCharArray();</span><br><span class="line">    Arrays.sort(array);</span><br><span class="line">    String str2 = <span class="keyword">new</span> String(array);</span><br><span class="line">    System.out.println(str2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="11）StringBuffer和StringBuilder"><a href="#11）StringBuffer和StringBuilder" class="headerlink" title="11）StringBuffer和StringBuilder"></a>11）StringBuffer和StringBuilder</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 关于StringBuffer和StringBuilder的使用</span></span><br><span class="line"><span class="comment"> * 1.StringBuffer的常用方法：</span></span><br><span class="line"><span class="comment"> *         StringBuffer sb1 = new StringBuffer(&quot;abcdef&quot;);</span></span><br><span class="line"><span class="comment"> *         sb1.append(&quot;A&quot;);//abcdefA</span></span><br><span class="line"><span class="comment"> *         sb1.delete(1, 4);//aefA</span></span><br><span class="line"><span class="comment"> *         sb1.replace(2,3,&quot;hello&quot;);//aehelloA</span></span><br><span class="line"><span class="comment"> *         sb1.insert(2,&quot;HELLO&quot;);//aeHELLOhelloA</span></span><br><span class="line"><span class="comment"> *         sb1.reverse();//反转  AollehOLLEHea</span></span><br><span class="line"><span class="comment"> *         sb1.charAt(1);</span></span><br><span class="line"><span class="comment"> *         sb1.indexOf(&quot;A&quot;);</span></span><br><span class="line"><span class="comment"> *         System.out.println(sb1);</span></span><br><span class="line"><span class="comment"> * 2.StringBuilder的常用方法：</span></span><br><span class="line"><span class="comment"> * 同StringBuffer</span></span><br><span class="line"><span class="comment"> * String,StringBuffer,StringBuilder者的异同：</span></span><br><span class="line"><span class="comment"> * 相同点：底层结构使用char[]数组存取，String的char[]数组用了final修饰</span></span><br><span class="line"><span class="comment"> * String:不可变字符串，</span></span><br><span class="line"><span class="comment"> * StringBuffer:可变的字符序列，线程安全的，效率低。</span></span><br><span class="line"><span class="comment"> * StringBuilder:可变的字符序列，线程不安全的，效率高。jdk1.5</span></span><br><span class="line"><span class="comment"> * String,StringBuffer,StringBuilder者效率对比：</span></span><br><span class="line"><span class="comment"> * StringBuilder效率最高，StringBuffer第二，String第3</span></span><br><span class="line"><span class="comment"> * 源码分析：</span></span><br><span class="line"><span class="comment"> * String str=new String();//char[] value=new char[0];</span></span><br><span class="line"><span class="comment"> * String str1=new String(&quot;abc&quot;);//char [] value=new char[] &#123;&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;&#125;;</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;</span></span><br><span class="line"><span class="comment"> * StringBuffer sb1=new StringBuffer();//char value[]=new char[16];底层创建了一个长度为16的char数组。</span></span><br><span class="line"><span class="comment"> * sb1.append(&#x27;a&#x27;);//value[0]=&#x27;a&#x27;;</span></span><br><span class="line"><span class="comment"> * sb1.append(&#x27;b&#x27;);//value[1]=&#x27;b&#x27;;</span></span><br><span class="line"><span class="comment"> * StringBuffer sb2=new StringBuffer(&quot;abc&quot;);//char []value=new char [&quot;abc&quot;.length()+16];</span></span><br><span class="line"><span class="comment"> * 问题一：System.out.println(sb2.length());//3</span></span><br><span class="line"><span class="comment"> * 因为底层返回的长度只是字符串的长度不是数组的长度</span></span><br><span class="line"><span class="comment"> * 问题二：扩容问题：如果要添加的数据底层数组装不下了，那就需要扩容底层的数组。</span></span><br><span class="line"><span class="comment"> * 默认情况下，扩容为原来容量的2倍+2，同时将原数组中的元素复制到新的数组中。</span></span><br><span class="line"><span class="comment"> * 指导意义：开发中建议大家使用：StringBuffer或StringBuilder</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringBufferTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        StringBuffer sb1 = <span class="keyword">new</span> StringBuffer(<span class="string">&quot;abcdef&quot;</span>);</span><br><span class="line">        sb1.append(<span class="string">&quot;A&quot;</span>);<span class="comment">//abcdefA</span></span><br><span class="line">        sb1.delete(<span class="number">1</span>, <span class="number">4</span>);<span class="comment">//aefA</span></span><br><span class="line">        sb1.replace(<span class="number">2</span>,<span class="number">3</span>,<span class="string">&quot;hello&quot;</span>);<span class="comment">//aehelloA</span></span><br><span class="line">        sb1.insert(<span class="number">2</span>,<span class="string">&quot;HELLO&quot;</span>);<span class="comment">//aeHELLOhelloA</span></span><br><span class="line">        sb1.reverse();<span class="comment">//反转  AollehOLLEHea</span></span><br><span class="line">        sb1.charAt(<span class="number">1</span>);</span><br><span class="line">        sb1.indexOf(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        System.out.println(sb1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="面试题-1"><a href="#面试题-1" class="headerlink" title="面试题"></a>面试题</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String s1=<span class="keyword">null</span>;</span><br><span class="line">    StringBuffer sb1=<span class="keyword">new</span> StringBuffer();</span><br><span class="line">    sb1.append(s1);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * StringBuffer的append方法会将添加进来的null字符串转化为”null“字符串添加进去。</span></span><br><span class="line"><span class="comment">     * 所以此处不会出空指针异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    System.out.println(sb1.length());<span class="comment">//4</span></span><br><span class="line">    System.out.println(sb1);<span class="comment">//&quot;null&quot;</span></span><br><span class="line">    StringBuffer sb2=<span class="keyword">new</span> StringBuffer(s1);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * StringBuffer的构造器并不会对传入的null进行处理</span></span><br><span class="line"><span class="comment">     * 所以此处空指针异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    System.out.println(sb2);<span class="comment">//java.lang.NullPointerException</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="String，StringBuffer，StringBuilder的区别"><a href="#String，StringBuffer，StringBuilder的区别" class="headerlink" title="String，StringBuffer，StringBuilder的区别"></a>String，StringBuffer，StringBuilder的区别</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ：</span></span><br><span class="line"><span class="comment"> * 1.String：不可变字符串。任何对内容的修改，String指向的地址都发生了变化。</span></span><br><span class="line"><span class="comment"> * 1String a=&quot;123&quot;; a在栈里面，指向字符串常量池中的123所对应的地址。当修改a的内容，就相当于</span></span><br><span class="line"><span class="comment"> * 将a所指向的地址做出了改变。</span></span><br><span class="line"><span class="comment"> * 2String a=new String(&quot;123&quot;);a在栈里面，指向堆空间中new出来的结构，new出来的结构指向字符串常量池</span></span><br><span class="line"><span class="comment"> * 中123对应的地址，改变a的内容，还是相当于改变了a所指向的地址。</span></span><br><span class="line"><span class="comment"> * 2.StringBuffer：线程安全的，jdk1.1，效率低。</span></span><br><span class="line"><span class="comment"> * 3.StringBuilder：线程不安全，效率高。jdk1.5新特性。底层先创建一个长度为16的数组，</span></span><br><span class="line"><span class="comment"> * 每次添加值，就是给数组对应的位置赋值，扩容问题：每次扩容为原来的2倍+2.再将原来的数组复制进去。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h2 id="2-时间日期类"><a href="#2-时间日期类" class="headerlink" title="2.时间日期类"></a>2.时间日期类</h2><h3 id="1）jdk8之前的时间日期API"><a href="#1）jdk8之前的时间日期API" class="headerlink" title="1）jdk8之前的时间日期API"></a>1）jdk8之前的时间日期API</h3><h4 id="①时间戳"><a href="#①时间戳" class="headerlink" title="①时间戳"></a>①时间戳</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> millis = System.currentTimeMillis();</span><br><span class="line">    System.out.println(millis);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="②java-util-Date"><a href="#②java-util-Date" class="headerlink" title="②java.util.Date"></a>②java.util.Date</h4><p>​    –&gt;java.sql.Date</p>
<ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">两个构造器的使用</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">两个方法的使用</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">toString()显示当前的年月日时分秒</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date.getTime()时间戳</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Date date=<span class="keyword">new</span> Date();</span><br><span class="line">    System.out.println(date.toString());<span class="comment">//Thu Jan 30 17:00:01 CST 2020</span></span><br><span class="line">    System.out.println(date.getTime());<span class="comment">//1580374801066</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Date date = <span class="keyword">new</span> Date(System.currentTimeMillis());</span><br><span class="line">    System.out.println(date.toString());<span class="comment">//Thu Jan 30 17:00:33 CST 2020</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="③java-sql-Date"><a href="#③java-sql-Date" class="headerlink" title="③java.sql.Date"></a>③java.sql.Date</h4><p>对应着数据库中的日期类型变量</p>
<p>如何实例化</p>
<p>sql.Date–&gt;util.Date直接赋值</p>
<p>util.Date–&gt;sql.Date</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">    java.sql.Date date=<span class="keyword">new</span> java.sql.Date(System.currentTimeMillis());</span><br><span class="line">    System.out.println(date.toString());</span><br><span class="line">    Date date1=<span class="keyword">new</span> Date();</span><br><span class="line">    <span class="keyword">long</span> time = date1.getTime();</span><br><span class="line">    java.sql.Date date2=<span class="keyword">new</span> java.sql.Date(time);</span><br><span class="line">    System.out.println(date2.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="④SimpleDateFormat类"><a href="#④SimpleDateFormat类" class="headerlink" title="④SimpleDateFormat类"></a>④SimpleDateFormat类</h4><ul>
<li>实例化</li>
<li>格式化：日期–&gt;文本(字符串)</li>
<li>解析：文本(字符串)–&gt;日期</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    <span class="comment">//实例化</span></span><br><span class="line">    SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">    Date date=<span class="keyword">new</span> Date();</span><br><span class="line">    <span class="comment">//格式化</span></span><br><span class="line">    String s = format.format(date);</span><br><span class="line">    System.out.println(s);<span class="comment">//2020-01-30 05:24:23</span></span><br><span class="line">    <span class="comment">//解析</span></span><br><span class="line">    Date date1 = format.parse(s);</span><br><span class="line">    System.out.println(date1);<span class="comment">//Thu Jan 30 05:24:23 CST 2020</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="⑤Calendar日历类的使用-抽象类"><a href="#⑤Calendar日历类的使用-抽象类" class="headerlink" title="⑤Calendar日历类的使用(抽象类)"></a>⑤Calendar日历类的使用(抽象类)</h4><ul>
<li>1.实例化：</li>
<li>①创建子类的对象（不建议）</li>
<li>②调用其静态方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">   <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test7</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        <span class="comment">//2.常用方法：</span></span><br><span class="line"><span class="comment">//        calendar.get();</span></span><br><span class="line">        <span class="keyword">int</span> days = calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line">        System.out.println(days);<span class="comment">//这个月的第几天</span></span><br><span class="line"><span class="comment">//        calendar.set();//修改calendar本身</span></span><br><span class="line">        calendar.set(Calendar.DAY_OF_MONTH, <span class="number">20</span>);</span><br><span class="line">        System.out.println(calendar.get(Calendar.DAY_OF_MONTH));</span><br><span class="line"><span class="comment">//        calendar.add();//修改calendar本身</span></span><br><span class="line">        calendar.add(Calendar.DAY_OF_MONTH, <span class="number">20</span>);</span><br><span class="line">        System.out.println(calendar.get(Calendar.DAY_OF_MONTH));</span><br><span class="line"><span class="comment">//        calendar.getTime();</span></span><br><span class="line">        Date time = calendar.getTime();</span><br><span class="line">        System.out.println(time);</span><br><span class="line"><span class="comment">//        calendar.setTime();</span></span><br><span class="line">        Date date = <span class="keyword">new</span> Date();</span><br><span class="line">        calendar.setTime(date);</span><br><span class="line">        System.out.println(calendar.getTime());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="⑥练习"><a href="#⑥练习" class="headerlink" title="⑥练习"></a>⑥练习</h4><h5 id="字符串2020-09-08转换为java-sql-Date"><a href="#字符串2020-09-08转换为java-sql-Date" class="headerlink" title="字符串2020-09-08转换为java.sql.Date"></a>字符串2020-09-08转换为java.sql.Date</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test8</span><span class="params">()</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    String str=<span class="string">&quot;2020-09-08&quot;</span>;</span><br><span class="line">    SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">    Date date = format.parse(str);</span><br><span class="line">    <span class="keyword">long</span> time = date.getTime();</span><br><span class="line">    java.sql.Date sqlDate=<span class="keyword">new</span> java.sql.Date(time);</span><br><span class="line">    System.out.println(sqlDate.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="渔夫三天打鱼，两天晒网。1990-01-01"><a href="#渔夫三天打鱼，两天晒网。1990-01-01" class="headerlink" title="渔夫三天打鱼，两天晒网。1990-01-01"></a>渔夫三天打鱼，两天晒网。1990-01-01</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 问：渔夫在打鱼还是在晒网？</span><br><span class="line">     * 2020-09-08</span><br><span class="line">     * 总天数%5==1，2，3打鱼；0，4晒网</span><br><span class="line">          * 总天数？</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test9</span><span class="params">()</span> <span class="keyword">throws</span> ParseException </span>&#123;</span><br><span class="line">    String start=<span class="string">&quot;1990-01-01&quot;</span>;</span><br><span class="line">    String end=<span class="string">&quot;2020-09-08&quot;</span>;</span><br><span class="line">    SimpleDateFormat format = <span class="keyword">new</span> SimpleDateFormat(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line">    Date date = format.parse(start);</span><br><span class="line">    Date date1 = format.parse(end);</span><br><span class="line">    <span class="keyword">long</span> time = date.getTime();</span><br><span class="line">    <span class="keyword">long</span> time1 = date1.getTime();</span><br><span class="line">    <span class="keyword">long</span> day=(time1-time)/(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>)+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (day%<span class="number">5</span>==<span class="number">0</span>||day%<span class="number">5</span>==<span class="number">4</span>)&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;今天筛网&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;今天打🐟&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2）jdk8时间日期API"><a href="#2）jdk8时间日期API" class="headerlink" title="2）jdk8时间日期API"></a>2）jdk8时间日期API</h3><h4 id="①LocalDate-LocalTime-LocalDateTime的使用"><a href="#①LocalDate-LocalTime-LocalDateTime的使用" class="headerlink" title="①LocalDate,LocalTime,LocalDateTime的使用"></a>①LocalDate,LocalTime,LocalDateTime的使用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//实例化方式一：获取当前时间</span></span><br><span class="line">    LocalDate now = LocalDate.now();</span><br><span class="line">    LocalTime now1 = LocalTime.now();</span><br><span class="line">    LocalDateTime now2 = LocalDateTime.now();</span><br><span class="line">    System.out.println(now);<span class="comment">//2020-01-30</span></span><br><span class="line">    System.out.println(now1);<span class="comment">//13:57:33.240</span></span><br><span class="line">    System.out.println(now2);<span class="comment">//2020-01-30T13:57:33.240</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//实例化方式二：获取指定的日期时间</span></span><br><span class="line">    LocalDate date = LocalDate.of(<span class="number">2020</span>, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">    System.out.println(date);<span class="comment">//2020-02-02</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LocalDateTime time = LocalDateTime.of(<span class="number">2012</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">53</span>, <span class="number">23</span>);</span><br><span class="line">    System.out.println(time.getDayOfMonth());<span class="comment">//2</span></span><br><span class="line">    System.out.println(time.getDayOfWeek());<span class="comment">//THURSDAY</span></span><br><span class="line">    System.out.println(time.getDayOfYear());<span class="comment">//33</span></span><br><span class="line">    System.out.println(time.getHour());<span class="comment">//12</span></span><br><span class="line">    System.out.println(time.getMonthValue());<span class="comment">//2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LocalDateTime time = LocalDateTime.of(<span class="number">2012</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">12</span>, <span class="number">53</span>, <span class="number">23</span>);</span><br><span class="line">    LocalDateTime localDateTime = time.withDayOfMonth(<span class="number">2</span>);<span class="comment">//不可变性,重置</span></span><br><span class="line">    System.out.println(localDateTime);</span><br><span class="line">    LocalDateTime plusDays = time.plusDays(<span class="number">108</span>);<span class="comment">//不可变性，加</span></span><br><span class="line">    System.out.println(plusDays);</span><br><span class="line">    LocalDateTime minusDays = time.minusDays(<span class="number">20</span>);<span class="comment">//不可变性，减</span></span><br><span class="line">    System.out.println(minusDays);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="②Instant类"><a href="#②Instant类" class="headerlink" title="②Instant类"></a>②Instant类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//实例化</span></span><br><span class="line">    Instant now = Instant.now();</span><br><span class="line">    System.out.println(now);<span class="comment">//本初子午线的时间</span></span><br><span class="line">    OffsetDateTime offsetDateTime = now.atOffset(ZoneOffset.ofHours(<span class="number">8</span>));</span><br><span class="line">    System.out.println(offsetDateTime);<span class="comment">//当前时间</span></span><br><span class="line">    <span class="keyword">long</span> second = offsetDateTime.toEpochSecond();</span><br><span class="line">    System.out.println(second);<span class="comment">//获取m数s</span></span><br><span class="line">    Instant instant = Instant.ofEpochMilli(<span class="number">1580365450L</span>*<span class="number">1000</span>);</span><br><span class="line">    System.out.println(instant);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="③格式化或者解析时间日期"><a href="#③格式化或者解析时间日期" class="headerlink" title="③格式化或者解析时间日期"></a>③格式化或者解析时间日期</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//自定义格式</span></span><br><span class="line">    DateTimeFormatter formatter=DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span>);</span><br><span class="line">    <span class="comment">//格式化</span></span><br><span class="line">    String str=formatter.format(LocalDateTime.now());<span class="comment">//2020-01-30 04:37:39</span></span><br><span class="line">    System.out.println(str);<span class="comment">//</span></span><br><span class="line">    <span class="comment">//解析</span></span><br><span class="line">    TemporalAccessor accessor=formatter.parse(<span class="string">&quot;2020-02-18 03:52:09&quot;</span>);</span><br><span class="line">    System.out.println(accessor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-比较器与其他类"><a href="#3-比较器与其他类" class="headerlink" title="3.比较器与其他类"></a>3.比较器与其他类</h2><h3 id="1）比较器"><a href="#1）比较器" class="headerlink" title="1）比较器"></a>1）比较器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Java中的对象，只能使用==或者！=进行比较，不能使用&lt;或&gt;进行比较，但是在实际开发中，我们需要对多个对象进行排序，言外之意，就需要比较对象的大小。如何实现？使用两个接口，Comparable或Comparator。</span><br><span class="line">liang者使用对比：</span><br><span class="line">1）Comparable：让类去继承接口，对象具有比较大小的属性</span><br><span class="line">2）Comparator：临时new一个匿名对象重写方法，传入对象进行比较，对象不具有比较大小的属性</span><br><span class="line">* Comparable接口的使用：自然排序</span><br><span class="line">* 1.String或者包装类实现了Comparable接口重写了ComepareTo方法，给出了比较两个对象大小的方法。</span><br><span class="line">* 2.重写CompareTo（）方法的规则：</span><br><span class="line">* 如果当前对象this大于形参对象obj，则返回正整数，</span><br><span class="line">* 如果当前对象this小于形参对象obj，则返回负整数，</span><br><span class="line">* 否则返回0；</span><br><span class="line">* 3.对于自定义类来说，如果需要排序，我们可以让自定义类实现Comparable接口，重写CompareTo方法。</span><br><span class="line">* 在方法中指明如何排序。</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Goods[]arr=<span class="keyword">new</span> Goods[<span class="number">4</span>];</span><br><span class="line">        arr[<span class="number">0</span>]=<span class="keyword">new</span> Goods(<span class="string">&quot;lenovo&quot;</span>,<span class="number">50.0</span>);</span><br><span class="line">        arr[<span class="number">1</span>]=<span class="keyword">new</span> Goods(<span class="string">&quot;honor&quot;</span>,<span class="number">50.0</span>);</span><br><span class="line">        arr[<span class="number">2</span>]=<span class="keyword">new</span> Goods(<span class="string">&quot;iphone&quot;</span>,<span class="number">888.8</span>);</span><br><span class="line">        arr[<span class="number">3</span>]=<span class="keyword">new</span> Goods(<span class="string">&quot;zte&quot;</span>,<span class="number">66.6</span>);</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Goods</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Goods</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Goods</span><span class="params">(String name, <span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Goods&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, price=&quot;</span> + price +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPrice</span><span class="params">(<span class="keyword">double</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Goods)&#123;</span><br><span class="line">            Goods goods= (Goods) o;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.price&gt;goods.price?<span class="number">1</span>:(<span class="keyword">this</span>.price&lt;goods.price?-<span class="number">1</span>:(<span class="keyword">this</span>.name.compareTo(goods.name)));</span><br><span class="line">               <span class="comment">// return this.name.compareTo(goods.name);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;传入的数据类型不一致！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* Comparator接口：定制排序</span><br><span class="line">* 1.当元素的北京没有实现java.long.Comparable接口而又不方便修改代码</span><br><span class="line">* 2.实现了java.lang.Comparable接口的排序规则不适合当前的操作</span><br><span class="line">* 3.抽象方法：compare（Object obj1,Object obj2）</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog[]arr=<span class="keyword">new</span> Dog[<span class="number">4</span>];</span><br><span class="line">        arr[<span class="number">0</span>]=<span class="keyword">new</span> Dog(<span class="string">&quot;lenovo&quot;</span>,<span class="number">50</span>);</span><br><span class="line">        arr[<span class="number">1</span>]=<span class="keyword">new</span> Dog(<span class="string">&quot;honor&quot;</span>,<span class="number">50</span>);</span><br><span class="line">        arr[<span class="number">2</span>]=<span class="keyword">new</span> Dog(<span class="string">&quot;iphone&quot;</span>,<span class="number">40</span>);</span><br><span class="line">        arr[<span class="number">3</span>]=<span class="keyword">new</span> Dog(<span class="string">&quot;zte&quot;</span>,<span class="number">60</span>);</span><br><span class="line">        Arrays.sort(arr, <span class="keyword">new</span> Comparator&lt;Dog&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Dog o1, Dog o2)</span> </span>&#123;</span><br><span class="line">                <span class="comment">//先照名字从低到高，再照年龄从高到低</span></span><br><span class="line">                <span class="keyword">if</span> (o1.getName().equals(o2.getName()))&#123;</span><br><span class="line">                    <span class="keyword">return</span> -Double.compare(o1.getAge(),o2.getAge());</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> o1.getName().compareTo(o2.getName());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2）Math类"><a href="#2）Math类" class="headerlink" title="2）Math类"></a>2）Math类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*         Math.abs();//绝对值</span></span><br><span class="line"><span class="comment">*         Math.sqrt();//平方根</span></span><br><span class="line"><span class="comment">*         Math.pow();//a的b次幂</span></span><br><span class="line"><span class="comment">*         Math.log();//自然对数</span></span><br><span class="line"><span class="comment">*         Math.exp();//e为底指数</span></span><br><span class="line"><span class="comment">*         Math.max();//</span></span><br><span class="line"><span class="comment">*         Math.min();//</span></span><br><span class="line"><span class="comment">*         Math.random();//随机数</span></span><br><span class="line"><span class="comment">*         Math.round();//double/float转long</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="3）BigInteger和BigDecimal"><a href="#3）BigInteger和BigDecimal" class="headerlink" title="3）BigInteger和BigDecimal"></a>3）BigInteger和BigDecimal</h3><p>高精度整数运算器和高精度浮点数运算器</p>
<h1 id="八，枚举类和注解"><a href="#八，枚举类和注解" class="headerlink" title="八，枚举类和注解"></a>八，枚举类和注解</h1><h2 id="1-枚举类"><a href="#1-枚举类" class="headerlink" title="1.枚举类"></a>1.枚举类</h2><h3 id="1）枚举类的使用"><a href="#1）枚举类的使用" class="headerlink" title="1）枚举类的使用"></a>1）枚举类的使用</h3><ul>
<li>1.枚举的理解：类的对象只有有限个，确定的。我们称此类为枚举类。</li>
<li>2.当我们定义一组常量时，建议使用枚举类。</li>
<li>3.如果枚举类的对象只有一个，可以看作时单例设计模式。</li>
</ul>
<h3 id="2）如何定义枚举类"><a href="#2）如何定义枚举类" class="headerlink" title="2）如何定义枚举类"></a>2）如何定义枚举类</h3><h4 id="方式一：jdk5-0之前自定义枚举类"><a href="#方式一：jdk5-0之前自定义枚举类" class="headerlink" title="方式一：jdk5.0之前自定义枚举类"></a>方式一：jdk5.0之前自定义枚举类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yinhuidong</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@createTime</span> 2020-04-08-13:11</span></span><br><span class="line"><span class="comment"> * jdk5.0之前自定义枚举类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Season</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String desc;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Season</span><span class="params">(String name,String desc)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.desc=desc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SPRING=<span class="keyword">new</span> Season(<span class="string">&quot;春天&quot;</span>,<span class="string">&quot;春暖花开&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season SUMMER=<span class="keyword">new</span> Season(<span class="string">&quot;夏天&quot;</span>,<span class="string">&quot;夏日炎炎&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season AUTUMO=<span class="keyword">new</span> Season(<span class="string">&quot;秋天&quot;</span>,<span class="string">&quot;秋高气爽&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Season WINTER=<span class="keyword">new</span> Season(<span class="string">&quot;冬天&quot;</span>,<span class="string">&quot;雪花飘飘&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *测试jdk5.0之前的枚举类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test1</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//System.out.println(Season.SPRING);</span></span><br><span class="line">        Season season=Season.SPRING;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="jdk5-0使用enum关键字定义枚举类"><a href="#jdk5-0使用enum关键字定义枚举类" class="headerlink" title="jdk5.0使用enum关键字定义枚举类"></a>jdk5.0使用enum关键字定义枚举类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yinhuidong</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@createTime</span> 2020-04-08-17:50</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Info</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">Status</span> <span class="keyword">implements</span> <span class="title">Info</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    FREE&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;空闲&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    BUSY&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;忙碌&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WORK&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;工作&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Status</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *jdk5.0之后使用enum关键字定义枚举类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test2</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Status status= FREE;</span><br><span class="line">        status.show();</span><br><span class="line">        Status[] values = Status.values();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;values.length;i++)&#123;</span><br><span class="line">            System.out.println(values[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(FREE.toString());</span><br><span class="line">        System.out.println(Status.valueOf(<span class="string">&quot;FREE&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3）Enum类中常用方法"><a href="#3）Enum类中常用方法" class="headerlink" title="3）Enum类中常用方法"></a>3）Enum类中常用方法</h3><ul>
<li><p>value()</p>
</li>
<li><p>valueof()</p>
</li>
<li><p>toString()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">State[] states = State.values();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;states.length ; i++) &#123;</span><br><span class="line">    System.out.print(states[i]+<span class="string">&quot; &quot;</span>);<span class="comment">//FREE HARD SLEEP</span></span><br><span class="line">&#125;</span><br><span class="line">System.out.println(free.toString());<span class="comment">//FREE</span></span><br><span class="line">System.out.println(State.valueOf(<span class="string">&quot;FREE&quot;</span>));<span class="comment">//FREE,如果没此对象就会报异常。java.lang.IllegalArgumentException</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4）使用enum关键字定义的枚举类实现接口的情况"><a href="#4）使用enum关键字定义的枚举类实现接口的情况" class="headerlink" title="4）使用enum关键字定义的枚举类实现接口的情况"></a>4）使用enum关键字定义的枚举类实现接口的情况</h3><p>*情况一：实现接口，在enum的枚举类中重写方法</p>
<ul>
<li>情况二：实现接口，在enum的枚举类中声明的每个对象下都重写方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FREE&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;空闲！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="2-注解"><a href="#2-注解" class="headerlink" title="2.注解"></a>2.注解</h2><h3 id="1-Annotation使用示例"><a href="#1-Annotation使用示例" class="headerlink" title="1.Annotation使用示例"></a>1.Annotation使用示例</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">/**</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@author yinhuidong</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@createTime 2020-04-08-20:56</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">1.Annotation使用示例</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">1）文档注释中的注解</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@return</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@Exception</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@param</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">2)jdk三个内置的注解</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">1.@Override 子类重写父类方法，编译期间校验</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">2.@Deprecated  过时的或危险的（可能造成线程死锁）</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">3.@SuppressWarnings()  未使用提醒</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">3）组件框架，跟踪代码依赖性，代替配置文件</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@Autowrited</span></span><br><span class="line"> <span class="attr">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="2-自定义注解与元注解"><a href="#2-自定义注解与元注解" class="headerlink" title="2.自定义注解与元注解"></a>2.自定义注解与元注解</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">/**</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@author yinhuidong</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@createTime 2020-04-08-21:02</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">自定义注解：参照@SuppressWarnings()</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">如果自定义的注解没有成员，那就代表一个标识</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">如果自定义注解有成员，需要在使用时指定成员的值</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">自定义注解必须配合反射</span></span><br><span class="line"> <span class="meta">*</span>	<span class="string">如果想食用反射操作注解，那么注解必须声明为RUNTIME</span></span><br><span class="line"> <span class="attr">*</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">元注解：可以修饰其他注解的注解</span></span><br><span class="line"> <span class="meta">*</span>  <span class="string">1. Retention:指明修饰的注解的生命周期：SOURCE\CLASS(默认行为)\RUNTIME</span></span><br><span class="line"> <span class="meta">*</span>      <span class="string">*只有声明为runtime的注解，才能通过反射获取</span></span><br><span class="line"> <span class="meta">*</span>  <span class="string">2.Target：用于指定被修饰的结构有哪些</span></span><br><span class="line"> <span class="meta">*</span>  <span class="string">3.Documented:被他修饰的注解可以被文档注释读取，保留下来</span></span><br><span class="line"> <span class="meta">*</span>  <span class="string">4.Inherited：具有继承性，父类被此注解修饰，子类自动继承父类的注解</span></span><br><span class="line"> <span class="attr">*/</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface MyAnnotation &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">String</span> <span class="string">value() default &quot;hello&quot;;</span></span><br><span class="line">    <span class="attr">//String类型的属性，默认值为hello</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="1-Retention"><a href="#1-Retention" class="headerlink" title="1.Retention"></a>1.Retention</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">@Documented</span></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="attr">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface Retention &#123;</span></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Returns the retention policy.</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return the retention policy</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">RetentionPolicy</span> <span class="string">value();</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">继续查看RetentionPolicy，这是一个枚举类</span></span><br><span class="line"><span class="attr">public</span> <span class="string">enum RetentionPolicy &#123;</span></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Annotations are to be discarded by the compiler.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">SOURCE,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Annotations are to be recorded in the class file by the compiler</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">but need not be retained by the VM at run time.  This is the default</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">behavior.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">CLASS,</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Annotations are to be recorded in the class file by the compiler and</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">retained by the VM at run time, so they may be read reflectively.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@see java.lang.reflect.AnnotatedElement</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">RUNTIME</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">SOURCE：编译时起作用</span></span><br><span class="line"><span class="attr">CLASS：字节码文件</span></span><br><span class="line"><span class="attr">RUNTIME：运行时</span></span><br></pre></td></tr></table></figure>

<h4 id="2-Target"><a href="#2-Target" class="headerlink" title="2.Target"></a>2.Target</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">@Documented</span></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="attr">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface Target &#123;</span></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Returns an array of the kinds of elements an annotation type</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">can be applied to.</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return an array of the kinds of elements an annotation type</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">can be applied to</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="meta">ElementType[]</span> <span class="string">value();</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">继续点击进入ElementType</span></span><br><span class="line"><span class="attr">又是一个枚举类：指定可以修饰的类型</span></span><br><span class="line"></span><br><span class="line"><span class="attr">public</span> <span class="string">enum ElementType &#123;</span></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Class, interface (including annotation type), or enum declaration */</span></span><br><span class="line">    <span class="attr">TYPE,//类上</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Field declaration (includes enum constants) */</span></span><br><span class="line">    <span class="attr">FIELD,//属性</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Method declaration */</span></span><br><span class="line">    <span class="attr">METHOD,//方法</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Formal parameter declaration */</span></span><br><span class="line">    <span class="attr">PARAMETER,//成员变量</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Constructor declaration */</span></span><br><span class="line">    <span class="attr">CONSTRUCTOR,//构造器</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Local variable declaration */</span></span><br><span class="line">    <span class="attr">LOCAL_VARIABLE,//局部变量</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Annotation type declaration */</span></span><br><span class="line">    <span class="attr">ANNOTATION_TYPE,//注解类型</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">/**</span> <span class="string">Package declaration */</span></span><br><span class="line">    <span class="attr">PACKAGE,//包</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Type parameter declaration</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@since 1.8</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">TYPE_PARAMETER，//泛型</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Use of a type</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@since 1.8</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">TYPE_USE</span> <span class="string">//可重复注解</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-Documented"><a href="#3-Documented" class="headerlink" title="3.Documented"></a>3.Documented</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">@Documented</span></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="attr">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface Documented &#123;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">指示默认情况下iavadoc和类似工具将记录具有类型的注释。此类型应用于对类型声明进行注释，这些类型的注释会影响其客户端对带注释的元素的使用。如果类型声明是用文档注释的，那么它的注释将成为公共API的一部分注释元素的。</span></span><br></pre></td></tr></table></figure>

<h4 id="4-Inherited"><a href="#4-Inherited" class="headerlink" title="4.Inherited"></a>4.Inherited</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">@Documented</span></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="attr">@Target(ElementType.ANNOTATION_TYPE)</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface Inherited &#123;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">表示注释类型是自动继承的。如果继承的元注释存在于注释类型上声明，用户查询类声明上的注释类型，而类声明没有针对这种类型的注释，然后类的超类将自动查询注释类型。此过程将重复进行，直到找到此类型的注释，或找到类层次结构的顶部(对象)是达到了。如果没有该类的超类，那么查询将表明所涉及的类没有这样的注释。&lt;p&gt;注意，这个元注释类型没有效果，如果注释的类型是用来注释类以外的任何东西。还要注意，这个元注释只会导致从超类继承注释;对实现接口的注释没有效果</span></span><br></pre></td></tr></table></figure>

<h3 id="3-jdk8新特性"><a href="#3-jdk8新特性" class="headerlink" title="3.jdk8新特性"></a>3.jdk8新特性</h3><h4 id="1-可重复注解"><a href="#1-可重复注解" class="headerlink" title="1.可重复注解"></a>1.可重复注解</h4><p><strong>一个类上写两个一样的注解</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">@MyAnnotation(&quot;hi&quot;)</span></span><br><span class="line"><span class="attr">@MyAnnotation</span></span><br><span class="line"><span class="attr">public</span> <span class="string">class AnnotationTest &#123;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)//运行时</span></span><br><span class="line"><span class="attr">//指定可以修饰哪些结构</span></span><br><span class="line"><span class="meta">@Target(value</span> = <span class="string">&#123;ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.FIELD,</span></span><br><span class="line">        <span class="meta">ElementType.LOCAL_VARIABLE,</span> <span class="string">ElementType.METHOD, ElementType.PACKAGE,</span></span><br><span class="line">        <span class="meta">ElementType.PARAMETER,</span> <span class="string">ElementType.TYPE, ElementType.TYPE_PARAMETER,</span></span><br><span class="line">        <span class="attr">ElementType.TYPE_USE&#125;)</span></span><br><span class="line"><span class="attr">@Documented//文档注释保留识别</span></span><br><span class="line"><span class="attr">@Inherited//被子类继承</span></span><br><span class="line"><span class="attr">@Repeatable(MyAnnotations.class)//标识该注解可以实现重复注解</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface MyAnnotation &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">String</span> <span class="string">value() default &quot;hello&quot;;</span></span><br><span class="line">    <span class="attr">//String类型的属性，默认值为hello</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">@Retention(RetentionPolicy.RUNTIME)//运行时</span></span><br><span class="line"><span class="attr">//指定可以修饰哪些结构</span></span><br><span class="line"><span class="meta">@Target(value</span> = <span class="string">&#123;ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.FIELD,</span></span><br><span class="line">        <span class="meta">ElementType.LOCAL_VARIABLE,</span> <span class="string">ElementType.METHOD, ElementType.PACKAGE,</span></span><br><span class="line">        <span class="meta">ElementType.PARAMETER,</span> <span class="string">ElementType.TYPE, ElementType.TYPE_PARAMETER,</span></span><br><span class="line">        <span class="attr">ElementType.TYPE_USE&#125;)</span></span><br><span class="line"><span class="attr">@Documented//文档注释保留识别</span></span><br><span class="line"><span class="attr">@Inherited//被子类继承</span></span><br><span class="line"><span class="attr">public</span> <span class="string">@interface MyAnnotations &#123;</span></span><br><span class="line">    <span class="attr">//声明一个MyAnnotation类型的数组</span></span><br><span class="line">    <span class="attr">MyAnnotation</span> <span class="string">[]value();</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-类型注解"><a href="#2-类型注解" class="headerlink" title="2.类型注解"></a>2.类型注解</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">class</span> <span class="string">Test&lt;@MyAnnotation T&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">//此时需要指明@Target(ElementType.TYPE_PARAMETER)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">class</span> <span class="string">Test2&#123;</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">static void main(String[] args) &#123;</span></span><br><span class="line">        <span class="meta">Class&lt;Test&gt;</span> <span class="string">clazz = Test.class;</span></span><br><span class="line">        <span class="meta">Annotation[]</span> <span class="string">annotations = clazz.getAnnotations();</span></span><br><span class="line">        <span class="attr">for</span> <span class="string">(int i = 0; i &lt;annotations.length ; i++) &#123;</span></span><br><span class="line">            <span class="attr">System.out.println(annotations[i]);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="九，集合框架"><a href="#九，集合框架" class="headerlink" title="九，集合框架"></a>九，集合框架</h1><h2 id="1-collection接口"><a href="#1-collection接口" class="headerlink" title="1.collection接口"></a>1.collection接口</h2><h3 id="1）Java集合框架的概述"><a href="#1）Java集合框架的概述" class="headerlink" title="1）Java集合框架的概述"></a>1）Java集合框架的概述</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1.集合和数组都是对多个数据进行存储操作的结构，简称Java容器。</span></span><br><span class="line"><span class="attr">说明：此时的存储时内存方面的存储，不涉及持久化存储</span></span><br><span class="line"><span class="attr">2.1数组在存储多个数据方面的特点：</span></span><br><span class="line"><span class="attr">1）一旦初始化以后，长度就确定了。</span></span><br><span class="line"><span class="attr">2）元素类型一旦指定，就不能改变，我们就只能操作指定类型的数据。</span></span><br><span class="line"><span class="attr">2.2数组在存取数据方面的缺点：</span></span><br><span class="line"><span class="attr">1）初始化以后，长度不可修改。</span></span><br><span class="line"><span class="attr">2）数组中提供的方法非常有限，对于删除插入数据非常不方便，效率也不高。</span></span><br><span class="line"><span class="attr">3）获取数组中实际元素的个数，数组并没有提供现成的方法。</span></span><br><span class="line"><span class="attr">4）数组存储数据的特点：有序，可重复。</span></span><br></pre></td></tr></table></figure>

<h4 id="集合框架"><a href="#集合框架" class="headerlink" title="集合框架"></a>集合框架</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Collection接口：单列集合，用来存储一个一个对象</span></span><br><span class="line"><span class="attr">list接口：有序的可重复的数据。“动态数组”</span></span><br><span class="line"><span class="attr">Set接口：无序的不可重复的数据。</span></span><br><span class="line"><span class="attr">Map接口：双列集合，用来存储一对一对的数据。（key，value）</span></span><br></pre></td></tr></table></figure>

<h4 id="Collection接口中的方法的使用"><a href="#Collection接口中的方法的使用" class="headerlink" title="Collection接口中的方法的使用"></a>Collection接口中的方法的使用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection collection=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    collection.add(<span class="string">&quot;aa&quot;</span>);<span class="comment">//将元素添加到集合中</span></span><br><span class="line">    collection.add(<span class="string">&quot;bb&quot;</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;cc&quot;</span>);</span><br><span class="line">    System.out.println(collection.size());<span class="comment">//获取添加的元素的个数</span></span><br><span class="line">    Collection collection2=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    collection2.add(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">    collection2.add(<span class="string">&quot;ccc&quot;</span>);</span><br><span class="line">    collection.addAll(collection2);<span class="comment">//将一个集合的元素添加到另一个集合</span></span><br><span class="line">    System.out.println(collection.size());</span><br><span class="line">    System.out.println(collection);<span class="comment">//输出集合</span></span><br><span class="line">    collection2.clear();<span class="comment">//清空集合中的元素</span></span><br><span class="line">    System.out.println(collection.isEmpty());<span class="comment">//判断当前集合是否为空  true   false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection collection=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    collection.add(<span class="number">123</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;aa&quot;</span>);</span><br><span class="line">    Person p1=<span class="keyword">new</span> Person(<span class="string">&quot;dong&quot;</span>,<span class="number">23</span>);</span><br><span class="line">    collection.add(p1);</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 集合中添加对象，最好重写该对象所在类的equals（方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    System.out.println(collection.contains(p1));<span class="comment">//判断当前集合是否包含该元素,使用Obj对象所在类的equals（方法。</span></span><br><span class="line">    collection.containsAll(collection);<span class="comment">//判断形参集合中的所元素是否都在该集合中。</span></span><br><span class="line">    collection.remove(p1);<span class="comment">//移除某个元素 boolean返回true/false</span></span><br><span class="line">    collection.removeAll(collection);<span class="comment">//从当前集合移除两者都的元素</span></span><br><span class="line">    collection.retainAll(collection);<span class="comment">//获取当前集合和形参集合的交集，并返回当前集合。</span></span><br><span class="line">    collection.equals(collection);<span class="comment">//比较两个集合是否完全相同</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection collection=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    collection.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;aaa&quot;</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;bbbb&quot;</span>);</span><br><span class="line">    collection.add(<span class="string">&quot;dddd&quot;</span>);</span><br><span class="line">    System.out.println(collection.hashCode());<span class="comment">//输出hash值</span></span><br><span class="line">    collection.toArray();<span class="comment">//集合--&gt;数组</span></span><br><span class="line">    <span class="comment">//数组--&gt;集合Arrays.asList();</span></span><br><span class="line">    <span class="comment">//iterator返回这个接口的实例，用于遍历集合元素。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="使用Iterator遍历Colllection集合"><a href="#使用Iterator遍历Colllection集合" class="headerlink" title="使用Iterator遍历Colllection集合"></a>使用Iterator遍历Colllection集合</h4><ul>
<li>Collection集合实现了Iterator接口，重写了接口的hasNext（）和next（）方法。</li>
<li>内部定义了remove()方法，可以在便利的时候，删除集合中的元素，</li>
</ul>
<p>此方法不同于集合直接调用remove().</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Collection co=<span class="keyword">new</span> ArrayList();</span><br><span class="line">        co.add(<span class="string">&quot;123113212&quot;</span>);</span><br><span class="line">        co.add(<span class="string">&quot;456487874&quot;</span>);</span><br><span class="line">        co.add(<span class="string">&quot;56646665454654&quot;</span>);</span><br><span class="line">        Iterator&lt;Collection&gt;iterator=co.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line"><span class="comment">//            if (iterator.next().equals(&quot;Tom&quot;))&#123;</span></span><br><span class="line"><span class="comment">//                iterator.remove();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="增强for循环遍历集合"><a href="#增强for循环遍历集合" class="headerlink" title="增强for循环遍历集合"></a>增强for循环遍历集合</h4><ul>
<li><p>内部仍然调用了迭代器</p>
</li>
<li><p>把集合中的每个值一次一次赋值给Object类型的变量然后输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection co=<span class="keyword">new</span> ArrayList();</span><br><span class="line">    co.add(<span class="string">&quot;123113212&quot;</span>);</span><br><span class="line">    co.add(<span class="string">&quot;456487874&quot;</span>);</span><br><span class="line">    co.add(<span class="string">&quot;56646665454654&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (Object c:co)&#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>Collection集合接口是支持泛型的，并且继承了Iterable接口，可以使用Iterator iterator()进行遍历</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">*</span> <span class="string">@see     Set</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     List</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     Map</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     SortedSet</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     SortedMap</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     HashSet</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     TreeSet</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     ArrayList</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     LinkedList</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     Vector</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     Collections</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     Arrays</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@see     AbstractCollection</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">@since 1.2</span></span><br><span class="line"> <span class="attr">*/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">public</span> <span class="string">interface Collection&lt;E&gt; extends Iterable&lt;E&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">public</span> <span class="string">interface Iterable&lt;T&gt; &#123;</span></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Returns an iterator over elements of type &#123;@code T&#125;.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return an Iterator.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="meta">Iterator&lt;T&gt;</span> <span class="string">iterator();</span></span><br></pre></td></tr></table></figure>

<h3 id="2）list"><a href="#2）list" class="headerlink" title="2）list"></a>2）list</h3><h4 id="比较ArrayList，LinkedList，Vector"><a href="#比较ArrayList，LinkedList，Vector" class="headerlink" title="比较ArrayList，LinkedList，Vector"></a>比较ArrayList，LinkedList，Vector</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">*</span> <span class="string">同：三个类都实现了list接口，存储数据的特点相同，有序，可重复。</span></span><br><span class="line"><span class="meta">*</span> <span class="string">ArrayList：作为list接口的主要实现类，jdk1.2，线程不安全的，效率高，底层使用Object []elementData存储</span></span><br><span class="line"><span class="meta">*</span> <span class="string">LinkedList：jdk1.2：底层使用双向链表存储，对于频繁的插入删除，他的效率高。</span></span><br><span class="line"><span class="meta">*</span> <span class="string">Vector：古老的实现类jdk1.0，线程安全的。</span></span><br></pre></td></tr></table></figure>

<h4 id="List接口常用方法测试："><a href="#List接口常用方法测试：" class="headerlink" title="List接口常用方法测试："></a>List接口常用方法测试：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;789&quot;</span>);</span><br><span class="line">    System.out.println(list);<span class="comment">//[123, 456, 789]</span></span><br><span class="line">    list.add(<span class="number">0</span>,<span class="string">&quot;000&quot;</span>);<span class="comment">//指定位置插入</span></span><br><span class="line">    System.out.println(list);<span class="comment">//[000, 123, 456, 789]</span></span><br><span class="line">    List&lt;Integer&gt; list1 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>);<span class="comment">//数组转化为集合</span></span><br><span class="line">    list.addAll(list1);<span class="comment">//将集合list1添加进集合list</span></span><br><span class="line">    System.out.println(list.size());<span class="comment">//输出集合多少个元素  10</span></span><br><span class="line">    Object o = list.get(<span class="number">0</span>);<span class="comment">//通过索引获取元素</span></span><br><span class="line">    System.out.println(o);<span class="comment">//000</span></span><br><span class="line">    <span class="keyword">int</span> index = list.indexOf(<span class="string">&quot;456&quot;</span>);<span class="comment">//查找元素的索引.如果不存在返回-1</span></span><br><span class="line">    System.out.println(index);<span class="comment">//2</span></span><br><span class="line">    Object o1 = list.remove(<span class="number">1</span>);<span class="comment">//可以照索引或者对象删除</span></span><br><span class="line">    System.out.println(o1+<span class="string">&quot; &quot;</span>+list);<span class="comment">//123 [000, 456, 789, 1, 2, 3, 4, 5, 6]</span></span><br><span class="line">    list.set(<span class="number">1</span>,<span class="string">&quot;cc&quot;</span>);<span class="comment">//将某个索引的值改为</span></span><br><span class="line">    List&lt;Object&gt; list2 = list.subList(<span class="number">1</span>, <span class="number">5</span>);<span class="comment">//截取集合中的元素</span></span><br><span class="line">    System.out.println(list2);<span class="comment">//[cc, 789, 1, 2]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="List遍历，及方法总结"><a href="#List遍历，及方法总结" class="headerlink" title="List遍历，及方法总结"></a>List遍历，及方法总结</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;789&quot;</span>);</span><br><span class="line">    <span class="comment">//1.Iterator</span></span><br><span class="line">    Iterator&lt;Object&gt; iterator = list.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.增强for循环</span></span><br><span class="line">    <span class="keyword">for</span> (Object obj:list)&#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//3..普通for循环</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">        System.out.println(list.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="List的一道面试题"><a href="#List的一道面试题" class="headerlink" title="List的一道面试题"></a>List的一道面试题</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List list=<span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">1</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        list.add(<span class="number">3</span>);</span><br><span class="line">        updatelist(list);</span><br><span class="line">        System.out.println(list);<span class="comment">//[1, 2]</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updatelist</span><span class="params">(List list)</span> </span>&#123;</span><br><span class="line">        list.remove(<span class="number">2</span>);</span><br><span class="line"><span class="comment">//        list.remove(new Integer(2));//如果想删除元素2</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>jdk 1.2的接口</p>
<p>继承了Collection接口</p>
<p>sort方法需要传入一个比较器</p>
<p>定制排序</p>
<p>实际上使用了Arrays的sort方法</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">interface List&lt;E&gt; extends Collection&lt;E&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">default</span> <span class="string">void sort(Comparator&lt;? super E&gt; c) &#123;</span></span><br><span class="line">        <span class="meta">Object[]</span> <span class="string">a = this.toArray();</span></span><br><span class="line">        <span class="meta">Arrays.sort(a,</span> <span class="string">(Comparator) c);</span></span><br><span class="line">        <span class="meta">ListIterator&lt;E&gt;</span> <span class="string">i = this.listIterator();</span></span><br><span class="line">        <span class="attr">for</span> <span class="string">(Object e : a) &#123;</span></span><br><span class="line">            <span class="attr">i.next();</span></span><br><span class="line">            <span class="meta">i.set((E)</span> <span class="string">e);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="ArrayList源码分析："><a href="#ArrayList源码分析：" class="headerlink" title="ArrayList源码分析："></a>ArrayList源码分析：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* jdk7：</span></span><br><span class="line"><span class="comment">* ArrayList list=new ArrayList()//底层创建了长度是10的Object[]elementDate数组</span></span><br><span class="line"><span class="comment">* list.add(123);//elementData[0]=new Integer(123);</span></span><br><span class="line"><span class="comment">* ...</span></span><br><span class="line"><span class="comment">* list.add();//如果此次的添加导致底层的数组容量不够，则扩容。  </span></span><br><span class="line"><span class="comment">* 默认情况下，扩容为原来的1.5倍，同时需要将原有数组的数据复制到新的数组。</span></span><br><span class="line"><span class="comment">* 结论：建议开发中使用带参数的构造器：ArrayList list=new ArrayList(int 数组长度);</span></span><br><span class="line"><span class="comment">* jdk8:</span></span><br><span class="line"><span class="comment">* ArrayList list=new ArrayList()//底层Object[]elementDate=&#123;&#125;，并没有创建长度为10的数组</span></span><br><span class="line"><span class="comment">* list.add(123);//第一次调用add时，底层才创建了长度为10的数组，并将数据123添加到elementData[0]</span></span><br><span class="line"><span class="comment">* ...后续的添加和扩容操作与jdk7无异。</span></span><br><span class="line"><span class="comment">* 对比：jdk7中的对象创建类似于单例的饿汉式，而jdk8中的对象的创建类似于单例的懒汉式，</span></span><br><span class="line"><span class="comment">* 延迟了数组的创建，节省内存空间。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;</span></span><br><span class="line">        <span class="attr">implements</span> <span class="string">List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable&#123;</span></span><br><span class="line">        </span><br><span class="line">        <span class="attr">//默认初始容量为10</span></span><br><span class="line">        <span class="attr">private</span> <span class="string">static final int DEFAULT_CAPACITY = 10;</span></span><br><span class="line">        <span class="attr">//空的ElementData数组</span></span><br><span class="line">        <span class="attr">private</span> <span class="string">static final Object[] EMPTY_ELEMENTDATA = &#123;&#125;;</span></span><br><span class="line">        <span class="attr">//用于默认大小的空实例。我们从空的ELEMENTDATA中解出这个问题，以了解在添加第一个元素时应该增加多少</span></span><br><span class="line">        <span class="attr">private</span> <span class="string">static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;</span></span><br><span class="line">        <span class="meta">//存储ArrayList的元素的数组缓冲区。arraylisis的容量是这个数组缓冲区的长度。当添加第一个元素时，任何带有elementData</span> <span class="string">DBEAULTCAPACITY empty ELEMENTDATE的空ArrayList都将被扩展为默认容量（10）</span></span><br><span class="line">        <span class="attr">transient</span> <span class="string">Object[] elementData; </span></span><br><span class="line">        <span class="attr">//带有指定长度的数组构造器</span></span><br><span class="line">            <span class="attr">public</span> <span class="string">ArrayList(int initialCapacity) &#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(initialCapacity &gt; 0) &#123;</span></span><br><span class="line">            <span class="meta">this.elementData</span> = <span class="string">new Object[initialCapacity];</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else if (initialCapacity == 0) &#123;</span></span><br><span class="line">            <span class="meta">this.elementData</span> = <span class="string">EMPTY_ELEMENTDATA;</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span></span><br><span class="line">                                               <span class="attr">initialCapacity);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//传入一个Collection类型的构造器</span></span><br><span class="line">        <span class="attr">public</span> <span class="string">ArrayList(Collection&lt;? extends E&gt; c) &#123;</span></span><br><span class="line">        <span class="attr">elementData</span> = <span class="string">c.toArray();</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">((size = elementData.length) != 0) &#123;</span></span><br><span class="line">            <span class="meta">//</span> <span class="string">c.toArray might (incorrectly) not return Object[] (see 6260652)</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(elementData.getClass() != Object[].class)</span></span><br><span class="line">                <span class="attr">elementData</span> = <span class="string">Arrays.copyOf(elementData, size, Object[].class);</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">            <span class="meta">//</span> <span class="string">replace with empty array.</span></span><br><span class="line">            <span class="meta">this.elementData</span> = <span class="string">EMPTY_ELEMENTDATA;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//将这个&lt;tt&gt;ArrayList&lt;/tt&gt;实例的容量调整为列表的当前大小。集合创建的时候会流出来预留的空间，使用这个方法可以去掉预留空间，节省内存。</span></span><br><span class="line">       <span class="attr">public</span> <span class="string">void trimToSize() &#123;</span></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(size &lt; elementData.length) &#123;</span></span><br><span class="line">            <span class="attr">elementData</span> = <span class="string">(size == 0)</span></span><br><span class="line">              <span class="meta">?</span> <span class="string">EMPTY_ELEMENTDATA</span></span><br><span class="line">              : <span class="meta">Arrays.copyOf(elementData,</span> <span class="string">size);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//设置数组的最大长度为integer的最大值-8，防止造成内存溢出异常</span></span><br><span class="line">    <span class="attr">private</span> <span class="string">static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="attr">//数组的扩容问题：&gt;&gt;1意思就是/2</span></span><br><span class="line">    </span><br><span class="line">        <span class="attr">private</span> <span class="string">void grow(int minCapacity) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">overflow-conscious code</span></span><br><span class="line">        <span class="attr">//扩容前数组的长度</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">oldCapacity = elementData.length;</span></span><br><span class="line">        <span class="attr">//新数组扩容为原来的1.5倍</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);</span></span><br><span class="line">        <span class="attr">//如果扩容前比扩容后小</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(newCapacity - minCapacity &lt; 0)</span></span><br><span class="line">        <span class="attr">//还是原来的数组</span></span><br><span class="line">            <span class="attr">newCapacity</span> = <span class="string">minCapacity;</span></span><br><span class="line">            <span class="attr">//如果扩容后超出数组的最大值</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(newCapacity - MAX_ARRAY_SIZE &gt; 0)</span></span><br><span class="line">        <span class="attr">//数组长度变为数组的最大长度</span></span><br><span class="line">            <span class="attr">newCapacity</span> = <span class="string">hugeCapacity(minCapacity);</span></span><br><span class="line">        <span class="attr">//将原来的数组在复制进新的数组</span></span><br><span class="line">        <span class="attr">elementData</span> = <span class="string">Arrays.copyOf(elementData, newCapacity);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//在列表中指定的位置插入指定的元素。将当前位于该位置的元素(如果有)和任何后续元素右移一位(将一个元素添加到它们的索引中)</span></span><br><span class="line">        <span class="attr">public</span> <span class="string">void add(int index, E element) &#123;</span></span><br><span class="line">        <span class="attr">rangeCheckForAdd(index);</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">ensureCapacityInternal(size</span> <span class="string">+ 1);  // Increments modCount!!</span></span><br><span class="line">        <span class="meta">System.arraycopy(elementData,</span> <span class="string">index, elementData, index + 1,</span></span><br><span class="line">                         <span class="attr">size</span> <span class="string">- index);</span></span><br><span class="line">        <span class="meta">elementData[index]</span> = <span class="string">element;</span></span><br><span class="line">        <span class="attr">size++;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//底层重写了sort方法</span></span><br><span class="line">        <span class="attr">@Override</span></span><br><span class="line">    <span class="attr">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">void sort(Comparator&lt;? super E&gt; c) &#123;</span></span><br><span class="line">    <span class="attr">//记录集合的修改次数</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">int expectedModCount = modCount;</span></span><br><span class="line">        <span class="attr">//排序</span></span><br><span class="line">        <span class="meta">Arrays.sort((E[])</span> <span class="string">elementData, 0, size, c);</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(modCount != expectedModCount) &#123;//应该是多线程考虑</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new ConcurrentModificationException();</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="LinkedList源码分析"><a href="#LinkedList源码分析" class="headerlink" title="LinkedList源码分析"></a>LinkedList源码分析</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*LinkedList list=new LinkedList();//内部声明了Node类型的first和last属性，默认值为null</span></span><br><span class="line"><span class="comment">*         list.add(123);//将123封装到了node中，创建了Node对象。</span></span><br><span class="line"><span class="comment">*         其中，Node定义为：体现了LinkedList双向链表的说法。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">E item;</span><br><span class="line">Node&lt;E&gt; next;</span><br><span class="line">Node&lt;E&gt; prev;</span><br><span class="line"></span><br><span class="line">Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line"><span class="keyword">this</span>.item = element;</span><br><span class="line"><span class="keyword">this</span>.next = next;</span><br><span class="line"><span class="keyword">this</span>.prev = prev;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>jdk1.2</p>
<p>实现了List接口，Deque，Cloneable, java.io.Serializable</p>
<p><strong>Deque</strong></p>
<p>线性集合，支持两端插入和移除元素。 名称deque是“双端队列”的缩写</p>
<p><strong>Cloneable</strong></p>
<p>cloneable其实就是一个标记接口，只有实现这个接口后，然后在类中重写Object中的clone方法，然后通过类调用clone方法才能克隆成功，如果不实现这个接口，则会抛出CloneNotSupportedException(克隆不被支持)异常。</p>
<p><strong>java.io.Serializable</strong></p>
<p>支持序列化</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class LinkedList&lt;E&gt;</span></span><br><span class="line">    <span class="attr">extends</span> <span class="string">AbstractSequentialList&lt;E&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable</span></span><br><span class="line"><span class="attr">&#123;</span></span><br><span class="line"><span class="attr">//指向第一个节点的指针</span></span><br><span class="line"><span class="attr">transient</span> <span class="string">Node&lt;E&gt; first;</span></span><br><span class="line"><span class="attr">//指向最后一个节点的指针</span></span><br><span class="line"><span class="attr">transient</span> <span class="string">Node&lt;E&gt; last;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//LinkedList的数据结构就是双向链表</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">private</span> <span class="string">static class Node&lt;E&gt; &#123;</span></span><br><span class="line">        <span class="attr">E</span> <span class="string">item;//数据元素</span></span><br><span class="line">        <span class="meta">Node&lt;E&gt;</span> <span class="string">next;//后继节点</span></span><br><span class="line">        <span class="meta">Node&lt;E&gt;</span> <span class="string">prev;//前驱节点</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">Node(Node&lt;E&gt;</span> <span class="string">prev, E element, Node&lt;E&gt; next) &#123;</span></span><br><span class="line">            <span class="meta">this.item</span> = <span class="string">element;</span></span><br><span class="line">            <span class="meta">this.next</span> = <span class="string">next;</span></span><br><span class="line">            <span class="meta">this.prev</span> = <span class="string">prev;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//构造器</span></span><br><span class="line">    <span class="attr">transient</span> <span class="string">int size = 0;//数据个数</span></span><br><span class="line">    <span class="attr">transient</span> <span class="string">Node&lt;E&gt; first;//表示链表的第一个节点</span></span><br><span class="line">    <span class="attr">transient</span> <span class="string">Node&lt;E&gt; last;//表示链表的最后一个节点</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">public</span> <span class="string">LinkedList() &#123;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">     <span class="attr">public</span> <span class="string">LinkedList(Collection&lt;? extends E&gt; c) &#123;//用于整合Collection类型的数据</span></span><br><span class="line">            <span class="attr">this();</span></span><br><span class="line">            <span class="attr">addAll(c);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//add：</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean add(E e) &#123;</span></span><br><span class="line">        <span class="attr">linkLast(e);</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">true;</span></span><br><span class="line"> <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="attr">void</span> <span class="string">linkLast(E e) &#123;//采用的是尾插法</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">Node&lt;E&gt; l = last;</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);//新节点的前驱指向last的地址，后继为null，</span></span><br><span class="line"><span class="attr">　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　//所以说这是一个双向链表，但不是循环的，循环的话，后继指向头节点</span></span><br><span class="line">        <span class="attr">last</span> = <span class="string">newNode;//让last指向新节点，也就说这个新节点是链表的最后一个元素</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">if</span> <span class="string">(l == null)//当第一次添加时，first，last都是null，如果last是null，表明这是一个空链表</span></span><br><span class="line">            <span class="attr">first</span> = <span class="string">newNode;//就让新节点指向first，现在first和last都是同一个节点</span></span><br><span class="line">        <span class="attr">else</span></span><br><span class="line">            <span class="meta">l.next</span> = <span class="string">newNode;//当在添加数据时，就让老链表的最后一个节点的后继指向新节点（那个节点本来是null的）</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">size++;</span> <span class="string">//长度加1</span></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line"><span class="attr">/**</span></span><br><span class="line"><span class="attr">总结：</span></span><br><span class="line"><span class="attr">新建一个节点，让新节点的前驱指向老链表的最后一个节点</span></span><br><span class="line"><span class="attr">让老链表的最后一个节点的后继指向新节点</span></span><br><span class="line"><span class="attr">让新节点变成链表的最后一个节点</span></span><br><span class="line"><span class="attr">长度加1</span></span><br><span class="line"><span class="attr">第一个节点前驱为null，最后一个节点后继为null</span></span><br><span class="line"></span><br><span class="line"><span class="attr">*/</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">   <span class="attr">//get</span></span><br><span class="line">   <span class="attr">public</span> <span class="string">E get(int index) &#123;</span></span><br><span class="line">        <span class="attr">checkElementIndex(index);//检查一下索引是否在0到size的范围内</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">node(index).item;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">Node&lt;E&gt;</span> <span class="string">node(int index) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">assert isElementIndex(index);</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">if</span> <span class="string">(index &lt; (size &gt;&gt; 1)) &#123;//看看索引的位置是在链表的前半部分还是后半部分，决定正着搜索或倒着搜索，找到后返回就行啦</span></span><br><span class="line">            <span class="meta">Node&lt;E&gt;</span> <span class="string">x = first;</span></span><br><span class="line">            <span class="attr">for</span> <span class="string">(int i = 0; i &lt; index; i++)//在这里看到链表是从0开始的</span></span><br><span class="line">                <span class="attr">x</span> = <span class="string">x.next;</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">x;</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">            <span class="meta">Node&lt;E&gt;</span> <span class="string">x = last;</span></span><br><span class="line">            <span class="attr">for</span> <span class="string">(int i = size - 1; i &gt; index; i--)</span></span><br><span class="line">                <span class="attr">x</span> = <span class="string">x.prev;</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">x;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="attr">//remove</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">     <span class="attr">public</span> <span class="string">E remove(int index) &#123;</span></span><br><span class="line">        <span class="attr">checkElementIndex(index);//先检查一下索引</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">unlink(node(index));</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">//先拿着索引找到这个节点</span></span><br><span class="line"><span class="attr">E</span> <span class="string">unlink(Node&lt;E&gt; x) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">assert x != null;</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">E element = x.item;//节点的元素</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">Node&lt;E&gt; next = x.next;//节点的后继</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">Node&lt;E&gt; prev = x.prev;//节点的前驱</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">if</span> <span class="string">(prev == null) &#123;</span></span><br><span class="line">            <span class="attr">first</span> = <span class="string">next;</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">            <span class="meta">prev.next</span> = <span class="string">next;</span></span><br><span class="line">            <span class="meta">x.prev</span> = <span class="string">null;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">if</span> <span class="string">(next == null) &#123;</span></span><br><span class="line">            <span class="attr">last</span> = <span class="string">prev;</span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">            <span class="meta">next.prev</span> = <span class="string">prev;</span></span><br><span class="line">            <span class="meta">x.next</span> = <span class="string">null;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">x.item</span> = <span class="string">null;</span></span><br><span class="line">        <span class="attr">size--;</span></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">element;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="Vector源码分析"><a href="#Vector源码分析" class="headerlink" title="Vector源码分析"></a>Vector源码分析</h4><p>先创建初始长度为十的数组，扩容默认为原来的二倍，线程安全的。</p>
<p>Vector 是<strong>矢量队列</strong>，底层是数组。它是JDK1.0版本添加的类。继承于AbstractList，实现了List, RandomAccess, Cloneable</p>
<p>Vector 继承了AbstractList，实现了List；所以，它是一个队列，支持相关的添加、删除、修改、遍历等功能。</p>
<p>Vector 实现了RandmoAccess接口，即提供了随机访问功能。RandmoAccess是java中用来被List实现，为List提供快速访问功能的。在Vector中，我们即可以通过元素的序号快速获取元素对象；这就是快速随机访问。</p>
<p>Vector 实现了Cloneable接口，即实现clone()函数。它能被克隆。</p>
<p>Vector中的操作是线程安全的。因为Vector的方法前加了synchronized 关键字，所以效率不高。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class Vector&lt;E&gt;</span></span><br><span class="line">    <span class="attr">extends</span> <span class="string">AbstractList&lt;E&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span></span><br><span class="line"><span class="attr">&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//向量的分量所在的数组缓冲区存储。向量的容量是这个数组缓冲区的长度，并且至少大到可以包含向量的所有元素。</span></span><br><span class="line"><span class="attr">protected</span> <span class="string">Object[] elementData;</span></span><br><span class="line"><span class="attr">//这个对象有效组件的数量</span></span><br><span class="line"><span class="attr">protected</span> <span class="string">int elementCount;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//当向量的大小大于其容量时，该向量的容量自动增加的量。如果容量增量小于或等于0，则每次需要增长时，向量的容量将增加一倍。</span></span><br><span class="line"><span class="attr">protected</span> <span class="string">int capacityIncrement;</span></span><br><span class="line"><span class="attr">//用指定的初始容量和容量增量构造一个空向量。@paraminitialCapacity向量的初始容量@paramcapacitylncrement容量所占的量当向量溢出@抛出illeqalarqumentexceptionifspecifiedinitialcapacity时增加是负的</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Vector(int initialCapacity, int capacityIncrement) &#123;</span></span><br><span class="line">        <span class="attr">super();</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(initialCapacity &lt; 0)</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span></span><br><span class="line">                                               <span class="attr">initialCapacity);</span></span><br><span class="line">        <span class="meta">this.elementData</span> = <span class="string">new Object[initialCapacity];</span></span><br><span class="line">        <span class="meta">this.capacityIncrement</span> = <span class="string">capacityIncrement;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//默认增量为0</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Vector(int initialCapacity) &#123;</span></span><br><span class="line">        <span class="meta">this(initialCapacity,</span> <span class="string">0);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">//默认长度为10</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Vector() &#123;</span></span><br><span class="line">        <span class="attr">this(10);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//扩容方法</span></span><br><span class="line">    <span class="meta">//@param</span> <span class="string">minCapacity the desired minimum capacity 所需要的最低容量</span></span><br><span class="line">    <span class="attr">如果最低容量&gt;0,记录集合又被修改一次</span></span><br><span class="line">    <span class="attr">调用ensureCapacityHelper(minCapacity)方法</span></span><br><span class="line">        <span class="attr">public</span> <span class="string">synchronized void ensureCapacity(int minCapacity) &#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(minCapacity &gt; 0) &#123;</span></span><br><span class="line">            <span class="attr">modCount++;</span></span><br><span class="line">            <span class="attr">ensureCapacityHelper(minCapacity);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//接下来，进入ensureCapacityHelper(minCapacity)方法</span></span><br><span class="line">        <span class="attr">private</span> <span class="string">void ensureCapacityHelper(int minCapacity) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">overflow-conscious code</span></span><br><span class="line">        <span class="attr">如果指定的扩容后长度比现在的容量大，说明扩容是合法的</span></span><br><span class="line">        <span class="attr">调用grow(minCapacity)方法</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(minCapacity - elementData.length &gt; 0)</span></span><br><span class="line">            <span class="attr">grow(minCapacity);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//继续点击，进入grow(minCapacity)</span></span><br><span class="line">        <span class="attr">private</span> <span class="string">void grow(int minCapacity) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">overflow-conscious code</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">oldCapacity = elementData.length;//用来记录原长度</span></span><br><span class="line">        <span class="attr">//新的长度的计算：如果增长的长度大于0就扩容为原来的长度+新增的长度，否则扩容为原来的2倍</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">newCapacity = oldCapacity + ((capacityIncrement &gt; 0) ?</span></span><br><span class="line">                                         <span class="attr">capacityIncrement</span> : <span class="string">oldCapacity);</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(newCapacity - minCapacity &lt; 0)</span></span><br><span class="line">        <span class="attr">//如果闲的容量比所需要的最低容量小，新的长度就等于所需的最低容量</span></span><br><span class="line">            <span class="attr">newCapacity</span> = <span class="string">minCapacity;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(newCapacity - MAX_ARRAY_SIZE &gt; 0)</span></span><br><span class="line">        <span class="attr">//如果超出最大临界值，就让新数组长度等于最大临界值</span></span><br><span class="line">            <span class="attr">newCapacity</span> = <span class="string">hugeCapacity(minCapacity);</span></span><br><span class="line">            <span class="attr">//将原来的元素复制进来</span></span><br><span class="line">        <span class="attr">elementData</span> = <span class="string">Arrays.copyOf(elementData, newCapacity);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="3）set"><a href="#3）set" class="headerlink" title="3）set"></a>3）set</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 1.Set接口的框架结构：存储无顺序的，不可重复的数据。</span></span><br><span class="line"><span class="comment">* HashSet：作为set接口的主要实现类，线程不安全，可以存储null</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* LinkedHashSet：HashSet的子类。遍历其内部数据时，可以按照添加的顺序遍历。</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* TreeSet：可以按照添加对象的指定属性，进行排序。</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 2.如何理解Set的无序，不可重复。</span></span><br><span class="line"><span class="comment">* ①无序性：不等于随机性。</span></span><br><span class="line"><span class="comment">*以hashset为例，存储的数据在底层数组中并非按照数组索引的顺序添加，而是根据数据的哈希值添加。</span></span><br><span class="line"><span class="comment">* ②不可重复性：保证添加的元素按照equals（）方法判断时，不能返回True。即，相同的元素只能添加一个。</span></span><br><span class="line"><span class="comment">* hashset底层为数组加链表</span></span><br><span class="line"><span class="comment">* 3.Set接口中没有额外定义新的方法，使用的都是Collection接口中声明过的方法。</span></span><br><span class="line"><span class="comment">* 4.添加元素的过程：以HashSet为例</span></span><br><span class="line"><span class="comment">* 我们想hashset中添加元素a，首先调用a所在类的hashcode方法，计算a的哈希值，</span></span><br><span class="line"><span class="comment">* 此哈希值通过算法计算中在hashset底层数组的存放位置，判断数组此位置是否已经有元素，</span></span><br><span class="line"><span class="comment">* 如果此位置上没有其他元素，a直接添加成功；如果此位置有其他元素b（或以链表形式存在多个元素），</span></span><br><span class="line"><span class="comment">* 则比较a和b的哈希值，如果哈希值不相同，则，元素a添加成功，如果哈希值相同，调用元素a所在类的equals（）</span></span><br><span class="line"><span class="comment">* 方法，equals（）返回true，元素添加失败，如果返回false，元素a添加成功。</span></span><br><span class="line"><span class="comment">* 说明/：对于添加的位置有元素还添加成功的情况，与已经存在位置上数据以链表形式存储，</span></span><br><span class="line"><span class="comment">* jdk7中a放到数组中，指向原来的元素，jdk8中原来的元素放在数组中，指向a元素。</span></span><br><span class="line"><span class="comment">* 5.要求：</span></span><br><span class="line"><span class="comment">* ①向set中添加的数据，其所在的类一定要重写hashCode()和equals()方法</span></span><br><span class="line"><span class="comment">* ②重写hashCode()和equals()方法尽可能保持一致：相等的对象哈希值必须相同。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">interface Spliterator&lt;T&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">Spliterator（splitable</span> <span class="string">iterator可分割迭代器）接口是Java为了并行遍历数据源中的元素而设计的迭代器，这个可以类比最早Java提供的顺序遍历迭代器Iterator，但一个是顺序遍历，一个是并行遍历</span></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">interface Set&lt;E&gt; extends Collection&lt;E&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//证明了set集合不可重复</span></span><br><span class="line">    <span class="attr">@Override</span></span><br><span class="line">    <span class="attr">default</span> <span class="string">Spliterator&lt;E&gt; spliterator() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">Spliterators.spliterator(this, Spliterator.DISTINCT);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="面试题-2"><a href="#面试题-2" class="headerlink" title="面试题"></a>面试题</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 面试题一：在list内去除重复数据值，</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;789&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;456&quot;</span>);</span><br><span class="line">    List list2=quChong(list);</span><br><span class="line">    Iterator&lt;String&gt; iterator = list2.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next ());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">quChong</span><span class="params">(List list)</span></span>&#123;</span><br><span class="line">    HashSet&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    set.addAll(list);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList(set);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 我们想hashset中添加元素a，首先调用a所在类的hashcode方法，计算a的哈希值，</span></span><br><span class="line"><span class="comment">* 此哈希值通过算法计算中在hashset底层数组的存放位置，判断数组此位置是否已经有元素，</span></span><br><span class="line"><span class="comment">* 如果此位置上没有其他元素，a直接添加成功；如果此位置有其他元素b（或以链表形式存在多个元素），</span></span><br><span class="line"><span class="comment">* 则比较a和b的哈希值，如果哈希值不相同，则，元素a添加成功，如果哈希值相同，调用元素a所在类的equals（）</span></span><br><span class="line"><span class="comment">* 方法，equals（）返回true，元素添加失败，如果返回false，元素a添加成功。</span></span><br><span class="line"><span class="comment">* 说明/：对于添加的位置有元素还添加成功的情况，与已经存在位置上数据以链表形式存储，</span></span><br><span class="line"><span class="comment">* jdk7中a放到数组中，指向原来的元素，jdk8中原来的元素放在数组中，指向a元素。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>继承了AbstractSet</p>
<p>实现了Set, Cloneable, java.io.Serializable</p>
<p>AbstractSet</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public abstract class AbstractSet&lt;E&gt; extends AbstractCollection&lt;E&gt; implements Set&lt;E&gt; &#123;</span><br><span class="line">里面写了equals hashcode removeAll方法</span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class HashSet&lt;E&gt;  </span></span><br><span class="line">    <span class="attr">extends</span> <span class="string">AbstractSet&lt;E&gt;  </span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">Set&lt;E&gt;, Cloneable, java.io.Serializable  </span></span><br><span class="line"><span class="meta">&#123;</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">static</span> <span class="string">final long serialVersionUID = -5024744406713321676L;  </span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">//</span> <span class="string">底层使用HashMap来保存HashSet中所有元素。  </span></span><br><span class="line">    <span class="attr">private</span> <span class="string">transient HashMap&lt;E,Object&gt; map;  </span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">//</span> <span class="string">定义一个虚拟的Object对象作为HashMap的value，将此对象定义为static final。  </span></span><br><span class="line">    <span class="attr">private</span> <span class="string">static final Object PRESENT = new Object();  </span></span><br><span class="line"> 	<span class="attr">//关于为什么不用null而是用一个Object类型的对象，因为map的key本身是可以为null的，二set存储元素成功与否</span></span><br><span class="line"> 	<span class="attr">是需要返回一个true或者false，如果使用null来充当value，你就不知道到底存储成功没</span></span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">默认的无参构造器，构造一个空的HashSet。 </span></span><br><span class="line">     <span class="meta">*</span>  <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">实际底层会初始化一个空的HashMap，并使用默认初始容量为16和加载因子0.75。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">HashSet() &#123;  </span></span><br><span class="line">    <span class="attr">map</span> = <span class="string">new HashMap&lt;E,Object&gt;();  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">构造一个包含指定collection中的元素的新set。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">实际底层使用默认的加载因子0.75和足以包含指定 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">collection中所有元素的初始容量来创建一个HashMap。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param c 其中的元素将存放在此set中的collection。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">HashSet(Collection&lt;? extends E&gt; c) &#123;  </span></span><br><span class="line">    <span class="attr">map</span> = <span class="string">new HashMap&lt;E,Object&gt;(Math.max((int) (c.size()/.75f) + 1, 16));  </span></span><br><span class="line">    <span class="meta">addAll(c);</span>  <span class="string"></span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">以指定的initialCapacity和loadFactor构造一个空的HashSet。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">实际底层以相应的参数构造一个空的HashMap。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param initialCapacity 初始容量。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param loadFactor 加载因子。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">HashSet(int initialCapacity, float loadFactor) &#123;  </span></span><br><span class="line">    <span class="attr">map</span> = <span class="string">new HashMap&lt;E,Object&gt;(initialCapacity, loadFactor);  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">以指定的initialCapacity构造一个空的HashSet。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">实际底层以相应的参数及加载因子loadFactor为0.75构造一个空的HashMap。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param initialCapacity 初始容量。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">HashSet(int initialCapacity) &#123;  </span></span><br><span class="line">    <span class="attr">map</span> = <span class="string">new HashMap&lt;E,Object&gt;(initialCapacity);  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">以指定的initialCapacity和loadFactor构造一个新的空链接哈希集合。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">此构造函数为包访问权限，不对外公开，实际只是是对LinkedHashSet的支持。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">实际底层会以指定的参数构造一个空LinkedHashMap实例来实现。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param initialCapacity 初始容量。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param loadFactor 加载因子。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param dummy 标记。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="meta">HashSet(int</span> <span class="string">initialCapacity, float loadFactor, boolean dummy) &#123;  </span></span><br><span class="line">    <span class="attr">map</span> = <span class="string">new LinkedHashMap&lt;E,Object&gt;(initialCapacity, loadFactor);  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">返回对此set中元素进行迭代的迭代器。返回元素的顺序并不是特定的。 </span></span><br><span class="line">     <span class="meta">*</span>  <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用底层HashMap的keySet来返回所有的key。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">可见HashSet中的元素，只是存放在了底层HashMap的key上， </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">value使用一个static final的Object对象标识。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 对此set中元素进行迭代的Iterator。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Iterator&lt;E&gt; iterator() &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.keySet().iterator();  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">返回此set中的元素的数量（set的容量）。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的size()方法返回Entry的数量，就得到该Set中元素的个数。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 此set中的元素的数量（set的容量）。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">int size() &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.size();  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">如果此set不包含任何元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的isEmpty()判断该HashSet是否为空。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 如果此set不包含任何元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean isEmpty() &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.isEmpty();  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">如果此set包含指定元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">更确切地讲，当且仅当此set包含一个满足(o==null ? e==null : o.equals(e)) </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">的e元素时，返回true。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的containsKey判断是否包含指定key。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param o 在此set中的存在已得到测试的元素。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 如果此set包含指定元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean contains(Object o) &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.containsKey(o);  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">如果此set中尚未包含指定元素，则添加指定元素。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">更确切地讲，如果此 set 没有包含满足(e==null ? e2==null : e.equals(e2)) </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">的元素e2，则向此set 添加指定的元素e。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">如果此set已包含该元素，则该调用不更改set并返回false。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际将将该元素作为key放入HashMap。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">由于HashMap的put()方法添加key-value对时，当新放入HashMap的Entry中key </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">与集合中原有Entry的key相同（hashCode()返回值相等，通过equals比较也返回true）， </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">新添加的Entry的value会将覆盖原来Entry的value，但key不会有任何改变， </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">因此如果向HashSet中添加一个已经存在的元素时，新添加的集合元素将不会被放入HashMap中， </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">原来的元素也不会有任何改变，这也就满足了Set中元素不重复的特性。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param e 将添加到此set中的元素。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 如果此set尚未包含指定元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean add(E e) &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.put(e, PRESENT)==null;  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">如果指定元素存在于此set中，则将其移除。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">更确切地讲，如果此set包含一个满足(o==null ? e==null : o.equals(e))的元素e， </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">则将其移除。如果此set已包含该元素，则返回true </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">（或者：如果此set因调用而发生更改，则返回true）。（一旦调用返回，则此set不再包含该元素）。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的remove方法删除指定Entry。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param o 如果存在于此set中则需要将其移除的对象。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return 如果set包含指定元素，则返回true。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean remove(Object o) &#123;  </span></span><br><span class="line">    <span class="attr">return</span> <span class="string">map.remove(o)==PRESENT;  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">从此set中移除所有元素。此调用返回后，该set将为空。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的clear方法清空Entry中所有元素。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">void clear() &#123;  </span></span><br><span class="line">    <span class="meta">map.clear();</span>  <span class="string"></span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">/**</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">返回此HashSet实例的浅表副本：并没有复制这些元素本身。 </span></span><br><span class="line">     <span class="meta">*</span> <span class="string"></span></span><br><span class="line">     <span class="meta">*</span> <span class="string">底层实际调用HashMap的clone()方法，获取HashMap的浅表副本，并设置到HashSet中。 </span></span><br><span class="line">     <span class="meta">*/</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Object clone() &#123;  </span></span><br><span class="line">        <span class="attr">try</span> <span class="string">&#123;  </span></span><br><span class="line">            <span class="meta">HashSet&lt;E&gt;</span> <span class="string">newSet = (HashSet&lt;E&gt;) super.clone();  </span></span><br><span class="line">            <span class="meta">newSet.map</span> = <span class="string">(HashMap&lt;E, Object&gt;) map.clone();  </span></span><br><span class="line">            <span class="attr">return</span> <span class="string">newSet;  </span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string">catch (CloneNotSupportedException e) &#123;  </span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new InternalError();  </span></span><br><span class="line">        <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * LinkedHashSet的使用</span></span><br><span class="line"><span class="comment"> * LinkedHashSet作为hashSet的子类，再添加数据的同时，每个数据还维护了一对双向链表，</span></span><br><span class="line"><span class="comment"> * 记录此数据的前一个数据和后一个数据。对于频繁的遍历，LinkedHashSet的效率高于HashSet</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class LinkedHashSet&lt;E&gt;    extends HashSet&lt;E&gt;    implements Set&lt;E&gt;, Cloneable, java.io.Serializable &#123;</span></span><br><span class="line"><span class="attr">LinkHashSet底层只是单纯的继承了HashSet并没啥太大改变</span></span><br></pre></td></tr></table></figure>

<h4 id="TreeSet的使用"><a href="#TreeSet的使用" class="headerlink" title="TreeSet的使用"></a>TreeSet的使用</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class TreeSet&lt;E&gt; extends AbstractSet&lt;E&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">NavigableSet&lt;E&gt;, Cloneable, java.io.Serializable</span></span><br><span class="line"><span class="attr">&#123;</span></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">可以排序的map.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">private</span> <span class="string">transient NavigableMap&lt;E,Object&gt; m;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">//</span> <span class="string">用来存入map的value的</span></span><br><span class="line">    <span class="attr">private</span> <span class="string">static final Object PRESENT = new Object();</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">构造一个指定map集合的TreeSet</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="meta">TreeSet(NavigableMap&lt;E,Object&gt;</span> <span class="string">m) &#123;</span></span><br><span class="line">        <span class="meta">this.m</span> = <span class="string">m;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//自然排序</span></span><br><span class="line">   <span class="meta">构造一个新的空树集，根据其元素的自然顺序排序。所有插入到集合中的元素必须实现&#123;@link</span> <span class="string">comparable&#125;接口。此外,所有这些元素都必须&lt;我&gt;相互可比&lt; / ix: f@code e1.compareTo (e2)&#125;不能抛出一个f@code ClassCastException&#125; &#123;@code el&#125;对任何元素集和f@code e2&#125;。如果用户试图添加一个字符串进入Integer类型的Set&#123;@code添加&#125;调用将抛出一个</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">TreeSet() &#123;</span></span><br><span class="line">        <span class="meta">this(new</span> <span class="string">TreeMap&lt;E,Object&gt;());</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">    <span class="attr">定制排序</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Constructs a new, empty tree set, sorted according to the specified</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">comparator.  All elements inserted into the set must be &lt;i&gt;mutually</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">comparable&lt;/i&gt; by the specified comparator: &#123;@code comparator.compare(e1,</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">e2)&#125; must not throw a &#123;@code ClassCastException&#125; for any elements</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&#123;@code e1&#125; and &#123;@code e2&#125; in the set.  If the user attempts to add</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">an element to the set that violates this constraint, the</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&#123;@code add&#125; call will throw a &#123;@code ClassCastException&#125;.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param comparator the comparator that will be used to order this set.</span></span><br><span class="line">     <span class="meta">*</span>        <span class="string">If &#123;@code null&#125;, the &#123;@linkplain Comparable natural</span></span><br><span class="line">     <span class="meta">*</span>        <span class="string">ordering&#125; of the elements will be used.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">TreeSet(Comparator&lt;? super E&gt; comparator) &#123;</span></span><br><span class="line">        <span class="meta">this(new</span> <span class="string">TreeMap&lt;&gt;(comparator));</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Constructs a new tree set containing the elements in the specified</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">collection, sorted according to the &lt;i&gt;natural ordering&lt;/i&gt; of its</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">elements.  All elements inserted into the set must implement the</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&#123;@link Comparable&#125; interface.  Furthermore, all such elements must be</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&lt;i&gt;mutually comparable&lt;/i&gt;: &#123;@code e1.compareTo(e2)&#125; must not throw a</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&#123;@code ClassCastException&#125; for any elements &#123;@code e1&#125; and</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&#123;@code e2&#125; in the set.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param c collection whose elements will comprise the new set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws ClassCastException if the elements in &#123;@code c&#125; are</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">not &#123;@link Comparable&#125;, or are not mutually comparable</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws NullPointerException if the specified collection is null</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">TreeSet(Collection&lt;? extends E&gt; c) &#123;</span></span><br><span class="line">        <span class="attr">this();</span></span><br><span class="line">        <span class="attr">addAll(c);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Constructs a new tree set containing the same elements and</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">using the same ordering as the specified sorted set.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param s sorted set whose elements will comprise the new set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws NullPointerException if the specified sorted set is null</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">TreeSet(SortedSet&lt;E&gt; s) &#123;</span></span><br><span class="line">        <span class="attr">this(s.comparator());</span></span><br><span class="line">        <span class="attr">addAll(s);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Returns an iterator over the elements in this set in ascending order.</span></span><br><span class="line">     <span class="attr">*以升序返回此集合中元素的迭代器。</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return an iterator over the elements in this set in ascending order</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Iterator&lt;E&gt; iterator() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.navigableKeySet().iterator();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Returns an iterator over the elements in this set in descending order.</span></span><br><span class="line">     <span class="attr">*按降序返回该集合中元素的迭代器。</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return an iterator over the elements in this set in descending order</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@since 1.6</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Iterator&lt;E&gt; descendingIterator() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.descendingKeySet().iterator();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@since 1.6</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">NavigableSet&lt;E&gt; descendingSet() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">new TreeSet&lt;&gt;(m.descendingMap());</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">public</span> <span class="string">int size() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.size();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean isEmpty() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.isEmpty();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean contains(Object o) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.containsKey(o);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Adds the specified element to this set if it is not already present.</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">More formally, adds the specified element &#123;@code e&#125; to this set if</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">the set contains no element &#123;@code e2&#125; such that</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">&lt;tt&gt;(e==null&amp;nbsp;?&amp;nbsp;e2==null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;/tt&gt;.</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">If this set already contains the element, the call leaves the set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">unchanged and returns &#123;@code false&#125;.</span></span><br><span class="line">     <span class="attr">*大概意思就是先根据hash值比交，不相同直接添加成功，</span></span><br><span class="line">     <span class="attr">hashcode相同在判断是不是null然后调用equals方法进行比较</span></span><br><span class="line">     <span class="attr">equals方法返回true，则添加失败，否则添加成功。</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param e element to be added to this set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return &#123;@code true&#125; if this set did not already contain the specified</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">element</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws ClassCastException if the specified object cannot be compared</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">with the elements currently in this set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws NullPointerException if the specified element is null</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">and this set uses natural ordering, or its comparator</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">does not permit null elements</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean add(E e) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.put(e, PRESENT)==null;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="meta">如果指定的元素存在，则从该集合中移除它。更正式的说法是，删除元素f@code</span> <span class="string">e&#125;&lt; (ttx - o = null&amp;nbsp;? e = -null&amp;nbsp &amp;nbsp;;o.equals &amp;nbsp; (e)) / tt &gt;、&lt;如果这个集合包含这样一个元素。如果该集合包含元素，则返回&#123;@code true&#125;(或者，如果该集合由于调用而改变，则返回相等的结果)。(一旦调用返回，这个集合将不包含元素。)</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param o object to be removed from this set, if present</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return &#123;@code true&#125; if this set contained the specified element</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws ClassCastException if the specified object cannot be compared</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">with the elements currently in this set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws NullPointerException if the specified element is null</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">and this set uses natural ordering, or its comparator</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">does not permit null elements</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">boolean remove(Object o) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">m.remove(o)==PRESENT;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Removes all of the elements from this set.</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">The set will be empty after this call returns.</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">void clear() &#123;</span></span><br><span class="line">        <span class="attr">m.clear();</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">/**</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">Adds all of the elements in the specified collection to this set.</span></span><br><span class="line">     <span class="attr">*</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@param c collection containing elements to be added to this set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@return &#123;@code true&#125; if this set changed as a result of the call</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws ClassCastException if the elements provided cannot be compared</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">with the elements currently in the set</span></span><br><span class="line">     <span class="meta">*</span> <span class="string">@throws NullPointerException if the specified collection is null or</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">if any element is null and this set uses natural ordering, or</span></span><br><span class="line">     <span class="meta">*</span>         <span class="string">its comparator does not permit null elements</span></span><br><span class="line">     <span class="attr">*/</span></span><br><span class="line">    <span class="attr">public</span>  <span class="string">boolean addAll(Collection&lt;? extends E&gt; c) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">Use linear-time version if applicable</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(m.size()==0 &amp;&amp; c.size() &gt; 0 &amp;&amp;</span></span><br><span class="line">            <span class="attr">c</span> <span class="string">instanceof SortedSet &amp;&amp;</span></span><br><span class="line">            <span class="attr">m</span> <span class="string">instanceof TreeMap) &#123;</span></span><br><span class="line">            <span class="meta">SortedSet&lt;?</span> <span class="string">extends E&gt; set = (SortedSet&lt;? extends E&gt;) c;</span></span><br><span class="line">            <span class="meta">TreeMap&lt;E,Object&gt;</span> <span class="string">map = (TreeMap&lt;E, Object&gt;) m;</span></span><br><span class="line">            <span class="meta">Comparator&lt;?&gt;</span> <span class="string">cc = set.comparator();</span></span><br><span class="line">            <span class="meta">Comparator&lt;?</span> <span class="string">super E&gt; mc = map.comparator();</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(cc==mc || (cc != null &amp;&amp; cc.equals(mc))) &#123;</span></span><br><span class="line">                <span class="meta">map.addAllForTreeSet(set,</span> <span class="string">PRESENT);</span></span><br><span class="line">                <span class="attr">return</span> <span class="string">true;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">super.addAll(c);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>①向TreeSet中添加的数据，要求是同一个类的对象，不能添加不同类的对象。</li>
<li>②两种排序方式：自然排序和定制排序</li>
<li>③自然排序中，比较两个对象是否相同的标准：compareTo()返回0，不再是equals()；</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeSet&lt;Object&gt; treeSet = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">        treeSet.add(<span class="number">123</span>);</span><br><span class="line">        treeSet.add(<span class="number">456</span>);</span><br><span class="line">        treeSet.add(<span class="number">789</span>);</span><br><span class="line">        treeSet.add(<span class="number">456</span>);</span><br><span class="line">        System.out.println(treeSet);<span class="comment">//[123, 456, 789]</span></span><br><span class="line">        System.out.println(<span class="string">&quot;*****************************************&quot;</span>);</span><br><span class="line">        TreeSet&lt;Object&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">        set.add(<span class="keyword">new</span> User(<span class="string">&quot;Tom&quot;</span>,<span class="number">22</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> User(<span class="string">&quot;Jerry&quot;</span>,<span class="number">24</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> User(<span class="string">&quot;BeiBei&quot;</span>,<span class="number">21</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> User(<span class="string">&quot;DongDong&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> User(<span class="string">&quot;MM&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        <span class="comment">//set.add(new Integer(123));</span></span><br><span class="line">        Iterator&lt;Object&gt; iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//姓名从大到小，年龄从小到大</span></span><br><span class="line">       <span class="keyword">if</span> (o <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">           User user= (User) o;</span><br><span class="line">           <span class="keyword">int</span> num= <span class="keyword">this</span>.name.compareTo(user.name);</span><br><span class="line">           <span class="keyword">if</span> (num!=<span class="number">0</span>)&#123;</span><br><span class="line">               <span class="keyword">return</span> -num;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">return</span> Integer.compare(<span class="keyword">this</span>.age,user.age);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;类型不一致！&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TreeSet定制排序</p>
<ul>
<li>①new一个Comparator对象，重写compare方法</li>
<li>②将Comparator对象传入TreeSet的构造器</li>
<li>③添加对象时就会按照compare方法进行比较</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//照年龄从小到大排列</span></span><br><span class="line">        Comparator comparator = <span class="keyword">new</span> Comparator()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> Dog&amp;&amp; o2 <span class="keyword">instanceof</span> Dog)&#123;</span><br><span class="line">                    Dog d1= (Dog) o1;</span><br><span class="line">                    Dog d2= (Dog) o2;</span><br><span class="line">                    <span class="keyword">return</span> Integer.compare(d1.getAge(),d2.getAge());</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;类型不一致！&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        TreeSet&lt;Object&gt; set = <span class="keyword">new</span> TreeSet&lt;&gt;(comparator);</span><br><span class="line">        set.add(<span class="keyword">new</span> Dog(<span class="string">&quot;Tom&quot;</span>,<span class="number">22</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Dog(<span class="string">&quot;Jerry&quot;</span>,<span class="number">22</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Dog(<span class="string">&quot;BeiBei&quot;</span>,<span class="number">21</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Dog(<span class="string">&quot;DongDong&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Dog(<span class="string">&quot;MM&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="number">123</span>);</span><br><span class="line">        <span class="comment">//set.add(new Integer(123));</span></span><br><span class="line">        Iterator&lt;Object&gt; iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-map接口"><a href="#2-map接口" class="headerlink" title="2.map接口"></a>2.map接口</h2><p>map底层源码分析</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Map:双列数据，用于存储具有键值对的数据，类似于函数的概念。</span></span><br><span class="line"><span class="comment"> * 1.HashMap：作为map的主要实现类,线程不安全的，效率高。可以存储null的key或value。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * *LinkedHashMap：HashMap的子类，保证在遍历map元素时，可以按照添加的顺序进行遍历。</span></span><br><span class="line"><span class="comment"> * 原因：在原有hashMap底层的基础结构上，添加了一对指针，指向前一个和后一个元素。</span></span><br><span class="line"><span class="comment"> *对于频繁的遍历操作，此类执行效率高于hashMap。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 2.TreeMap：可以按照添加的键值对进行排序，实现便利排序。按照key来排序。</span></span><br><span class="line"><span class="comment"> *底层使用红黑树。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 3.HashTable：古老的实现类。jdk1.0.,线程安全的，效率低，不可以存储null的key或value。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * *Properties：HashTable的子类。常用来处理配置文件。key和value都是String类型。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * HashMap的底层：jdk7 数组加链表</span></span><br><span class="line"><span class="comment"> *                jdk8数组+链表+红黑树</span></span><br><span class="line"><span class="comment"> *   面试题：</span></span><br><span class="line"><span class="comment"> *   1.hashMap的底层实现原理：</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *   2.HashMap和HashTable的异同：</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 二：Map中key-value的理解：</span></span><br><span class="line"><span class="comment"> * 1.key不可重复（无序），value可以重复。</span></span><br><span class="line"><span class="comment"> * 2.实际上放入map集合的是entry，entry有两个属性key和value。</span></span><br><span class="line"><span class="comment"> * 3.entry无序不可重复。</span></span><br><span class="line"><span class="comment"> * 4.key所在的类要重写hashcode（）和equals（）方法，针对于HashMap</span></span><br><span class="line"><span class="comment"> * 5.判断该元素存不存在，需要重写equals（）。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>支持自然排序和定制排序</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">interface Map&lt;K,V&gt; &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//里面定义了一个Entry接口</span></span><br><span class="line"><span class="attr">interface</span> <span class="string">Entry&lt;K,V&gt; &#123;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">public</span> <span class="string">static &lt;K extends Comparable&lt;? super K&gt;, V&gt; Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparingByKey() &#123;</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">(Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</span></span><br><span class="line">                <span class="meta">(c1,</span> <span class="string">c2) -&gt; c1.getKey().compareTo(c2.getKey());</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">public</span> <span class="string">static &lt;K, V extends Comparable&lt;? super V&gt;&gt; Comparator&lt;Map.Entry&lt;K,V&gt;&gt; comparingByValue() &#123;</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">(Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</span></span><br><span class="line">                <span class="meta">(c1,</span> <span class="string">c2) -&gt; c1.getValue().compareTo(c2.getValue());</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">public</span> <span class="string">static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparingByKey(Comparator&lt;? super K&gt; cmp) &#123;</span></span><br><span class="line">            <span class="attr">Objects.requireNonNull(cmp);</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">(Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</span></span><br><span class="line">                <span class="meta">(c1,</span> <span class="string">c2) -&gt; cmp.compare(c1.getKey(), c2.getKey());</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">public</span> <span class="string">static &lt;K, V&gt; Comparator&lt;Map.Entry&lt;K, V&gt;&gt; comparingByValue(Comparator&lt;? super V&gt; cmp) &#123;</span></span><br><span class="line">            <span class="attr">Objects.requireNonNull(cmp);</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">(Comparator&lt;Map.Entry&lt;K, V&gt;&gt; &amp; Serializable)</span></span><br><span class="line">                <span class="meta">(c1,</span> <span class="string">c2) -&gt; cmp.compare(c1.getValue(), c2.getValue());</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><h4 id="底层源码分析"><a href="#底层源码分析" class="headerlink" title="底层源码分析"></a>底层源码分析</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">/**</span></span><br><span class="line"><span class="meta">*</span> <span class="string">以jdk7为例说明：</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">HashMap&lt;Object, Object&gt; map = new HashMap&lt;&gt;();//实例化以后，底层创建了长度为16的一维数组Entry[]table。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">....已经执行过多次put操作。。。。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">map.put(1,666);//首先，计算key1的hash值，此hash值经过某种算法计算，得到在entry数组的存放位置。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">如果此位置的数据为空，此时的key1添加成功（成功一）；如果此位置的数据不为空（意味着此位置存在一个或者多个数据），</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">比较key1和已经存在的一个或多个数据的哈希值，如果key1的哈希值与已经存在的都不相同，此时添加成功（成功二）。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">如果如果key1的哈希值与已经存在的某个数据（key2-value2）的哈希值相同，继续比较，</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">调用key1所在类的equals（）方法，比较：</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">如果equals（）返回false：添加成功（成功三）；如果返回true：使用value1替换value2.</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">关于成功二和成功三：</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">此时key1value1和原来的数据一链表的方式存储。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">在不断的添加过程中，涉及到扩容问题，当超出临界值，且要存放的位置非空时，默认的扩容方式，扩容为原来容量的2倍，并将原有的数据复制过来。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">在jdk8中的底层实现：</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">jdk8相比于底层实现方面的不同：</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">1.new HashMap();底层没有创建一个长度为16的数组。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">2.jdk8底层是Node【】，不再是Entry【】。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">3.首次调用put方法时，底层创建长度为16的数组。</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">4.原来jdk7底层结构只有数组加链表，jdk8又加入了红黑树，当数组某一个索引位置上的元素以链表形式存在的</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">数据个数&gt;8且当前数组长度&gt;64时，此时此索引位置上的所有数据改为使用红黑树存储。</span></span><br><span class="line"> <span class="attr">*/</span></span><br></pre></td></tr></table></figure>

<p><strong>HashMap基于Map接口实现，元素以键值对的方式存储，并且允许使用null  建和null　值，　因为key不允许重复，因此只能有一个键为null,另外HashMap不能保证放入元素的顺序，它是无序的，和放入的顺序并不能相同。HashMap是线程不安全的。</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class HashMap&lt;K,V&gt; extends AbstractMap&lt;K,V&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">Map&lt;K,V&gt;, Cloneable, Serializable &#123;</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">static</span> <span class="string">final int DEFAULT_INITIAL_CAPACITY = 1 &lt;&lt; 4; //默认初始化大小 16 </span></span><br><span class="line"><span class="attr">static</span> <span class="string">final float DEFAULT_LOAD_FACTOR = 0.75f;     //负载因子0.75</span></span><br><span class="line"><span class="attr">static</span> <span class="string">final Entry&lt;?,?&gt;[] EMPTY_TABLE = &#123;&#125;;         //初始化的默认数组</span></span><br><span class="line"><span class="attr">transient</span> <span class="string">int size;     //HashMap中元素的数量</span></span><br><span class="line"><span class="attr">int</span> <span class="string">threshold;          //判断是否需要调整HashMap的容量  </span></span><br><span class="line"></span><br><span class="line"><span class="attr">//当数组总长度&gt;64,且单个节点的元素大于8个时，该节点的元素使用红黑树存储</span></span><br><span class="line"><span class="attr">当删除该节点元素时，当该节点的元素小于6个，从二叉树变为指针</span></span><br><span class="line"> <span class="attr">static</span> <span class="string">final int TREEIFY_THRESHOLD = 8;</span></span><br><span class="line"> <span class="attr">static</span> <span class="string">final int UNTREEIFY_THRESHOLD = 6;</span></span><br><span class="line"> <span class="attr">static</span> <span class="string">final int MIN_TREEIFY_CAPACITY = 64;</span></span><br><span class="line"> <span class="attr">//底层使用指针</span></span><br><span class="line">     <span class="attr">static</span> <span class="string">class Node&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">int hash;</span></span><br><span class="line">        <span class="attr">final</span> <span class="string">K key;</span></span><br><span class="line">        <span class="attr">V</span> <span class="string">value;</span></span><br><span class="line">        <span class="meta">Node&lt;K,V&gt;</span> <span class="string">next;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">Node(int</span> <span class="string">hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span></span><br><span class="line">            <span class="meta">this.hash</span> = <span class="string">hash;</span></span><br><span class="line">            <span class="meta">this.key</span> = <span class="string">key;</span></span><br><span class="line">            <span class="meta">this.value</span> = <span class="string">value;</span></span><br><span class="line">            <span class="meta">this.next</span> = <span class="string">next;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">      <span class="meta">//HashMap计算hash对key的hashcode进行了二次hash，以获得更好的散列值，然后对table数组长度取摸。</span>  <span class="string"></span></span><br><span class="line">        </span><br><span class="line">      <span class="attr">int</span> <span class="string">hash = hash(key.hashCode());</span></span><br><span class="line"><span class="attr">int</span> <span class="string">i = indexFor(hash, table.length);</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">static</span> <span class="string">int hash(int h) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">This function ensures that hashCodes that differ only by</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">constant multiples at each bit position have a bounded</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">number of collisions (approximately 8 at default load factor).</span></span><br><span class="line">        <span class="attr">h</span> <span class="string">^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"> </span><br><span class="line"> <span class="attr">static</span> <span class="string">int indexFor(int h, int length) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">h &amp; (length-1);</span></span><br><span class="line"></span><br><span class="line"><span class="meta">//在该方法中，添加键值对时，首先进行table是否初始化的判断，如果没有进行初始化（分配空间，Entry[]数组的长度）。然后进行key是否为null的判断，如果key</span>=<span class="string">=null ,放置在Entry[]的0号位置。计算在Entry[]数组的存储位置，判断该位置上是否已有元素，如果已经有元素存在，则遍历该Entry[]数组位置上的单链表。判断key是否存在，如果key已经存在，则用新的value值，替换点旧的value值，并将旧的value值返回。如果key不存在于HashMap中，程序继续向下执行。将key-vlaue, 生成Entry实体，添加到HashMap中的Entry[]数组中。</span></span><br><span class="line"></span><br><span class="line"><span class="attr">public</span> <span class="string">V put(K key, V value) &#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(table == EMPTY_TABLE) &#123; //是否初始化</span></span><br><span class="line">            <span class="attr">inflateTable(threshold);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(key == null) //放置在0号位置</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">putForNullKey(value);</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">hash = hash(key); //计算hash值</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">i = indexFor(hash, table.length);  //计算在Entry[]中的存储位置</span></span><br><span class="line">        <span class="attr">for</span> <span class="string">(Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) &#123;</span></span><br><span class="line">            <span class="attr">Object</span> <span class="string">k;</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) &#123;</span></span><br><span class="line">                <span class="attr">V</span> <span class="string">oldValue = e.value;</span></span><br><span class="line">                <span class="meta">e.value</span> = <span class="string">value;</span></span><br><span class="line">                <span class="attr">e.recordAccess(this);</span></span><br><span class="line">                <span class="attr">return</span> <span class="string">oldValue;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"> </span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line">        <span class="meta">addEntry(hash,</span> <span class="string">key, value, i); //添加到Map中</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">null;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">添加到方法的具体操作，在添加之前先进行容量的判断，如果当前容量达到了阈值，并且需要存储到Entry[]数组中，先进性扩容操作，空充的容量为table长度的2倍。重新计算hash值，和数组存储的位置，扩容后的链表顺序与扩容前的链表顺序相反。然后将新添加的Entry实体存放到当前Entry[]位置链表的头部。在1.8之前，新插入的元素都是放在了链表的头部位置，但是这种操作在高并发的环境下容易导致死锁，所以1.8之后，新插入的元素都放在了链表的尾部。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">/*</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">hash hash值</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">key 键值</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">value value值</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">bucketIndex Entry[]数组中的存储索引</span></span><br><span class="line"> <span class="meta">*</span> <span class="string">/ </span></span><br><span class="line"><span class="attr">void</span> <span class="string">addEntry(int hash, K key, V value, int bucketIndex) &#123;</span></span><br><span class="line">     <span class="attr">if</span> <span class="string">((size &gt;= threshold) &amp;&amp; (null != table[bucketIndex])) &#123;</span></span><br><span class="line">         <span class="meta">resize(2</span> <span class="string">* table.length); //扩容操作，将数据元素重新计算位置后放入newTable中，链表的顺序与之前的顺序相反</span></span><br><span class="line">         <span class="attr">hash</span> = <span class="string">(null != key) ? hash(key) : 0;</span></span><br><span class="line">         <span class="attr">bucketIndex</span> = <span class="string">indexFor(hash, table.length);</span></span><br><span class="line">     <span class="attr">&#125;</span></span><br><span class="line"> </span><br><span class="line">    <span class="meta">createEntry(hash,</span> <span class="string">key, value, bucketIndex);</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">void</span> <span class="string">createEntry(int hash, K key, V value, int bucketIndex) &#123;</span></span><br><span class="line">    <span class="meta">Entry&lt;K,V&gt;</span> <span class="string">e = table[bucketIndex];</span></span><br><span class="line">    <span class="meta">table[bucketIndex]</span> = <span class="string">new Entry&lt;&gt;(hash, key, value, e);</span></span><br><span class="line">    <span class="attr">size++;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="meta">HashMap里面实现一个静态内部类Entry，其重要的属性有</span> <span class="string">hash，key，value，next。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">HashMap里面用到链式数据结构的一个概念。上面我们提到过Entry类里面有一个next属性，作用是指向下一个Entry。打个比方，</span> <span class="string">第一个键值对A进来，通过计算其key的hash得到的index=0，记做:Entry[0] = A。一会后又进来一个键值对B，通过计算其index也等于0，现在怎么办？HashMap会这样做:B.next = A,Entry[0] = B,如果又进来C,index也等于0,那么C.next = B,Entry[0] = C；这样index=0的地方其实存取了A,B,C三个键值对,他们通过next这个属性链接在一起。也就是说数组中存储的是最后插入的元素。</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="attr">void</span> <span class="string">addEntry(int hash, K key, V value, int bucketIndex) &#123;</span></span><br><span class="line">    <span class="meta">Entry&lt;K,V&gt;</span> <span class="string">e = table[bucketIndex];</span></span><br><span class="line">    <span class="meta">table[bucketIndex]</span> = <span class="string">new Entry&lt;K,V&gt;(hash, key, value, e); //参数e, 是Entry.next</span></span><br><span class="line">    <span class="attr">//如果size超过threshold，则扩充table大小。再散列</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">(size++ &gt;= threshold)</span></span><br><span class="line">            <span class="meta">resize(2</span> <span class="string">* table.length);</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">//添加方法精讲</span></span><br><span class="line"><span class="attr">public</span> <span class="string">V put(K key, V value) &#123;</span></span><br><span class="line">    <span class="attr">//调用putVal()方法完成</span></span><br><span class="line">    <span class="attr">return</span> <span class="string">putVal(hash(key), key, value, false, true);</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">final</span> <span class="string">V putVal(int hash, K key, V value, boolean onlyIfAbsent,</span></span><br><span class="line">               <span class="attr">boolean</span> <span class="string">evict) &#123;</span></span><br><span class="line">    <span class="meta">Node&lt;K,V&gt;[]</span> <span class="string">tab; Node&lt;K,V&gt; p; int n, i;</span></span><br><span class="line">    <span class="attr">//判断table是否初始化，否则初始化操作</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">((tab = table) == null || (n = tab.length) == 0)</span></span><br><span class="line">        <span class="attr">n</span> = <span class="string">(tab = resize()).length;</span></span><br><span class="line">    <span class="attr">//计算存储的索引位置，如果没有元素，直接赋值</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">((p = tab[i = (n - 1) &amp; hash]) == null)</span></span><br><span class="line">        <span class="meta">tab[i]</span> = <span class="string">newNode(hash, key, value, null);</span></span><br><span class="line">    <span class="attr">else</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="meta">Node&lt;K,V&gt;</span> <span class="string">e; K k;</span></span><br><span class="line">        <span class="attr">//节点若已经存在，执行赋值操作</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(p.hash == hash &amp;&amp;</span></span><br><span class="line">            <span class="meta">((k</span> = <span class="string">p.key) == key || (key != null &amp;&amp; key.equals(k))))</span></span><br><span class="line">            <span class="attr">e</span> = <span class="string">p;</span></span><br><span class="line">        <span class="attr">//判断链表是否是红黑树</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">if (p instanceof TreeNode)</span></span><br><span class="line">            <span class="attr">//红黑树对象操作</span></span><br><span class="line">            <span class="attr">e</span> = <span class="string">((TreeNode&lt;K,V&gt;)p).putTreeVal(this, tab, hash, key, value);</span></span><br><span class="line">        <span class="attr">else</span> <span class="string">&#123;</span></span><br><span class="line">            <span class="attr">//为链表，</span></span><br><span class="line">            <span class="attr">for</span> <span class="string">(int binCount = 0; ; ++binCount) &#123;</span></span><br><span class="line">                <span class="attr">if</span> <span class="string">((e = p.next) == null) &#123;</span></span><br><span class="line">                    <span class="meta">p.next</span> = <span class="string">newNode(hash, key, value, null);</span></span><br><span class="line">                    <span class="attr">//链表长度8，将链表转化为红黑树存储</span></span><br><span class="line">                    <span class="attr">if</span> <span class="string">(binCount &gt;= TREEIFY_THRESHOLD - 1) // -1 for 1st</span></span><br><span class="line">                        <span class="meta">treeifyBin(tab,</span> <span class="string">hash);</span></span><br><span class="line">                    <span class="attr">break;</span></span><br><span class="line">                <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">//key存在，直接覆盖</span></span><br><span class="line">                <span class="attr">if</span> <span class="string">(e.hash == hash &amp;&amp;</span></span><br><span class="line">                    <span class="meta">((k</span> = <span class="string">e.key) == key || (key != null &amp;&amp; key.equals(k))))</span></span><br><span class="line">                    <span class="attr">break;</span></span><br><span class="line">                <span class="attr">p</span> = <span class="string">e;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(e != null) &#123; // existing mapping for key</span></span><br><span class="line">            <span class="attr">V</span> <span class="string">oldValue = e.value;</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(!onlyIfAbsent || oldValue == null)</span></span><br><span class="line">                <span class="meta">e.value</span> = <span class="string">value;</span></span><br><span class="line">            <span class="attr">afterNodeAccess(e);</span></span><br><span class="line">            <span class="attr">return</span> <span class="string">oldValue;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//记录修改次数</span></span><br><span class="line">    <span class="attr">++modCount;</span></span><br><span class="line">    <span class="attr">//判断是否需要扩容</span></span><br><span class="line">    <span class="attr">if</span> <span class="string">(++size &gt; threshold)</span></span><br><span class="line">        <span class="attr">resize();</span></span><br><span class="line">    <span class="attr">//空操作</span></span><br><span class="line">    <span class="attr">afterNodeInsertion(evict);</span></span><br><span class="line">    <span class="attr">return</span> <span class="string">null;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h4><p>在LinkedHashMap中，是通过双联表的结构来维护节点的顺序的。每个节点都进行了双向的连接，维持插入的顺序（默认）。<code>head</code>指向第一个插入的节点，<code>tail</code>指向最后一个节点。</p>
<p>LinkedHashMap是HashMap的亲儿子，直接继承HashMap类。LinkedHashMap中的节点元素为<code>Entry</code>，直接继承<code>HashMap.Node</code>。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">在HashMap类的put方法中，新建节点是使用的newNode方法。而在LinkedHashMap没有重写父类的put方法，而是重写了newNode方法来构建自己的节点对象。</span></span><br><span class="line">    <span class="meta">Node&lt;K,V&gt;</span> <span class="string">newNode(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">new Node&lt;&gt;(hash, key, value, next);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="meta">Node&lt;K,V&gt;</span> <span class="string">newNode(int hash, K key, V value, Node&lt;K,V&gt; e) &#123;</span></span><br><span class="line">        <span class="meta">LinkedHashMap.Entry&lt;K,V&gt;</span> <span class="string">p =</span></span><br><span class="line">            <span class="attr">new</span> <span class="string">LinkedHashMap.Entry&lt;K,V&gt;(hash, key, value, e);</span></span><br><span class="line">        <span class="attr">linkNodeLast(p);</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">p;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>LinkedHashMap相对于HashMap，增加了双链表的结果（即节点中增加了前后指针），其他处理逻辑与HashMap一致，同样也没有锁保护，多线程使用存在风险。</p>
<h4 id="Map接口中定义的方法1"><a href="#Map接口中定义的方法1" class="headerlink" title="Map接口中定义的方法1"></a>Map接口中定义的方法1</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Object, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="number">666</span>);<span class="comment">//添加</span></span><br><span class="line">    map.putAll(map);<span class="comment">//添加一个集合</span></span><br><span class="line">    map.remove(<span class="number">1</span>);<span class="comment">//通过key移除</span></span><br><span class="line">    map.clear();<span class="comment">//移除集合中所元素</span></span><br><span class="line">    map.size();<span class="comment">//集合大小</span></span><br><span class="line">    map.get(<span class="number">1</span>);<span class="comment">//通过key获取值</span></span><br><span class="line">    map.containsKey(<span class="number">1</span>);<span class="comment">//判断是否包含指定key</span></span><br><span class="line">    map.containsValue(<span class="number">666</span>);<span class="comment">//判断是否包含指定value</span></span><br><span class="line">    map.isEmpty();<span class="comment">//判断是否为空</span></span><br><span class="line">    map.equals(map);<span class="comment">//判断当前map和参数Object是否相等</span></span><br></pre></td></tr></table></figure>

<h4 id="Map中的常用方法二"><a href="#Map中的常用方法二" class="headerlink" title="Map中的常用方法二"></a>Map中的常用方法二</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Object, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>,<span class="number">666</span>);</span><br><span class="line">    map.put(<span class="number">2</span>,<span class="number">888</span>);</span><br><span class="line">    map.put(<span class="number">3</span>,<span class="number">555</span>);</span><br><span class="line">    <span class="comment">//遍历所的key：keySet</span></span><br><span class="line">    Set&lt;Object&gt; set = map.keySet();</span><br><span class="line">    Iterator&lt;Object&gt; iterator = set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历所的value：values</span></span><br><span class="line">    Collection&lt;Object&gt; collection = map.values();</span><br><span class="line">    Iterator&lt;Object&gt; iterator1 = collection.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator1.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator1.next());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历所的key，value:entrySet</span></span><br><span class="line">    Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entries = map.entrySet();</span><br><span class="line">    Iterator&lt;Map.Entry&lt;Object, Object&gt;&gt; iterator2 = entries.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator2.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator2.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="HashTable"><a href="#HashTable" class="headerlink" title="HashTable"></a>HashTable</h4><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class Hashtable&lt;K,V&gt;</span></span><br><span class="line">    <span class="attr">extends</span> <span class="string">Dictionary&lt;K,V&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">Map&lt;K,V&gt;, Cloneable, java.io.Serializable &#123;</span></span><br><span class="line"><span class="attr">属性：</span></span><br><span class="line"><span class="attr">table：为一个Entry[]数组类型，Entry代表了“拉链”的节点，每一个Entry代表了一个键值对，哈希表的&quot;key-value键值对&quot;都是存储在Entry数组中的。</span></span><br><span class="line"></span><br><span class="line">   <span class="attr">count：HashTable的大小，注意这个大小并不是HashTable的容器大小，而是他所包含Entry键值对的数量。</span></span><br><span class="line"></span><br><span class="line">   <span class="meta">threshold：Hashtable的阈值，用于判断是否需要调整Hashtable的容量。threshold的值</span>=<span class="string">&quot;容量*加载因子&quot;。</span></span><br><span class="line"></span><br><span class="line">   <span class="attr">loadFactor：加载因子。</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">modCount：用来实现“fail-fast”机制的（也就是快速失败）。所谓快速失败就是在并发集合中，其进行迭代操作时，若有其他线程对其进行结构性的修改，这时迭代器会立马感知到，并且立即抛出ConcurrentModificationException异常，而不是等到迭代完成之后才告诉你（你已经出错了）</span></span><br><span class="line">    <span class="attr">构造方法：</span></span><br><span class="line">    <span class="attr">1.默认构造函数，容量为11，加载因子为0.75：</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Hashtable() &#123;</span></span><br><span class="line">        <span class="meta">this(11,</span> <span class="string">0.75f);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">2.</span></span><br><span class="line">     <span class="attr">public</span> <span class="string">Hashtable(int initialCapacity) &#123;</span></span><br><span class="line">        <span class="meta">this(initialCapacity,</span> <span class="string">0.75f);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">3.</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Hashtable(int initialCapacity, float loadFactor) &#123;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(initialCapacity &lt; 0)</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new IllegalArgumentException(&quot;Illegal Capacity: &quot;+</span></span><br><span class="line">                                               <span class="attr">initialCapacity);</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(loadFactor &lt;= 0 || Float.isNaN(loadFactor))</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new IllegalArgumentException(&quot;Illegal Load: &quot;+loadFactor);</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">if</span> <span class="string">(initialCapacity==0)</span></span><br><span class="line">            <span class="attr">initialCapacity</span> = <span class="string">1;</span></span><br><span class="line">        <span class="meta">this.loadFactor</span> = <span class="string">loadFactor;</span></span><br><span class="line">        <span class="attr">table</span> = <span class="string">new Entry&lt;?,?&gt;[initialCapacity];</span></span><br><span class="line">        <span class="attr">threshold</span> = <span class="string">(int)Math.min(initialCapacity * loadFactor, MAX_ARRAY_SIZE + 1);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">重要方法</span></span><br><span class="line">        <span class="attr">public</span> <span class="string">synchronized V get(Object key) &#123;</span></span><br><span class="line">        <span class="meta">Entry&lt;?,?&gt;</span> <span class="string">tab[] = table;</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">hash = key.hashCode();</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">index = (hash &amp; 0x7FFFFFFF) % tab.length;</span></span><br><span class="line">        <span class="attr">for</span> <span class="string">(Entry&lt;?,?&gt; e = tab[index] ; e != null ; e = e.next) &#123;</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">((e.hash == hash) &amp;&amp; e.key.equals(key)) &#123;</span></span><br><span class="line">                <span class="attr">return</span> <span class="string">(V)e.value;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">null;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">        <span class="attr">public</span> <span class="string">synchronized V put(K key, V value) &#123;</span></span><br><span class="line">        <span class="meta">//</span> <span class="string">Make sure the value is not null</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(value == null) &#123;</span></span><br><span class="line">            <span class="attr">throw</span> <span class="string">new NullPointerException();</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">//</span> <span class="string">Makes sure the key is not already in the hashtable.</span></span><br><span class="line">        <span class="meta">Entry&lt;?,?&gt;</span> <span class="string">tab[] = table;</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">hash = key.hashCode();</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">index = (hash &amp; 0x7FFFFFFF) % tab.length;//计算出索引</span></span><br><span class="line">        <span class="attr">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">        <span class="attr">//遍历该数组</span></span><br><span class="line">        <span class="meta">Entry&lt;K,V&gt;</span> <span class="string">entry = (Entry&lt;K,V&gt;)tab[index];</span></span><br><span class="line">        <span class="meta">for(;</span> <span class="string">entry != null ; entry = entry.next) &#123;</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">((entry.hash == hash) &amp;&amp; entry.key.equals(key)) &#123;</span></span><br><span class="line">                <span class="attr">V</span> <span class="string">old = entry.value;</span></span><br><span class="line">                <span class="meta">entry.value</span> = <span class="string">value;</span></span><br><span class="line">                <span class="attr">return</span> <span class="string">old;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">addEntry(hash,</span> <span class="string">key, value, index);</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">null;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">       <span class="attr">private</span> <span class="string">void addEntry(int hash, K key, V value, int index) &#123;</span></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">Entry&lt;?,?&gt;</span> <span class="string">tab[] = table;</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(count &gt;= threshold) &#123;</span></span><br><span class="line">            <span class="meta">//</span> <span class="string">Rehash the table if the threshold is exceeded</span></span><br><span class="line">            <span class="attr">rehash();</span></span><br><span class="line"></span><br><span class="line">            <span class="attr">tab</span> = <span class="string">table;</span></span><br><span class="line">            <span class="attr">hash</span> = <span class="string">key.hashCode();</span></span><br><span class="line">            <span class="attr">index</span> = <span class="string">(hash &amp; 0x7FFFFFFF) % tab.length;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">//</span> <span class="string">Creates the new entry.</span></span><br><span class="line">        <span class="attr">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">        <span class="meta">Entry&lt;K,V&gt;</span> <span class="string">e = (Entry&lt;K,V&gt;) tab[index];</span></span><br><span class="line">        <span class="meta">tab[index]</span> = <span class="string">new Entry&lt;&gt;(hash, key, value, e);</span></span><br><span class="line">        <span class="attr">count++;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">//扩容</span></span><br><span class="line">        <span class="attr">protected</span> <span class="string">void rehash() &#123;</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">oldCapacity = table.length;</span></span><br><span class="line">        <span class="meta">Entry&lt;?,?&gt;[]</span> <span class="string">oldMap = table;</span></span><br><span class="line"></span><br><span class="line">        <span class="meta">//</span> <span class="string">overflow-conscious code</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">newCapacity = (oldCapacity &lt;&lt; 1) + 1;2倍+1</span></span><br><span class="line">        <span class="attr">if</span> <span class="string">(newCapacity - MAX_ARRAY_SIZE &gt; 0) &#123;</span></span><br><span class="line">            <span class="attr">if</span> <span class="string">(oldCapacity == MAX_ARRAY_SIZE)</span></span><br><span class="line">                <span class="meta">//</span> <span class="string">Keep running with MAX_ARRAY_SIZE buckets</span></span><br><span class="line">                <span class="attr">return;</span></span><br><span class="line">            <span class="attr">newCapacity</span> = <span class="string">MAX_ARRAY_SIZE;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="meta">Entry&lt;?,?&gt;[]</span> <span class="string">newMap = new Entry&lt;?,?&gt;[newCapacity];</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">modCount++;</span></span><br><span class="line">        <span class="attr">threshold</span> = <span class="string">(int)Math.min(newCapacity * loadFactor, MAX_ARRAY_SIZE + 1);</span></span><br><span class="line">        <span class="attr">table</span> = <span class="string">newMap;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">for</span> <span class="string">(int i = oldCapacity ; i-- &gt; 0 ;) &#123;</span></span><br><span class="line">            <span class="attr">for</span> <span class="string">(Entry&lt;K,V&gt; old = (Entry&lt;K,V&gt;)oldMap[i] ; old != null ; ) &#123;</span></span><br><span class="line">                <span class="meta">Entry&lt;K,V&gt;</span> <span class="string">e = old;</span></span><br><span class="line">                <span class="attr">old</span> = <span class="string">old.next;</span></span><br><span class="line"></span><br><span class="line">                <span class="attr">int</span> <span class="string">index = (e.hash &amp; 0x7FFFFFFF) % newCapacity;</span></span><br><span class="line">                <span class="meta">e.next</span> = <span class="string">(Entry&lt;K,V&gt;)newMap[index];</span></span><br><span class="line">                <span class="meta">newMap[index]</span> = <span class="string">e;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">class TreeMap&lt;K,V&gt;</span></span><br><span class="line">    <span class="attr">extends</span> <span class="string">AbstractMap&lt;K,V&gt;</span></span><br><span class="line">    <span class="attr">implements</span> <span class="string">NavigableMap&lt;K,V&gt;, Cloneable, java.io.Serializable</span></span><br><span class="line"><span class="attr">&#123;</span></span><br><span class="line">    <span class="attr">private</span> <span class="string">final Comparator&lt;? super K&gt; comparator;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">private</span> <span class="string">transient Entry&lt;K,V&gt; root;</span></span><br><span class="line">    <span class="attr">public</span> <span class="string">Comparator&lt;? super K&gt; comparator() &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">comparator;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>TreeMap两种添加方式的使用：</p>
<p>向treemap中添加数据，要求key必须是同一个类创建的对象，因为要按照类进行排序。</p>
<h4 id="①自然排序"><a href="#①自然排序" class="headerlink" title="①自然排序"></a>①自然排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TreeMap&lt;Object, Object&gt; map = <span class="keyword">new</span> TreeMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="keyword">new</span> User(<span class="string">&quot;尹会东&quot;</span>,<span class="number">23</span>),<span class="string">&quot;6666&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> User(<span class="string">&quot;张贝贝&quot;</span>,<span class="number">25</span>),<span class="string">&quot;6666&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> User(<span class="string">&quot;刘淼&quot;</span>,<span class="number">23</span>),<span class="string">&quot;6666&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;Object, Object&gt;&gt; set = map.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;Object, Object&gt;&gt; iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//姓名从大到小，年龄从小到大</span></span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">            User user= (User) o;</span><br><span class="line">            <span class="keyword">int</span> num= <span class="keyword">this</span>.name.compareTo(user.name);</span><br><span class="line">            <span class="keyword">if</span> (num!=<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> -num;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.compare(<span class="keyword">this</span>.age,user.age);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;类型不一致！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="②定制排序"><a href="#②定制排序" class="headerlink" title="②定制排序"></a>②定制排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Comparator comparator = <span class="keyword">new</span> Comparator() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span>  Dog &amp;&amp; o2 <span class="keyword">instanceof</span>  Dog)&#123;</span><br><span class="line">                    Dog d1= (Dog) o1;</span><br><span class="line">                    Dog d2= (Dog) o2;</span><br><span class="line">                    <span class="keyword">return</span> Integer.compare(d1.getAge(),d2.getAge());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;类型不一致！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        TreeMap&lt;Object, Object&gt; map = <span class="keyword">new</span> TreeMap&lt;&gt;(comparator);</span><br><span class="line">        map.put(<span class="keyword">new</span> Dog(<span class="string">&quot;尹会东&quot;</span>,<span class="number">23</span>),<span class="string">&quot;6666&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> Dog(<span class="string">&quot;张贝贝&quot;</span>,<span class="number">25</span>),<span class="string">&quot;6666&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> Dog(<span class="string">&quot;45646&quot;</span>,<span class="number">56</span>),<span class="string">&quot;888&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;Object, Object&gt;&gt; set = map.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;Object, Object&gt;&gt; iterator = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Dog&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">            <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">public</span> <span class="string">synchronized Object setProperty(String key, String value) &#123;</span></span><br><span class="line">        <span class="attr">return</span> <span class="string">put(key, value);</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">public</span> <span class="string">synchronized void load(Reader reader) throws IOException &#123;</span></span><br><span class="line">        <span class="meta">load0(new</span> <span class="string">LineReader(reader));</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">private</span> <span class="string">void load0 (LineReader lr) throws IOException &#123;</span></span><br><span class="line">        <span class="meta">char[]</span> <span class="string">convtBuf = new char[1024];</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">limit;</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">keyLen;</span></span><br><span class="line">        <span class="attr">int</span> <span class="string">valueStart;</span></span><br><span class="line">        <span class="attr">char</span> <span class="string">c;</span></span><br><span class="line">        <span class="attr">boolean</span> <span class="string">hasSep;</span></span><br><span class="line">        <span class="attr">boolean</span> <span class="string">precedingBackslash;</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">while</span> <span class="string">((limit = lr.readLine()) &gt;= 0) &#123;</span></span><br><span class="line">            <span class="attr">c</span> = <span class="string">0;</span></span><br><span class="line">            <span class="attr">keyLen</span> = <span class="string">0;</span></span><br><span class="line">            <span class="attr">valueStart</span> = <span class="string">limit;</span></span><br><span class="line">            <span class="attr">hasSep</span> = <span class="string">false;</span></span><br><span class="line"></span><br><span class="line">            <span class="meta">//System.out.println(&quot;line</span>=<span class="string">&lt;&quot; + new String(lineBuf, 0, limit) + &quot;&gt;&quot;);</span></span><br><span class="line">            <span class="attr">precedingBackslash</span> = <span class="string">false;</span></span><br><span class="line">            <span class="attr">while</span> <span class="string">(keyLen &lt; limit) &#123;</span></span><br><span class="line">                <span class="attr">c</span> = <span class="string">lr.lineBuf[keyLen];</span></span><br><span class="line">                <span class="meta">//need</span> <span class="string">check if escaped.</span></span><br><span class="line">                <span class="attr">if</span> <span class="string">((c == &#x27;=&#x27; ||  c == &#x27;:&#x27;) &amp;&amp; !precedingBackslash) &#123;</span></span><br><span class="line">                    <span class="attr">valueStart</span> = <span class="string">keyLen + 1;</span></span><br><span class="line">                    <span class="attr">hasSep</span> = <span class="string">true;</span></span><br><span class="line">                    <span class="attr">break;</span></span><br><span class="line">                <span class="meta">&#125;</span> <span class="string">else if ((c == &#x27; &#x27; || c == &#x27;\t&#x27; ||  c == &#x27;\f&#x27;) &amp;&amp; !precedingBackslash) &#123;</span></span><br><span class="line">                    <span class="attr">valueStart</span> = <span class="string">keyLen + 1;</span></span><br><span class="line">                    <span class="attr">break;</span></span><br><span class="line">                <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">if</span> <span class="string">(c == &#x27;\\&#x27;) &#123;</span></span><br><span class="line">                    <span class="attr">precedingBackslash</span> = <span class="string">!precedingBackslash;</span></span><br><span class="line">                <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">                    <span class="attr">precedingBackslash</span> = <span class="string">false;</span></span><br><span class="line">                <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">keyLen++;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">            <span class="attr">while</span> <span class="string">(valueStart &lt; limit) &#123;</span></span><br><span class="line">                <span class="attr">c</span> = <span class="string">lr.lineBuf[valueStart];</span></span><br><span class="line">                <span class="attr">if</span> <span class="string">(c != &#x27; &#x27; &amp;&amp; c != &#x27;\t&#x27; &amp;&amp;  c != &#x27;\f&#x27;) &#123;</span></span><br><span class="line">                    <span class="attr">if</span> <span class="string">(!hasSep &amp;&amp; (c == &#x27;=&#x27; ||  c == &#x27;:&#x27;)) &#123;</span></span><br><span class="line">                        <span class="attr">hasSep</span> = <span class="string">true;</span></span><br><span class="line">                    <span class="meta">&#125;</span> <span class="string">else &#123;</span></span><br><span class="line">                        <span class="attr">break;</span></span><br><span class="line">                    <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">&#125;</span></span><br><span class="line">                <span class="attr">valueStart++;</span></span><br><span class="line">            <span class="attr">&#125;</span></span><br><span class="line">            <span class="attr">String</span> <span class="string">key = loadConvert(lr.lineBuf, 0, keyLen, convtBuf);</span></span><br><span class="line">            <span class="attr">String</span> <span class="string">value = loadConvert(lr.lineBuf, valueStart, limit - valueStart, convtBuf);</span></span><br><span class="line">            <span class="meta">put(key,</span> <span class="string">value);</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="Properties处理配置文件"><a href="#Properties处理配置文件" class="headerlink" title="Properties处理配置文件"></a>Properties处理配置文件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Properties prop=<span class="keyword">new</span> Properties();</span><br><span class="line">    FileInputStream fileInputStream=<span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line">        prop.load(fileInputStream);</span><br><span class="line">        String name=prop.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (fileInputStream!=<span class="keyword">null</span>)&#123;</span><br><span class="line">                fileInputStream.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-collections工具类"><a href="#3-collections工具类" class="headerlink" title="3.collections工具类"></a>3.collections工具类</h2><p>Collections工具类：操作set，map，list的工具类</p>
<h3 id="面试题：Collection和Collections的区别："><a href="#面试题：Collection和Collections的区别：" class="headerlink" title="面试题：Collection和Collections的区别："></a>面试题：Collection和Collections的区别：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    ArrayList&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="keyword">new</span> Integer(<span class="number">1</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Integer(<span class="number">2</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Integer(<span class="number">3</span>));</span><br><span class="line">    Collections.reverse(list);<span class="comment">//反转list本身</span></span><br><span class="line">    Collections.shuffle(list);<span class="comment">//随机化处理</span></span><br><span class="line">   <span class="comment">// Collections.sort(list);//升序排序</span></span><br><span class="line">    Collections.swap(list,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//交换两处位置的元素</span></span><br><span class="line">    Collections.frequency(list,<span class="number">1</span>);<span class="comment">//指定元素出现的次数</span></span><br><span class="line">    <span class="comment">//同步控制</span></span><br><span class="line">    List&lt;Object&gt; list1 = Collections.synchronizedList(list);<span class="comment">//返回的list1就是线程安全的list</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="十，泛型"><a href="#十，泛型" class="headerlink" title="十，泛型"></a>十，泛型</h1><p>jdk1.5新特性泛型</p>
<p>把元素的类型设计成一个参数，这个参数类型叫做泛型。</p>
<p>为什么要使用泛型？</p>
<p>1.类型无限制，类型不安全。</p>
<p>2.类型强制转换时，容易出现异常。</p>
<p>ClassCastException</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">集合中使用泛型</span></span><br><span class="line"><span class="attr">集合接口或类在jdk5.0都修改为带泛型的结构。</span></span><br><span class="line"><span class="attr">在实例化集合类时，可以指明泛型的类型。</span></span><br><span class="line"><span class="attr">指明完以后，在集合类或接口中，凡是定义接口或类时，内部结构使用到类的泛型位置，都指定为实例化的泛型。</span></span><br><span class="line"><span class="attr">泛型的类型必须是一个类。，使用基本数据类型时，需要转换为包装类。</span></span><br><span class="line"><span class="attr">如果实例化时未指明泛型，默认为Object类型。</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    list.add(<span class="number">99</span>);</span><br><span class="line">    list.add(<span class="number">100</span>);</span><br><span class="line">    list.add(<span class="number">88</span>);</span><br><span class="line">    <span class="keyword">for</span> (Integer integer:list)&#123;</span><br><span class="line">        System.out.print(integer+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">    System.out.println(<span class="string">&quot;-------------------------------------------------------&quot;</span>);</span><br><span class="line">    Iterator&lt;Integer&gt; iterator = list.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.print(iterator.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;-------------------------------------------------------&quot;</span>);</span><br><span class="line">    HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;第一个&quot;</span>,<span class="number">123</span>);</span><br><span class="line">    map.put(<span class="string">&quot;第二个&quot;</span>,<span class="number">456</span>);</span><br><span class="line">    map.put(<span class="string">&quot;第个&quot;</span>,<span class="number">789</span>);</span><br><span class="line">    Set&lt;Map.Entry&lt;String, Integer&gt;&gt; set = map.entrySet();</span><br><span class="line">    Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; iterator1 = set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator1.hasNext())&#123;</span><br><span class="line">        System.out.print(iterator1.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;-------------------------------------------------------------&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自定义泛型结构：泛型类，接口，方法"><a href="#自定义泛型结构：泛型类，接口，方法" class="headerlink" title="自定义泛型结构：泛型类，接口，方法"></a>自定义泛型结构：泛型类，接口，方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 泛型类被某个类继承：</span></span><br><span class="line"><span class="comment"> * ①public class SubOrder extends Order&lt;Integer&gt;//此时子类时普通类</span></span><br><span class="line"><span class="comment"> * 由于子类在继承带泛型的父类时，指明了泛型类型，则实例化子类对象时，不再需要指明泛型。</span></span><br><span class="line"><span class="comment"> * ②public class SubOrder1&lt;T&gt; extends Order&lt;T&gt;//此时子类也是泛型类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 自定义泛型的注意点</span></span><br><span class="line"><span class="comment"> * ①泛型不同的引用不能相互赋值</span></span><br><span class="line"><span class="comment"> * ArrayList&lt;Integer&gt;list1=null;</span></span><br><span class="line"><span class="comment"> * ArrayList&lt;String&gt;list2=null;</span></span><br><span class="line"><span class="comment"> * 此时list1和list2不能相互赋值。</span></span><br><span class="line"><span class="comment"> * ②类型推断</span></span><br><span class="line"><span class="comment"> * Order&lt;String&gt; order1 = new Order&lt;&gt;();</span></span><br><span class="line"><span class="comment"> * ③静态方法中不能使用类的泛型</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 泛型方法：在方法中出现了泛型的结构，泛型参数与类的泛型参数没有任何关系。</span></span><br><span class="line"><span class="comment"> * 换句话说，泛型方法所属的类是不是泛型类都没有关系。</span></span><br><span class="line"><span class="comment"> * 泛型方法可以声明为静态的。原因：泛型参数是在调用方法时确定的。并非在实例化类时确定。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yinhuidong</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@createTime</span> 2020-04-10-15:23</span></span><br><span class="line"><span class="comment"> * 案例需求：</span></span><br><span class="line"><span class="comment"> * 一个学生类包含两个属性：String类型的name和不确定类型的score</span></span><br><span class="line"><span class="comment"> * 老师一登记成绩：优秀，良好，及格</span></span><br><span class="line"><span class="comment"> * 老师二登记成绩：89.5,100.。。。</span></span><br><span class="line"><span class="comment"> * 老师三登记成绩：A,B,C，</span></span><br><span class="line"><span class="comment"> * 需求二：</span></span><br><span class="line"><span class="comment"> * 一个指定类型的学生类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实例化子类对象时，指明带泛型的类型</span></span><br><span class="line">        <span class="comment">//泛型不指定就相当于默认Object类型</span></span><br><span class="line">        <span class="comment">//如果泛型结构是借口或抽象类，不可以实例化对象</span></span><br><span class="line">        <span class="comment">//静态方法中不能使用类的泛型，原因：类的泛型是在对象实例化时指定的，而静态方法是在类加载时加载的</span></span><br><span class="line">        <span class="comment">//异常类不能声明为泛型类</span></span><br><span class="line">        <span class="comment">//jdk1.8类型推断</span></span><br><span class="line">        Student&lt;String&gt; student = <span class="keyword">new</span> Student&lt;&gt;(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;优秀&quot;</span>);</span><br><span class="line">        Student&lt;Double&gt; student1 = <span class="keyword">new</span> Student&lt;&gt;(<span class="string">&quot;李四&quot;</span>, <span class="number">90.5</span>);</span><br><span class="line">        Student&lt;Character&gt; student2 = <span class="keyword">new</span> Student&lt;&gt;(<span class="string">&quot;王五&quot;</span>, <span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//由于子类在继承带泛型的父类时，指明了带泛型的类型，则实例化子类对象时，不再需要指明泛型。</span></span><br><span class="line"></span><br><span class="line">        Student2 student = <span class="keyword">new</span> Student2(<span class="string">&quot;zhangsan&quot;</span>, <span class="string">&quot;优秀&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Integer[] arr = <span class="keyword">new</span> Integer[<span class="number">4</span>];</span><br><span class="line">        arr[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        arr[<span class="number">1</span>]=<span class="number">2</span>;</span><br><span class="line">        arr[<span class="number">2</span>]=<span class="number">3</span>;</span><br><span class="line">        arr[<span class="number">3</span>]=<span class="number">4</span>;</span><br><span class="line">        Student2 student = <span class="keyword">new</span> Student2();</span><br><span class="line">        <span class="comment">//泛型方法在调用时指明泛型参数的类型</span></span><br><span class="line">        List&lt;Integer&gt; list = student.copy(arr);</span><br><span class="line">        <span class="keyword">for</span> (Integer i:list)&#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> T score;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, T score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getScore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setScore</span><span class="params">(T score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, score=&quot;</span> + score +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student2</span> <span class="keyword">extends</span> <span class="title">Student</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student2</span><span class="params">(String name, String score)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name, score);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 泛型方法：</span></span><br><span class="line"><span class="comment">     * 在方法中出现了泛型结构，泛型参数与类的泛型参数没有任何关系</span></span><br><span class="line"><span class="comment">     * 泛型方法可以声明为static，原因：泛型参数是在调用方法时确定的，而不是在实例化类时确定的</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> &lt;E&gt; <span class="function">List&lt;E&gt; <span class="title">copy</span><span class="params">(E[] arr)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;E&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (E e : arr) &#123;</span><br><span class="line">            list.add(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="通配符的使用"><a href="#通配符的使用" class="headerlink" title="通配符的使用"></a>通配符的使用</h2><p>类A是类B的父类，G<a href="">和G<strong>是没有关系的，二者共有的父类是G&lt;?&gt;。</strong></a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yinhuidong</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@createTime</span> 2020-04-10-15:57</span></span><br><span class="line"><span class="comment"> * 1.泛型在继承方面的提现</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 2.通配符的使用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 泛型在继承方面的提现</span></span><br><span class="line"><span class="comment">     * 类A是类B的父类，</span></span><br><span class="line"><span class="comment">     * G&lt;A&gt;和G&lt;B&gt;不具有子父类关系</span></span><br><span class="line"><span class="comment">     * 二者是并列关系,二者公共的父类时G&lt;?&gt;</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * 类A是类B的父类，A&lt;G&gt;是B&lt;G&gt;的子父类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Object&gt; list1=<span class="keyword">null</span>;</span><br><span class="line">        List&lt;Integer&gt; list2=<span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">//此时的list1和list2类型不具有子父类关系</span></span><br><span class="line">        <span class="comment">//list1=list2;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 通配符的使用</span></span><br><span class="line"><span class="comment">     * ？</span></span><br><span class="line"><span class="comment">     * 有限制条件的通配符的使用</span></span><br><span class="line"><span class="comment">     * &lt;? extends Person&gt; ？代表的类型必须是Person的子类</span></span><br><span class="line"><span class="comment">     * &lt;? implement PersonDao&gt; ？代表的类型必须实现了PersonDao接口</span></span><br><span class="line"><span class="comment">     * &lt;? super Person&gt; ？代表的类型必须是Person或Person的父类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(List&lt;?&gt; list)</span></span>&#123;</span><br><span class="line">        <span class="comment">//list.add(1);</span></span><br><span class="line">        <span class="comment">//此时list&lt;?&gt;并不能再添加数据（null除外）</span></span><br><span class="line">        list.add(<span class="keyword">null</span>);</span><br><span class="line">        Iterator&lt;?&gt; iterator = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//读取数据：允许，返回类型为Object类型</span></span><br><span class="line">        Object o = list.get(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">1</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        list.add(<span class="number">3</span>);</span><br><span class="line">        show(list);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">二十</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yinhuidong.github.io/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/JAVA-SE%E6%A0%B8%E5%BF%83%E5%9F%BA%E7%A1%80%E7%AF%87/">https://yinhuidong.github.io/2022/01/12/JAVA基础/JAVA-SE核心基础篇/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://yinhuidong.github.io" target="_blank">二十</a> 许可协议。转载请注明来自 <a href="https://yinhuidong.github.io" target="_blank">二十</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JAVA%E5%9F%BA%E7%A1%80/">JAVA基础</a></div><div class="post_share"><div class="social-share" data-image="/images/cover/JAVA.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat_pay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat_pay.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/JAVA-SE%E6%A0%B8%E5%BF%83%E9%AB%98%E7%BA%A7%E7%AF%87/"><img class="prev-cover" src="/images/cover/JAVA.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">JAVA-SE核心高级篇</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/12/ElasticSearch/Elasticsearch%20%E4%BC%98%E5%8C%96%E4%B8%8E%E5%B0%8F%E7%BB%93/"><img class="next-cover" src="/images/cover/Elasticsearch.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Elasticsearch优化&amp;总结</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/Java8%E6%96%B0%E7%89%B9%E6%80%A7/" title="JAVA-SE新特性"><img class="cover" src="/images/cover/JAVA.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-12</div><div class="title">JAVA-SE新特性</div></div></a></div><div><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/JAVA-SE%E6%A0%B8%E5%BF%83%E9%AB%98%E7%BA%A7%E7%AF%87/" title="JAVA-SE核心高级篇"><img class="cover" src="/images/cover/JAVA.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-12</div><div class="title">JAVA-SE核心高级篇</div></div></a></div><div><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90HashMap%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/" title="HashMap"><img class="cover" src="/images/cover/JAVA.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-12</div><div class="title">HashMap</div></div></a></div><div><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/%E9%9D%A2%E8%AF%95%E9%A2%98%E8%B8%A9%E5%9D%91%E4%B9%8BString/" title="字符串踩坑"><img class="cover" src="/images/cover/JAVA.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-12</div><div class="title">字符串踩坑</div></div></a></div><div><a href="/2022/01/12/JAVA%E5%9F%BA%E7%A1%80/java%E5%9F%BA%E7%A1%80%E4%B9%8BWeb%E5%85%A8%E5%A5%97%E7%9F%A5%E8%AF%86%E7%82%B9%E6%A2%B3%E7%90%86/" title="JAVA-WEB"><img class="cover" src="/images/cover/JAVA.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-12</div><div class="title">JAVA-WEB</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">二十</div><div class="author-info__description">欢迎来到二十的博客....</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">119</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">14</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yinhuidong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/yinhuidong" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1972039773@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">欢迎来到二十的个人博客，联系作者：VX：yinhuidong666</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%EF%BC%8Cjava%E8%AF%AD%E8%A8%80%E6%A6%82%E8%BF%B0"><span class="toc-text">一，java语言概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8Dos%E5%91%BD%E4%BB%A4"><span class="toc-text">1.常用Dos命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%EF%BC%8Cjava%E8%AF%AD%E8%A8%80%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%8F%8A%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B"><span class="toc-text">2，java语言运行机制及运行过程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-jdk%EF%BC%8Cjre%EF%BC%8Cjvm%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">3.jdk，jre，jvm的关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-text">4 环境变量的配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-HelloWorld"><span class="toc-text">5.HelloWorld</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%B3%A8%E9%87%8A"><span class="toc-text">6 注释</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%EF%BC%8Cjava%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">二，java基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E4%BF%9D%E7%95%99%E5%AD%97"><span class="toc-text">1.关键字和保留字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="toc-text">2.标识符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8F%98%E9%87%8F"><span class="toc-text">3.变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">4.运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-text">5.流程控制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%EF%BC%8C%E6%95%B0%E7%BB%84"><span class="toc-text">三，数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">1.一维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%95%B0%E7%BB%84%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="toc-text">1）数组默认值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E4%B8%80%E4%BD%8D%E6%95%B0%E7%BB%84%E5%86%85%E5%AD%98%E8%A7%A3%E6%9E%90"><span class="toc-text">2）一位数组内存解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text">2.二维数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">1）二维数组的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E9%BB%98%E8%AE%A4%E5%88%9D%E5%A7%8B%E5%80%BC"><span class="toc-text">2）二维数组默认初始值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E7%9A%84%E5%86%85%E5%AD%98%E8%A7%A3%E6%9E%90"><span class="toc-text">3）二维数组的内存解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E7%BB%84%E4%B8%AD%E8%AE%BE%E8%AE%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%EF%BC%9A"><span class="toc-text">3.数组中设计的常见算法：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Arrays%E5%B7%A5%E5%85%B7%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">4.Arrays工具类的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8"><span class="toc-text">5.数组中的常见异常</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%EF%BC%8C%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">四，面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F%EF%BC%88%E5%B1%9E%E6%80%A7%EF%BC%89%E4%B8%8E%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">1.成员变量（属性）与局部变量的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-return%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">2.return关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84"><span class="toc-text">3.对象数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1%E4%B8%8E%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="toc-text">4.匿名对象与方法重载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1"><span class="toc-text">匿名对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E8%BD%BD"><span class="toc-text">方法重载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%8F%AF%E5%8F%98%E4%B8%AA%E6%95%B0%E5%BD%A2%E5%8F%82%E4%B8%8E%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="toc-text">5.可变个数形参与变量赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E4%B8%AA%E6%95%B0%E5%BD%A2%E5%8F%82"><span class="toc-text">可变个数形参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="toc-text">变量赋值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%80%BC%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6%E4%B8%8E%E9%80%92%E5%BD%92%E6%96%B9%E6%B3%95"><span class="toc-text">6.值传递机制与递归方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%80%BC%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6"><span class="toc-text">值传递机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%96%B9%E6%B3%95"><span class="toc-text">递归方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%B0%81%E8%A3%85%E5%92%8C%E9%9A%90%E8%97%8F"><span class="toc-text">7.封装和隐藏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85%E5%92%8C%E9%9A%90%E8%97%8F%EF%BC%9A"><span class="toc-text">封装和隐藏：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%9A"><span class="toc-text">权限修饰符：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%99%A8%EF%BC%9Aconstruct"><span class="toc-text">构造器：construct</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E7%9A%84%E5%85%88%E5%90%8E%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-text">属性赋值的先后顺序：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#javabean"><span class="toc-text">javabean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97this%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">关键字this的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MVC%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-text">MVC设计模式：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E6%80%A7%EF%BC%9Aextends"><span class="toc-text">继承性：extends</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Eclipse%E4%B8%AD%E7%9A%84Debug"><span class="toc-text">8.Eclipse中的Debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99%E4%B8%8E%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">9.方法重写与权限修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text">方法重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">权限修饰符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-super%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">10.super关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E5%AD%90%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%85%A8%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="toc-text">11.子类对象实例化全过程：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E5%90%91%E4%B8%8B%E8%BD%AC%E5%9E%8B"><span class="toc-text">12.向下转型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-instanceof%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%9A"><span class="toc-text">13.instanceof关键字：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-java-lang-Object"><span class="toc-text">14.java.lang.Object</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E5%92%8Cequals-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">15.&#x3D;&#x3D;和equals()的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-equals%EF%BC%88%EF%BC%89%E6%96%B9%E6%B3%95%E7%9A%84%E9%87%8D%E5%86%99%EF%BC%9A"><span class="toc-text">16.equals（）方法的重写：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-Object%E7%B1%BB%E4%B8%ADtoString-%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-text">17.Object类中toString()的使用：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-text">18.包装类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-static%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">19.static关键字</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%8F%98%E9%87%8F%E4%B8%8E%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E7%9A%84%E5%86%85%E5%AD%98%E8%A7%A3%E6%9E%90"><span class="toc-text">类变量与实例变量的内存解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%9A"><span class="toc-text">20.单例设计模式：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-%E4%BB%A3%E7%A0%81%E5%9D%97%EF%BC%9A%E5%92%8C%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC%E9%A1%BA%E5%BA%8F%E5%AE%8C%E7%BB%93%E7%AF%87"><span class="toc-text">21.代码块：和属性赋值顺序完结篇</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-final%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">22.final关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-%E6%8A%BD%E8%B1%A1%E7%B1%BB%E4%B8%8E%E6%8A%BD%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-text">23.抽象类与抽象方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-%E6%8E%A5%E5%8F%A3%EF%BC%9Ainterface"><span class="toc-text">24.接口：interface</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%9A"><span class="toc-text">接口的应用：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="toc-text">代理模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-text">工厂模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-%E5%86%85%E9%83%A8%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-text">25.内部类的使用：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%EF%BC%8C%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">五，异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%BC%82%E5%B8%B8%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">1.异常的体系结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6%E4%B8%80%EF%BC%9A"><span class="toc-text">2.异常处理机制一：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E6%9C%BA%E5%88%B6%E4%BA%8C%EF%BC%9AThrows-%E5%BC%82%E5%B8%B8%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.异常处理机制二：Throws +异常类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%89%8B%E5%8A%A8%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%BC%82%E5%B8%B8%E5%AF%B9%E8%B1%A1%E5%B9%B6%E6%8A%9B%E5%87%BA%EF%BC%9Athrow"><span class="toc-text">4.手动生成一个异常对象并抛出：throw</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%EF%BC%9A"><span class="toc-text">5.用户自定义异常：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%EF%BC%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">六，多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%A6%82%E5%BF%B5"><span class="toc-text">1）概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E4%BC%98%E7%82%B9"><span class="toc-text">2）优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89%E4%BD%95%E6%97%B6%E9%9C%80%E8%A6%81"><span class="toc-text">3）何时需要</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E7%BB%A7%E6%89%BFThread%E7%B1%BB"><span class="toc-text">2.创建线程的方式一：继承Thread类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">1）线程的常用方法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7%EF%BC%9A"><span class="toc-text">2）线程优先级：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%A4%9A%E7%AA%97%E5%8F%A3%E5%8D%96%E7%A5%A8"><span class="toc-text">3）案例：多窗口卖票</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E5%AE%9E%E7%8E%B0runnerable%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-text">3.创建多线程的方式二：实现runnerable接口的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%A4%9A%E7%AA%97%E5%8F%A3%E5%8D%96%E7%A5%A8"><span class="toc-text">1）案例：多窗口卖票</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">2）线程的生命周期</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%90%8C%E6%AD%A5"><span class="toc-text">4.线程的同步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BFThread%E7%B1%BB%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%AA%97%E5%8F%A3%E5%8D%96%E7%A5%A8"><span class="toc-text">通过继承Thread类实现多窗口卖票</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BFRunnable%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%A4%9A%E7%AA%97%E5%8F%A3%E5%8D%96%E7%A5%A8"><span class="toc-text">继承Runnable方式实现多窗口卖票</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BFThread%E7%B1%BB%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">通过继承Thread类来创建多线程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BFrunnable%E6%96%B9%E5%BC%8F%E6%9D%A5%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-text">通过继承runnable方式来创建多线程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%87%92%E6%B1%89%E5%BC%8F"><span class="toc-text">5.线程安全的单例模式之懒汉式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E9%80%9A%E8%BF%87%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97%E8%A7%A3%E5%86%B3%E6%87%92%E6%B1%89%E5%BC%8F%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-text">1）通过同步代码块解决懒汉式单例设计模式的线程安全问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E9%80%9A%E8%BF%87%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95%E8%A7%A3%E5%86%B3%E6%87%92%E6%B1%89%E5%BC%8F%E5%8D%95%E4%BE%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-text">2）通过同步方法解决懒汉式单例设计模式的线程安全问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%AD%BB%E9%94%81%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-text">6.死锁的问题：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-Lock%E9%94%81%E6%96%B9%E5%BC%8F%E8%A7%A3%E5%86%B3%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-text">7.Lock锁方式解决线程安全问题：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98%EF%BC%9A"><span class="toc-text">练习题：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E7%BA%BF%E7%A8%8B%E7%9A%84%E9%80%9A%E4%BF%A1%EF%BC%9A"><span class="toc-text">8.线程的通信：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E4%BE%8B%E9%A2%98%EF%BC%9A%E7%94%9F%E4%BA%A7%E8%80%85%E5%92%8C%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98%EF%BC%9A"><span class="toc-text">经典例题：生产者和消费者问题：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E4%B8%89%EF%BC%9A%E5%AE%9E%E7%8E%B0Callable%E6%8E%A5%E5%8F%A3"><span class="toc-text">9.创建多线程的方式三：实现Callable接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%88%9B%E5%BB%BA%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%96%B9%E5%BC%8F%E5%9B%9B%EF%BC%9A%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-text">10.创建多线程的方式四：使用线程池</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%EF%BC%8C%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="toc-text">七，常用类</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-String"><span class="toc-text">1.String</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89String%E5%86%85%E5%AD%98%E8%A7%A3%E6%9E%90"><span class="toc-text">1）String内存解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89String%E5%88%86%E6%9E%90"><span class="toc-text">2）String分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89String%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-text">3）String实例化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%89%E5%9B%BE%E8%A7%A3%E4%B8%A4%E7%A7%8D%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">4）图解两种创建字符串方式的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%89%E5%9B%BE%E8%A7%A3%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-text">5）图解字符串的存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%89%E5%9B%BE%E8%A7%A3%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AD%98%E5%82%A8"><span class="toc-text">6）图解字符串对象的存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%89String%E4%B8%8D%E5%90%8C%E6%8B%BC%E6%8E%A5%E6%93%8D%E4%BD%9C%E7%9A%84%E5%AF%B9%E6%AF%94%EF%BC%9A"><span class="toc-text">7）String不同拼接操作的对比：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-text">面试题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%EF%BC%89String%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">8）String的常用方法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%EF%BC%89String%E5%92%8C%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">9）String和其他类型之间的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%EF%BC%89String%E7%9A%84%E5%9B%9B%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A"><span class="toc-text">10）String的四道面试题：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%EF%BC%89StringBuffer%E5%92%8CStringBuilder"><span class="toc-text">11）StringBuffer和StringBuilder</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98-1"><span class="toc-text">面试题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#String%EF%BC%8CStringBuffer%EF%BC%8CStringBuilder%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">String，StringBuffer，StringBuilder的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="toc-text">2.时间日期类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89jdk8%E4%B9%8B%E5%89%8D%E7%9A%84%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9FAPI"><span class="toc-text">1）jdk8之前的时间日期API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-text">①时间戳</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1java-util-Date"><span class="toc-text">②java.util.Date</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2java-sql-Date"><span class="toc-text">③java.sql.Date</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3SimpleDateFormat%E7%B1%BB"><span class="toc-text">④SimpleDateFormat类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4Calendar%E6%97%A5%E5%8E%86%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8-%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="toc-text">⑤Calendar日历类的使用(抽象类)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5%E7%BB%83%E4%B9%A0"><span class="toc-text">⑥练习</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B22020-09-08%E8%BD%AC%E6%8D%A2%E4%B8%BAjava-sql-Date"><span class="toc-text">字符串2020-09-08转换为java.sql.Date</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B8%94%E5%A4%AB%E4%B8%89%E5%A4%A9%E6%89%93%E9%B1%BC%EF%BC%8C%E4%B8%A4%E5%A4%A9%E6%99%92%E7%BD%91%E3%80%821990-01-01"><span class="toc-text">渔夫三天打鱼，两天晒网。1990-01-01</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89jdk8%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9FAPI"><span class="toc-text">2）jdk8时间日期API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0LocalDate-LocalTime-LocalDateTime%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">①LocalDate,LocalTime,LocalDateTime的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1Instant%E7%B1%BB"><span class="toc-text">②Instant类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%88%96%E8%80%85%E8%A7%A3%E6%9E%90%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F"><span class="toc-text">③格式化或者解析时间日期</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%AF%94%E8%BE%83%E5%99%A8%E4%B8%8E%E5%85%B6%E4%BB%96%E7%B1%BB"><span class="toc-text">3.比较器与其他类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%AF%94%E8%BE%83%E5%99%A8"><span class="toc-text">1）比较器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89Math%E7%B1%BB"><span class="toc-text">2）Math类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89BigInteger%E5%92%8CBigDecimal"><span class="toc-text">3）BigInteger和BigDecimal</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AB%EF%BC%8C%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%92%8C%E6%B3%A8%E8%A7%A3"><span class="toc-text">八，枚举类和注解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-text">1.枚举类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%9E%9A%E4%B8%BE%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">1）枚举类的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-text">2）如何定义枚举类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9Ajdk5-0%E4%B9%8B%E5%89%8D%E8%87%AA%E5%AE%9A%E4%B9%89%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-text">方式一：jdk5.0之前自定义枚举类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jdk5-0%E4%BD%BF%E7%94%A8enum%E5%85%B3%E9%94%AE%E5%AD%97%E5%AE%9A%E4%B9%89%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-text">jdk5.0使用enum关键字定义枚举类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89Enum%E7%B1%BB%E4%B8%AD%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">3）Enum类中常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%89%E4%BD%BF%E7%94%A8enum%E5%85%B3%E9%94%AE%E5%AD%97%E5%AE%9A%E4%B9%89%E7%9A%84%E6%9E%9A%E4%B8%BE%E7%B1%BB%E5%AE%9E%E7%8E%B0%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-text">4）使用enum关键字定义的枚举类实现接口的情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%B3%A8%E8%A7%A3"><span class="toc-text">2.注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Annotation%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-text">1.Annotation使用示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%85%83%E6%B3%A8%E8%A7%A3"><span class="toc-text">2.自定义注解与元注解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Retention"><span class="toc-text">1.Retention</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Target"><span class="toc-text">2.Target</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Documented"><span class="toc-text">3.Documented</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-Inherited"><span class="toc-text">4.Inherited</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-jdk8%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-text">3.jdk8新特性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%8F%AF%E9%87%8D%E5%A4%8D%E6%B3%A8%E8%A7%A3"><span class="toc-text">1.可重复注解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%B1%BB%E5%9E%8B%E6%B3%A8%E8%A7%A3"><span class="toc-text">2.类型注解</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%EF%BC%8C%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6"><span class="toc-text">九，集合框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-collection%E6%8E%A5%E5%8F%A3"><span class="toc-text">1.collection接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89Java%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E7%9A%84%E6%A6%82%E8%BF%B0"><span class="toc-text">1）Java集合框架的概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6"><span class="toc-text">集合框架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Collection%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">Collection接口中的方法的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Iterator%E9%81%8D%E5%8E%86Colllection%E9%9B%86%E5%90%88"><span class="toc-text">使用Iterator遍历Colllection集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-text">增强for循环遍历集合</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%BC%89list"><span class="toc-text">2）list</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83ArrayList%EF%BC%8CLinkedList%EF%BC%8CVector"><span class="toc-text">比较ArrayList，LinkedList，Vector</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%E6%8E%A5%E5%8F%A3%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%B5%8B%E8%AF%95%EF%BC%9A"><span class="toc-text">List接口常用方法测试：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%E9%81%8D%E5%8E%86%EF%BC%8C%E5%8F%8A%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93"><span class="toc-text">List遍历，及方法总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%E7%9A%84%E4%B8%80%E9%81%93%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-text">List的一道面试题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ArrayList%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-text">ArrayList源码分析：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LinkedList%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">LinkedList源码分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vector%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">Vector源码分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%BC%89set"><span class="toc-text">3）set</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98-2"><span class="toc-text">面试题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet"><span class="toc-text">HashSet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LinkedHashSet"><span class="toc-text">LinkedHashSet</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TreeSet%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">TreeSet的使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-map%E6%8E%A5%E5%8F%A3"><span class="toc-text">2.map接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#HashMap"><span class="toc-text">HashMap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="toc-text">底层源码分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#LinkedHashMap"><span class="toc-text">LinkedHashMap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map%E6%8E%A5%E5%8F%A3%E4%B8%AD%E5%AE%9A%E4%B9%89%E7%9A%84%E6%96%B9%E6%B3%951"><span class="toc-text">Map接口中定义的方法1</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">Map中的常用方法二</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashTable"><span class="toc-text">HashTable</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeMap"><span class="toc-text">TreeMap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E8%87%AA%E7%84%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">①自然排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E5%AE%9A%E5%88%B6%E6%8E%92%E5%BA%8F"><span class="toc-text">②定制排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Properties"><span class="toc-text">Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Properties%E5%A4%84%E7%90%86%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">Properties处理配置文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-collections%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="toc-text">3.collections工具类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9ACollection%E5%92%8CCollections%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-text">面试题：Collection和Collections的区别：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%81%EF%BC%8C%E6%B3%9B%E5%9E%8B"><span class="toc-text">十，泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%9B%E5%9E%8B%E7%BB%93%E6%9E%84%EF%BC%9A%E6%B3%9B%E5%9E%8B%E7%B1%BB%EF%BC%8C%E6%8E%A5%E5%8F%A3%EF%BC%8C%E6%96%B9%E6%B3%95"><span class="toc-text">自定义泛型结构：泛型类，接口，方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">通配符的使用</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/01/20/MySQL/MySQL%5B%E4%BA%8C%E5%8D%81%5D%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%80%BB%E7%BB%93/" title="MySQL[二十]海量数据处理"><img src="/images/cover/mysql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL[二十]海量数据处理"/></a><div class="content"><a class="title" href="/2022/01/20/MySQL/MySQL%5B%E4%BA%8C%E5%8D%81%5D%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E6%80%BB%E7%BB%93/" title="MySQL[二十]海量数据处理">MySQL[二十]海量数据处理</a><time datetime="2022-01-19T16:00:00.000Z" title="发表于 2022-01-20 00:00:00">2022-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/17/MySQL/MySQL%5B%E5%8D%81%E4%B8%83%5D%E9%94%81%E6%A6%82%E8%BF%B0/" title="MySQL[十七]锁概述"><img src="/images/cover/mysql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL[十七]锁概述"/></a><div class="content"><a class="title" href="/2022/01/17/MySQL/MySQL%5B%E5%8D%81%E4%B8%83%5D%E9%94%81%E6%A6%82%E8%BF%B0/" title="MySQL[十七]锁概述">MySQL[十七]锁概述</a><time datetime="2022-01-16T16:00:00.000Z" title="发表于 2022-01-17 00:00:00">2022-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/16/MySQL/MySQL%5B%E5%8D%81%E5%85%AD%5D%E5%B9%B6%E5%8F%91%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6-MVCC/" title="MySQL[十六]并发版本控制-MVCC"><img src="/images/cover/mysql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL[十六]并发版本控制-MVCC"/></a><div class="content"><a class="title" href="/2022/01/16/MySQL/MySQL%5B%E5%8D%81%E5%85%AD%5D%E5%B9%B6%E5%8F%91%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6-MVCC/" title="MySQL[十六]并发版本控制-MVCC">MySQL[十六]并发版本控制-MVCC</a><time datetime="2022-01-15T16:00:00.000Z" title="发表于 2022-01-16 00:00:00">2022-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/15/MySQL/MySQL%5B%E5%8D%81%E4%BA%94%5Dundo%E6%97%A5%E5%BF%97/" title="MySQL[十五]undo日志"><img src="/images/cover/mysql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL[十五]undo日志"/></a><div class="content"><a class="title" href="/2022/01/15/MySQL/MySQL%5B%E5%8D%81%E4%BA%94%5Dundo%E6%97%A5%E5%BF%97/" title="MySQL[十五]undo日志">MySQL[十五]undo日志</a><time datetime="2022-01-14T16:00:00.000Z" title="发表于 2022-01-15 00:00:00">2022-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/01/14/MySQL/MySQL%5B%E5%8D%81%E5%9B%9B%5Dredo%E6%97%A5%E5%BF%97/" title="MySQL[十四]redo日志"><img src="/images/cover/mysql.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL[十四]redo日志"/></a><div class="content"><a class="title" href="/2022/01/14/MySQL/MySQL%5B%E5%8D%81%E5%9B%9B%5Dredo%E6%97%A5%E5%BF%97/" title="MySQL[十四]redo日志">MySQL[十四]redo日志</a><time datetime="2022-01-13T16:00:00.000Z" title="发表于 2022-01-14 00:00:00">2022-01-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/images/cover/JAVA.png')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By 二十</div><div class="footer_custom_text">树是生活，埋的是我。看花就好，别看我落魄。</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/chocolate.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="二十,二十二十,二十二十二十,二十二十二十二十,二十二十二十二十二十" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>